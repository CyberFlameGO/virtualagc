Content-Type: text/x-zim-wiki
Wiki-Format: zim 0.4

====== Flowchart FC-2320 Incorporation in Comanche 67 ======

([[comanche-67-reconstruction|Return to main Comanche 67 reconstruction page.]])

We have the Colossus 2C revision of FC-2320, but no indication of which sheets were changed since the prior revision. I'm going to use a source-code diff of Colossus 237 vs Comanche 55 vs Artemis 71 to determine which subroutines to compare to the flowchart, ignoring all subroutines which fully match across Colossus versions. Note that sheet 2 of the flowchart is an upper-level flow, not suitable for comparison vs code; more-detailed flowcharts appear on subsequent sheets.

==== Sheet 3 ====

TFFCONIC, TFFCONMU: Identical across 237/55/71.

==== Sheet 4 ====

TFFRP/RA: Identical across 237/55/71.

==== Sheet 5-6 ====

CALCTPER, CALCTFF, MAXTFF1, INBOUND, SAVEDEN: Identical across 237/55/71.

==== Sheet 7-8 ====

TFFXTEST, NEGTFF, ENDTFF, MAXTFF: Identical across 237/55/71.

==== Sheet 9 ====

TFFELL, TFFELL1: Identical across 237/55/71.

==== Sheet 10 ====

T(X): Identical across 237/55/71.

==== Sheet 11 ====

TFF/TRIG, PREVGAM, VGAMCALC: Identical across 237/55/71.

==== Sheet 12 ====

FISHCALC: Identical across 237/55/71.

==== Sheet 13 ====

DELRSPL, CANTDO: Identical across 237/55/71.

==== Sheet 14 ====

Continuation of DELRSPL, GETARG: As for DELRSPL, it's identical across 237/55/71.

Regarding GETARG, the flowchart

{{../fc2320Sheet14.png}}

indicates that the variable LONG should be initialized as an (eventual) input for subroutine LALOTORV. The code omits doing so. In examining the code for LALOTORV, it does indeed require LONG as an input, and does use LONG in its computations.

However, this inconsistency in the source code persists throughout 237/55/71. I would infer that the flowchart is in correct in principle, but that the code fails to match the flowchart in every version. As a result, Comanche 67 should not be fixed.

Otherwise, looks okay.

==== Sheet 15 ====

AUGEKUGL, K1K2LOOP, K2CALC: As for AUGEKUGL and K1K2LOOP, they are identical across 237/55/71.

Regarding K1K2LOOP: Looks okay.

==== Sheet 16 ====

Continuation of K1K2LOOP, PHICALC, TGR26, TENT: The continuation of K1K2LOOP looks okay.

PHICALC looks okay.

TENT and TGRTENT are identical across 237/55/71.

==== Sheet 17-20 ====

Tables only, no flowcharts.

