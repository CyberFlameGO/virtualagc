<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta content="text/html;charset=ISO-8859-1" http-equiv="Content-Type">
<title>Assembly listing generated by yaYUL</title>
<style type="text/css">
p.nobreak { white-space:nowrap; }
a { text-decoration:none; }
a:visited { COLOR: #000850; }
</style>
<style type="text/css">
.op{
font-weight: bold;
color: #993300;
}
</style>
<style type="text/css">
.dn{
color: #009900;
}
</style>
<style type="text/css">
.fe{
color: #FF0000;
}
</style>
<style type="text/css">
.in{
color: #FF6600;
}
</style>
<style type="text/css">
.ps{
color: #336600;
}
</style>
<style type="text/css">
.sm{
color: #0000FF;
}
</style>
<style type="text/css">
.wn{
color: #FF9900;
}
</style>
<style type="text/css">
.co{
font-style: italic;
color: #993399;
}
</style>
</head>
<body>
<p class="nobreak">
<span style="font-family: monospace;">
<pre>
<h1>Source Code</h1>
</pre>
</span>
</p>
<table style="text-align: left;" border="1" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<td style="white-space: nowrap; vertical-align: middle;">
<img alt="" src="Apollo32.png" style="width: 32px; height: 32px;" align="left">
</td>
<td style="vertical-align: middle;">
These source code files are an attempted reconstruction of Sundance revision 306, the Apollo 9
LM (Lunar Module) AGC (Apollo Guidance Computer) flight software, created from binary dumps of
original core rope program modules, as follows:
<ul>
<li>B1 &mdash; Revision 292</li>
<li>B2 &mdash; Revision 302</li>
<li>B3 &mdash; Revision 302</li>
<li>B4 &mdash; Revision 302</li>
<li>B5 &mdash; Revision 292</li>
<li>B6 &mdash; Revision 306</li>
</ul>

These dumps were then modified using memos, checklists, observed address changes, and the
Sundance GSOPs to get the entire program to match Sundance revision 306 as closely as possible.
Without more information, it is not possible to say how close it actually is; however, this
code should be quite close. It is capable of flying the whole Apollo 9 mission using the original
checklists and padload.
Since only binary dumps (rather than listings) of Sundance are available as source material, 
all comments and labels are approximate.
They have been taken from other AGC programs where possible, or, in some places, written
from scratch to match what we believe would have been in the original listing.

</td></tr></tbody></table>

<p class="nobreak">
<span style="font-family: monospace;">
<pre>
027533,000002:                                                                                                  <span class="co">## Copyright:   Public domain.</span>
027534,000003:                                                                                                  <span class="co">## Filename:    R32.agc</span>
027535,000004:                                                                                                  <span class="co">## Purpose:     A section of an attempt to reconstruct Sundance revision 306</span>
027536,000005:                                                                                                  <span class="co">##              as closely as possible with available information. Sundance</span>
027537,000006:                                                                                                  <span class="co">##              306 is the source code for the Lunar Module's (LM) Apollo</span>
027538,000007:                                                                                                  <span class="co">##              Guidance Computer (AGC) for Apollo 9. This program was created</span>
027539,000008:                                                                                                  <span class="co">##              using the mixed-revision SundanceXXX as a starting point, and</span>
027540,000009:                                                                                                  <span class="co">##              pulling back features from Luminary 69 believed to have been</span>
027541,000010:                                                                                                  <span class="co">##              added based on memos, checklists, observed address changes,</span>
027542,000011:                                                                                                  <span class="co">##              or the Sundance GSOPs.</span>
027543,000012:                                                                                                  <span class="co">## Assembler:   yaYUL</span>
027544,000013:                                                                                                  <span class="co">## Contact:     Ron Burkey &lt;info@sandroid.org>.</span>
027545,000014:                                                                                                  <span class="co">## Website:     www.ibiblio.org/apollo/index.html</span>
027546,000015:                                                                                                  <span class="co">## Mod history: 2020-07-24 MAS  Created from SundanceXXX.</span>
027547,000016: 
027548,000017: 
027549,000018: 
027550,000019:                                                                                                  <span class="co">#  1)    ROUTINE NAME - TARGET DELTA V PROGRAM (R32).</span>
027551,000020:                                                                                                  <span class="co">#  2)    FUNCTIONAL DESCRIPTION - UPON ENTRY BY ASTRONAUT ACTION, R32 FLASHES DSKY REQUESTS TO THE ASTRONAUT</span>
027552,000021:                                                                                                  <span class="co">#        TO PROVIDE VIA DSKY (1) THE DELTA V TO BE APPLIED TO THE OTHER VEHICLE STATE VECTOR AND (2) THE</span>
027553,000022:                                                                                                  <span class="co">#        TIME (TIG) AT WHICH THE OTHER VEHICLE VELOCITY WAS CHANGED BY  EXECUTION OF A THRUSTING MANEUVER. THE</span>
027554,000023:                                                                                                  <span class="co">#        OTHER VEHICLE STATE VECTOR IS INTEGRATED TO TIG AND UPDATED BY THE ADDITION OF DELTA V (DELTA V HAVING</span>
027555,000024:                                                                                                  <span class="co">#        BEEN TRANSFORMED FROM LV TO REF COSYS).  USING INTEGRVS, THE   PROGRAM THEN INTEGRATES THE OTHER</span>
027556,000025:                                                                                                  <span class="co">#  VEHICLE STATE VECTOR TO THE STATE VECTOR OF THIS VEHICLE, THUS INSURING THAT THE W-MATRIX AND BOTH VEHICLE</span>
027557,000026:                                                                                                  <span class="co">#  STATES CORRESPOND TO THE SAME TIME.</span>
027558,000027:                                                                                                  <span class="co">#  3)    ERASABLE INITIALIZATION REQUIRED - NONE.</span>
027559,000028:                                                                                                  <span class="co">#  4)    CALLING SEQUENCES AND EXIT MODES - CALLED BY ASTRONAUT REQUEST THRU DSKY V 84 E.</span>
027560,000029:                                                                                                  <span class="co">#        EXITS BY TCF ENDOFJOB.</span>
027561,000030:                                                                                                  <span class="co">#  5)    OUTPUT - OTHER VEHICLE STATE VECTOR INTEGRATED TO TIG AND INCREMENTED BY DELTA V IN REF COSYS.</span>
027562,000031:                                                                                                  <span class="co">#        THE PUSHLIST CONTAINS THE MATRIX BY WHICH THE INPUT DELTA V MUST BE POST-MULTIPLIED TO CONVERT FROM LV</span>
027563,000032:                                                                                                  <span class="co">#        TO REF COSYS.</span>
027564,000033:                                                                                                  <span class="co">#  6)    DEBRIS - OTHER VEHICLE STATE VECTOR.</span>
027565,000034:                                                                                                  <span class="co">#  7)    SUBROUTINES CALLED - BANKCALL, GOXDSPF, CSMPREC (OR LEMPREC), ATOPCSM (OR ATOPLEM), INTSTALL, INTWAKE, PHASCHNG</span>
027566,000035:                                                                                                  <span class="co">#        INTPRET, INTEGRVS, AND MINIRECT.</span>
027567,000036:                                                                                                  <span class="co">#  8)    FLAG USE - MOONFLAG, CMOONFLAG, INTYPFLG, RASFLAG, AND MARKCTR.</span>
027568,000037: 
027569,000038: 30,2000                                           <span class="ps">BANK    </span> 30                                    
027570,000039: 13,2000                                           <span class="ps">SETLOC  </span> <a href="TAGS_FOR_RELATIVE_SETLOC_AND_BLANK_BANK_CARDS.agc.html#5233324C4F43">R32LOC</a>                                
027571,000040: 13,2000                                           <span class="ps">BANK    </span>                                       
027572,000041: 
027573,000042: 13,2161                                           <span class="ps">COUNT*  </span> $$/<a href="EXTENDED_VERBS.agc.html#523332">R32</a>                                
027574,000043: 
027575,000044: 13,2161  E7,1424                                  <span class="ps">EBANK=  </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#544947">TIG</a>                                   
027576,000045: 
<a name="4A4F42523332"></a>027577,000046: 13,2161           07766        <span class="sm">JOBR32  </span>           <span class="op">TC      </span> <a href="SERVICE_ROUTINES.agc.html#53455458445350">SETXDSP</a>                               
027578,000047: 13,2162           06014                           <span class="op">TC      </span> <a href="INTERPRETER.agc.html#494E5450524554">INTPRET</a>                               
027579,000048: 13,2163           77414                           <span class="in">SET     </span> <span class="in">EXIT      </span>                            
027580,000049: 13,2164           04061                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#523332464C4147">R32FLAG</a>                               
027581,000050: 
027582,000051: 13,2165           32310                           <span class="op">CAF     </span> <a href="#5630364E3834">V06N84</a>                                <span class="co">#  FLASH LAST DELTA V,</span>
027583,000052: 13,2166           04655                           <span class="op">TC      </span> <a href="INTER-BANK_COMMUNICATION.agc.html#42414E4B43414C4C">BANKCALL</a>                              <span class="co">#  AND WAIT FOR KEYBOARD ACTION.</span>
027584,000053: 13,2167           20226                           <span class="ps">CADR    </span> <a href="DISPLAY_INTERFACE_ROUTINES.agc.html#474F4D41524B46">GOMARKF</a>                               
027585,000054: 13,2170           02302                           <span class="op">TC      </span> <a href="#454E44523332">ENDR32</a>                                
027586,000055: 13,2171           02173                           <span class="op">TC      </span> +2                                    <span class="co">#  PROCEED</span>
027587,000056: 13,2172           02165                           <span class="op">TC      </span> -5                                    <span class="co">#  STORE DATA AND REPEAT FLASHING</span>
027588,000057: 13,2173           32311                           <span class="op">CAF     </span> <a href="#5630364E3834">V06N84</a>     +1                         <span class="co">#  FLASH VERB 06 NOUN 33, DISPLAY LAST TIG,</span>
027589,000058: 13,2174           04655                           <span class="op">TC      </span> <a href="INTER-BANK_COMMUNICATION.agc.html#42414E4B43414C4C">BANKCALL</a>                              <span class="co">#  AND WAIT FOR KEYBOARD ACTION.</span>
027590,000059: 13,2175           20226                           <span class="ps">CADR    </span> <a href="DISPLAY_INTERFACE_ROUTINES.agc.html#474F4D41524B46">GOMARKF</a>                               
027591,000060: 13,2176           02302                           <span class="op">TC      </span> <a href="#454E44523332">ENDR32</a>                                
027592,000061: 13,2177           02201                           <span class="op">TC      </span> +2                                    
027593,000062: 13,2200           02173                           <span class="op">TC      </span> -5                                    
027594,000063: 13,2201           06014                           <span class="op">TC      </span> <a href="INTERPRETER.agc.html#494E5450524554">INTPRET</a>                               <span class="co">#  RETURN TO INTERPRETIVE CODE</span>
027595,000064: 13,2202           77745                           <span class="in">DLOAD   </span>                                       <span class="co">#  SET D(MPAC)=TIG IN CSEC B28</span>
027596,000065: 13,2203           03425                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#544947">TIG</a>                                   
027597,000066: 13,2204           34041                           <span class="in">STCALL  </span> <a href="ORBITAL_INTEGRATION.agc.html#5444454331">TDEC1</a>                                 <span class="co">#  SET TDEC1=TIG FOR ORBITAL INTEGRATION</span>
027598,000067: 13,2205           27014                                    <a href="TAGS_FOR_RELATIVE_SETLOC_AND_BLANK_BANK_CARDS.agc.html#4F544850524543">OTHPREC</a>                               
<a name="434F4D504D4154"></a>027599,000068: 13,2206           53575        <span class="sm">COMPMAT </span>           <span class="in">VLOAD   </span> <span class="in">UNIT      </span>                            
027600,000069: 13,2207           00001                                    <a href="ORBITAL_INTEGRATION.agc.html#52415454">RATT</a>                                  
027601,000070: 13,2210           77676                           <span class="in">VCOMP   </span>                                       <span class="co">#  U(-R)</span>
027602,000071: 13,2211           00031                           <span class="in">STORE   </span> 24D                                   <span class="co">#  U(-R) TO 24D</span>
027603,000072: 13,2212           53435                           <span class="in">VXV     </span> <span class="in">UNIT      </span>                            <span class="co">#  U(-R) X V = U(V X R)</span>
027604,000073: 13,2213           00007                                    <a href="ORBITAL_INTEGRATION.agc.html#56415454">VATT</a>                                  
027605,000074: 13,2214           00023                           <span class="in">STORE   </span> 18D                                   
027606,000075: 13,2215           53435                           <span class="in">VXV     </span> <span class="in">UNIT      </span>                            <span class="co">#  U(V X R) X U(-R) = U((R X V) X R)</span>
027607,000076: 13,2216           00031                                    24D                                   
027608,000077: 13,2217           24015                           <span class="in">STOVL   </span> 12D                                   
027609,000078: 13,2220           02231                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#44454C564F56">DELVOV</a>                                
027610,000079: 13,2221           76505                           <span class="in">VXM     </span> <span class="in">VSL1      </span>                            <span class="co">#  V(MPAC)=DELTA V IN REFCOSYS</span>
027611,000080: 13,2222           00015                                    12D                                   
027612,000081: 13,2223           77655                           <span class="in">VAD     </span>                                       
027613,000082: 13,2224           00007                                    <a href="ORBITAL_INTEGRATION.agc.html#56415454">VATT</a>                                  
027614,000083: 13,2225           00007                           <span class="in">STORE   </span> 6                                     <span class="co">#  V(PD6)=VATT + DELTA V</span>
027615,000084: 13,2226           77624                           <span class="in">CALL    </span>                                       <span class="co">#  PREVENT WOULD-BE USER OF ORBITAL</span>
027616,000085: 13,2227           27362                                    <a href="INTEGRATION_INITIALIZATION.agc.html#494E545354414C4C">INTSTALL</a>                              <span class="co">#  INTEG FROM INTERFERING WITH UPDATING</span>
027617,000086: 13,2230           77624                           <span class="in">CALL    </span>                                       
027618,000087: 13,2231           26312                                    <a href="#52333253554231">R32SUB1</a>                               
027619,000088: 13,2232           53775                           <span class="in">VLOAD   </span> <span class="in">VSR*      </span>                            
027620,000089: 13,2233           00007                                    6                                     
027621,000090: 13,2234           57176                                    0,2                                   
027622,000091: 13,2235           25543                           <span class="in">STOVL   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#564356">VCV</a>                                   
027623,000092: 13,2236           00001                                    <a href="ORBITAL_INTEGRATION.agc.html#52415454">RATT</a>                                  
027624,000093: 13,2237           77657                           <span class="in">VSR*    </span>                                       
027625,000094: 13,2240           57176                                    0,2                                   
027626,000095: 13,2241           15535                           <span class="in">STODL   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#524356">RCV</a>                                   
027627,000096: 13,2242           03425                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#544947">TIG</a>                                   
027628,000097: 13,2243           01517                           <span class="in">STORE   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#544554">TET</a>                                   
027629,000098: 13,2244           71214                           <span class="in">CLEAR   </span> <span class="in">DLOAD     </span>                            
027630,000099: 13,2245           01673                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#494E545950464C47">INTYPFLG</a>                              
027631,000100: 13,2246           01643                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#54455454484953">TETTHIS</a>                               
<a name="494E544F54484953"></a>027632,000101: 13,2247           34041        <span class="sm">INTOTHIS</span>           <span class="in">STCALL  </span> <a href="ORBITAL_INTEGRATION.agc.html#5444454331">TDEC1</a>                                 
027633,000102: 13,2250           27060                                    <a href="INTEGRATION_INITIALIZATION.agc.html#494E544547525653">INTEGRVS</a>                              
027634,000103: 13,2251           45014                           <span class="in">SET     </span> <span class="in">CALL      </span>                            
027635,000104: 13,2252           00471                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#4E4F5550464C4147">NOUPFLAG</a>                              
027636,000105: 13,2253           27362                                    <a href="INTEGRATION_INITIALIZATION.agc.html#494E545354414C4C">INTSTALL</a>                              
027637,000106: 13,2254           77775                           <span class="in">VLOAD   </span>                                       
027638,000107: 13,2255           00017                                    <a href="ORBITAL_INTEGRATION.agc.html#5241545431">RATT1</a>                                 
027639,000108: 13,2256           01503                           <span class="in">STORE   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#5252454354">RRECT</a>                                 
027640,000109: 13,2257           15535                           <span class="in">STODL   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#524356">RCV</a>                                   
027641,000110: 13,2260           00015                                    <a href="ORBITAL_INTEGRATION.agc.html#544154">TAT</a>                                   
027642,000111: 13,2261           25517                           <span class="in">STOVL   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#544554">TET</a>                                   
027643,000112: 13,2262           00025                                    <a href="ORBITAL_INTEGRATION.agc.html#5641545431">VATT1</a>                                 
027644,000113: 13,2263           77624                           <span class="in">CALL    </span>                                       
027645,000114: 13,2264           23354                                    <a href="ORBITAL_INTEGRATION.agc.html#4D494E4952454354">MINIRECT</a>                              
027646,000115: 13,2265           77776                           <span class="in">EXIT    </span>                                       
027647,000116: 
027648,000117: 13,2266           40774                           <span class="op">CS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#524153464C4147">RASFLAG</a>                               
027649,000118: 13,2267           75025                           <span class="op">MASK    </span> <a href="FIXED-FIXED_CONSTANT_POOL.agc.html#42495432">BIT2</a>                                  
027650,000119: 13,2270           26774                           <span class="op">ADS     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#524153464C4147">RASFLAG</a>                               
027651,000120: 
027652,000121: 13,2271           06014                           <span class="op">TC      </span> <a href="INTERPRETER.agc.html#494E5450524554">INTPRET</a>                               
027653,000122: 13,2272           77624                           <span class="in">CALL    </span>                                       
027654,000123: 13,2273           26631                                    <a href="TAGS_FOR_RELATIVE_SETLOC_AND_BLANK_BANK_CARDS.agc.html#41544F504F5448">ATOPOTH</a>                               
027655,000124: 13,2274           77531                           <span class="in">SSP     </span> <span class="in">EXIT      </span>                            
027656,000125: 13,2275           00053                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#5150524554">QPRET</a>                                 
027657,000126: 13,2276           26301                                    <a href="#4F5554">OUT</a>                                   
027658,000127: 13,2277           04655                           <span class="op">TC      </span> <a href="INTER-BANK_COMMUNICATION.agc.html#42414E4B43414C4C">BANKCALL</a>                              <span class="co">#  PERMIT USE OF ORBITAL INTEGRATION</span>
027659,000128: 13,2300           27400                           <span class="ps">CADR    </span> <a href="INTEGRATION_INITIALIZATION.agc.html#494E5457414B45">INTWAKE</a>                               
<a name="4F5554"></a>027660,000129: 13,2301           77776        <span class="sm">OUT     </span>           <span class="in">EXIT    </span>                                       
<a name="454E44523332"></a>027661,000130: 13,2302           06014        <span class="sm">ENDR32  </span>           <span class="op">TC      </span> <a href="INTERPRETER.agc.html#494E5450524554">INTPRET</a>                               
027662,000131: 13,2303           77414                           <span class="in">CLEAR   </span> <span class="in">EXIT      </span>                            
027663,000132: 13,2304           04261                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#523332464C4147">R32FLAG</a>                               
027664,000133: 13,2305           35030                           <span class="op">CAF     </span> <a href="FIXED-FIXED_CONSTANT_POOL.agc.html#5A45524F">ZERO</a>                                  
027665,000134: 13,2306           55447                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4D41524B435452">MARKCTR</a>                               <span class="co">#  CLEAR RR TRACKING MARK COUNTER</span>
027666,000135: 13,2307           15564                           <span class="op">TCF     </span> <a href="DISPLAY_INTERFACE_ROUTINES.agc.html#454E44455854">ENDEXT</a>                                
027667,000136: 
<a name="5630364E3834"></a>027668,000137: 13,2310           01524        <span class="sm">V06N84  </span>           <span class="ps">NV      </span> 0684                                  
027669,000138: 13,2311           01441                           <span class="ps">NV      </span> 0633                                  
<a name="52333253554231"></a>027670,000139: 13,2312           43174        <span class="sm">R32SUB1 </span>           <span class="in">AXT,2   </span> <span class="in">SET       </span>                            
027671,000140: 13,2313           00002                                    2                                     
027672,000141: 13,2314           00063                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#4D4F4F4E464C4147">MOONFLAG</a>                              <span class="co">#  SET MEANS MOON IS SPHERE OF INFLUENCE.</span>
027673,000142: 13,2315           77014                           <span class="in">BON     </span> <span class="in">AXT,2     </span>                            
027674,000143: 13,2316           04303                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#434D4F4F4E464C47">CMOONFLG</a>                              <span class="co">#  SET MEANS PERM CM STATE IN LUNAR SPHERE.</span>
027675,000144: 13,2317           00052                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#5150524554">QPRET</a>                                 
027676,000145: 13,2320           00000                                    0                                     
027677,000146: 13,2321           43414                           <span class="in">CLEAR   </span> <span class="in">RVQ       </span>                            
027678,000147: 13,2322           00263                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#4D4F4F4E464C4147">MOONFLAG</a>                              
027679,000148: 
027680,000149: 
027681,000150: 

End of include-file R32.agc.  Parent file is <a href="MAIN.agc.html">MAIN.agc</a>
</pre>
</span>
</p>
</body>
</html>
