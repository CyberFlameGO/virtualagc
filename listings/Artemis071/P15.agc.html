<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta content="text/html;charset=ISO-8859-1" http-equiv="Content-Type">
<title>Assembly listing generated by yaYUL</title>
<style type="text/css">
p.nobreak { white-space:nowrap; }
a { text-decoration:none; }
</style>
<style type="text/css">
.op{
font-weight: bold;
color: #993300;
}
</style>
<style type="text/css">
.dn{
color: #009900;
}
</style>
<style type="text/css">
.fe{
color: #FF0000;
}
</style>
<style type="text/css">
.in{
color: #FF6600;
}
</style>
<style type="text/css">
.ps{
color: #336600;
}
</style>
<style type="text/css">
.sm{
color: #0000FF;
}
</style>
<style type="text/css">
.wn{
color: #FF9900;
}
</style>
<style type="text/css">
.co{
font-style: italic;
color: #993399;
}
</style>
</head>
<body>
<p class="nobreak">
<span style="font-family: monospace;">
<pre>
<h1>Source Code</h1>
</pre>
</span>
</p>
<table style="text-align: left;" border="1" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<td style="white-space: nowrap; vertical-align: middle;">
<img alt="" src="Apollo32.png" style="width: 32px; height: 32px;" align="left">
</td>
<td style="vertical-align: middle;">
These source-code files are part of a reconstructed copy of Artemis 071, the
first release of the Apollo 15 through 17 Command Module (CM) Apollo Guidance
Computer (AGC) software. 
<br><br>
The reconstruction began with source code of Artemis 072 previously transcribed
from a digitized copy of that program.  The code was then updated by undoing
changes between the two versions.  The reconstruction was verified by matching
memory-bank checksums to those listed in drawing 2021154-. Note that page
numbers in the reconstructed code match those on the Artemis 072 printout,
although the changed code would likely have changed page numbers for a real
Artemis 071 listing.
<br><br>
Comments from the original source code are prefixed with a single '#' symbol, 
whereas comments added later are prefixed by "##" or "###".  Report any errors 
noted by creating an 
issue report at <a href="https://github.com/rburkey2005/virtualagc/issues">the Virtual AGC
project's GitHub repository</a>.
</td></tr></tbody></table>

<p class="nobreak">
<span style="font-family: monospace;">
<pre>
023086,000002:                                                                                                  <span class="co">## Copyright:   Public domain.</span>
023087,000003:                                                                                                  <span class="co">## Filename:    P15.agc</span>
023088,000004:                                                                                                  <span class="co">## Purpose:     A section of Artemis revision 071.</span>
023089,000005:                                                                                                  <span class="co">##              It is part of the reconstructed source code for the first</span>
023090,000006:                                                                                                  <span class="co">##              release of the flight software for the Command Module's</span>
023091,000007:                                                                                                  <span class="co">##              (CM) Apollo Guidance Computer (AGC) for Apollo 15 through</span>
023092,000008:                                                                                                  <span class="co">##              17. The code has been recreated from a copy of Artemis 072.</span>
023093,000009:                                                                                                  <span class="co">##              It has been adapted such that the resulting bugger words</span>
023094,000010:                                                                                                  <span class="co">##              exactly match those specified for Artemis 071 in NASA</span>
023095,000011:                                                                                                  <span class="co">##              drawing 2021154-, which gives relatively high confidence</span>
023096,000012:                                                                                                  <span class="co">##              that the reconstruction is correct.</span>
023097,000013:                                                                                                  <span class="co">## Reference:   527</span>
023098,000014:                                                                                                  <span class="co">## Assembler:   yaYUL</span>
023099,000015:                                                                                                  <span class="co">## Contact:     Ron Burkey &lt;info@sandroid.org>.</span>
023100,000016:                                                                                                  <span class="co">## Website:     www.ibiblio.org/apollo/index.html</span>
023101,000017:                                                                                                  <span class="co">## Mod history: 2019-08-14 MAS  Created from Artemis 072.</span>
023102,000018:                                                                                                  <span class="co">##              2019-08-15 MAS  Undid changes between Artemis 071 and 072</span>
023103,000019:                                                                                                  <span class="co">##                              in the KILLSIVB logic.</span>
023104,000020: 
</pre>
</span>
</p>
<table style="text-align: left;" border="1" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<td style="white-space: nowrap; vertical-align: middle;">
<img alt="" src="Apollo32.png" style="width: 32px; height: 32px;" align="left">
</td>
<td style="vertical-align: middle;">
Page 527
</td></tr></tbody></table>
<p class="nobreak">
<span style="font-family: monospace;">
<pre>
023106,000022: 
023107,000023:                                                                                                  <span class="co">#  P15 TLI INITIATE/CUTOFF</span>
023108,000024:                                                                                                  <span class="co">#        </span>
023109,000025:                                                                                                  <span class="co">#        DISPLAYS N33 : TIME OF SIVB INJECTION SEQUENCE START (TB6)</span>
023110,000026:                                                                                                  <span class="co">#        ESTABLISHES T6SET TO BE EXECUTED AT TB6 TIME</span>
023111,000027:                                                                                                  <span class="co">#        SETS TLITIG = TB6 + 9:37.6</span>
023112,000028:                                                                                                  <span class="co">#        DISPLAYS N14 : INERTIAL VELOCITY MAGNITUDE AT TLI C/O</span>
023113,000029:                                                                                                  <span class="co">#        DISPLAYS N95 : TFI - TIME FROM TLITIG (DECREASING)</span>
023114,000030:                                                                                                  <span class="co">#                       VG  - VELOCITY-TO-BE-GAINED</span>
023115,000031:                                                                                                  <span class="co">#                       V   - INERTIAL VELOCITY MAGNITUDE</span>
023116,000032:                                                                                                  <span class="co">#        T6SET : SETS THE SIVB INJECTION SEQUENCE START BIT,</span>
023117,000033:                                                                                                  <span class="co">#        ESTABLISHES T6RESET (DT = 10 SECS), AND</span>
023118,000034:                                                                                                  <span class="co">#        TURNS ON THE UPLINK ACTIVITY LIGHT</span>
023119,000035:                                                                                                  <span class="co">#        T6RESET : CLEARS THE SIVB I.S.S. BIT AND</span>
023120,000036:                                                                                                  <span class="co">#        TURNS OFF THE UPLINK ACTIVITY LIGHT</span>
023121,000037:                                                                                                  <span class="co">#        P40S/SV : CALLS MIDTOAV1 TO INTEGRATE THE CSM</span>
023122,000038:                                                                                                  <span class="co">#        STATE VECTOR TO TLITLIG - 100 AND</span>
023123,000039:                                                                                                  <span class="co">#        ESTABLISHES TIGBLNK AT TLITIG - 105</span>
023124,000040:                                                                                                  <span class="co">#        TIGBLNK : BLANKS THE DSKY FOR 5 SECS AND</span>
023125,000041:                                                                                                  <span class="co">#        ESTABLISHES TIGAVEG FOR TLITIG - 100 </span>
023126,000042:                                                                                                  <span class="co">#        TIGAVEG : STARTS READACCS AND REDISPLAYS</span>
023127,000043:                                                                                                  <span class="co">#        N95 (VG AND V NOW DYNAMIC)</span>
023128,000044:                                                                                                  <span class="co">#        SIVBCOMP : UPDATES VG AND V AND</span>
023129,000045:                                                                                                  <span class="co">#        AFTER TLITIG + 10 CALCULATES TGO AND</span>
023130,000046:                                                                                                  <span class="co">#        CHANGES THE N95 R1 DISPLAY TO TFC</span>
023131,000047:                                                                                                  <span class="co">#        WHEN TGO &lt; 4 SECS, SIVBCOMP ESTABLISHES SIVBOFF (DT = TGO)</span>
023132,000048:                                                                                                  <span class="co">#        SIVBOFF : SHUTS DOWN THE SIVB AND CALLS POSTTLI</span>
023133,000049:                                                                                                  <span class="co">#        POSTTLI : FLASHES N95 TO INDICATE TLI IS COMPLETED</span>
023134,000050:                                                                                                  <span class="co">#        P15 EXITS VIA GOTOPOOH</span>
023135,000051: 33,2000                                           <span class="ps">SETLOC  </span> <a href="TAGS_FOR_RELATIVE_SETLOC_AND_BLANK_BANK_CARDS.agc.html#5031354C4F4331">P15LOC1</a>                               
023136,000052: 33,2000                                           <span class="ps">BANK    </span>                                       
023137,000053: 33,3455                                           <span class="ps">COUNT*  </span> $$/P15                                
023138,000054: 33,3455  E7,1412                                  <span class="ps">EBANK=  </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#544947">TIG</a>                                   
<a name="5031354A4F42"></a>023139,000055: 33,3455           35026        <span class="sm">P15JOB  </span>           <span class="op">CAF     </span> <a href="FIXED-FIXED_CONSTANT_POOL.agc.html#5630364E3333">V06N33</a>                                <span class="co">#  DISPLAY TB6 TIME</span>
023140,000056: 33,3456           05535                           <span class="op">TC      </span> <a href="DISPLAY_INTERFACE_ROUTINES.agc.html#564E464C415348">VNFLASH</a>                               
023141,000057: 33,3457           06006                           <span class="op">TC      </span> <a href="INTERPRETER.agc.html#494E5450524554">INTPRET</a>                               
023142,000058: 33,3460           43345                           <span class="in">DLOAD   </span> <span class="in">DAD       </span>                            
023143,000059: 33,3461           03413                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#544947">TIG</a>                                   
023144,000060: 33,3462           27533                                    <a href="#544C494454">TLIDT</a>                                 
023145,000061: 33,3463           03464                           <span class="in">STORE   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#544C49544D50">TLITMP</a>                                
023146,000062: 33,3464           44234                           <span class="in">RTB     </span> <span class="in">BDSU      </span>                            
023147,000063: 33,3465           51751                                    <a href="RTB_OP_CODES.agc.html#4C4F414454494D45">LOADTIME</a>                              
023148,000064: 33,3466           03413                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#544947">TIG</a>                                   
023149,000065: 33,3467           03673                           <span class="in">STORE   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#503430544D50">P40TMP</a>                                <span class="co">#  TIG-TIME2</span>
023150,000066: 33,3470           77776                           <span class="in">EXIT    </span>                                       <span class="co">#  .TO P40TMP</span>
023151,000067: 33,3471           52155                           <span class="op">DXCH    </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4D504143">MPAC</a>                                  <span class="co">#  ..AND A,L</span>
023152,000068: 33,3472           05332                           <span class="op">TC      </span> <a href="WAITLIST.agc.html#4C4F4E4743414C4C">LONGCALL</a>                              
023153,000069: 33,3473  E7,1672                                  <span class="ps">EBANK=  </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#503430544D50">P40TMP</a>                                
023154,000070: 33,3473           02311 40067                     <span class="ps">2CADR   </span> <a href="#5436534554">T6SET</a>                                 
023155,000071: 33,3475           05362                           <span class="op">TC      </span> <a href="PHASE_TABLE_MAINTENANCE.agc.html#3250485343484E47">2PHSCHNG</a>                              
</pre>
</span>
</p>
<table style="text-align: left;" border="1" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<td style="white-space: nowrap; vertical-align: middle;">
<img alt="" src="Apollo32.png" style="width: 32px; height: 32px;" align="left">
</td>
<td style="vertical-align: middle;">
Page 528
</td></tr></tbody></table>
<p class="nobreak">
<span style="font-family: monospace;">
<pre>
023157,000073: 33,3476           00153                           <span class="ps">OCT     </span> 00153                                 <span class="co">#  A,3.15=T6SET IN P40TMP CSEC</span>
023158,000074: 33,3477           24024                           <span class="ps">OCT     </span> 24024                                 <span class="co">#  C,JOB BELOW,LONGBASE FOR A ABOVE</span>
<a name="3350313553505431"></a>023159,000075: 33,3500  01,2077               <span class="sm">3P15SPT1</span>           <span class="ps">=       </span> <a href="RESTART_TABLES.agc.html#332E313553504F54">3.15SPOT</a>                              
023160,000076: 33,3500           00006                           <span class="op">EXTEND  </span>                                       
023161,000077: 33,3501           31464                           <span class="op">DCA     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#544C49544D50">TLITMP</a>                                
023162,000078: 33,3502           53413                           <span class="op">DXCH    </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#544947">TIG</a>                                   <span class="co">#  TLITIG = TB6 + 9:37.6</span>
<a name="444953503134"></a>023163,000079: 33,3503           33536        <span class="sm">DISP14  </span>           <span class="op">CAF     </span> <a href="#5630364E3134">V06N14</a>                                <span class="co">#  DISPLAY V AT TLI C/O</span>
023164,000080: 33,3504           05535                           <span class="op">TC      </span> <a href="DISPLAY_INTERFACE_ROUTINES.agc.html#564E464C415348">VNFLASH</a>                               
023165,000081: 33,3505           06006                           <span class="op">TC      </span> <a href="INTERPRETER.agc.html#494E5450524554">INTPRET</a>                               
023166,000082: 33,3506           51575                           <span class="in">VLOAD   </span> <span class="in">ABVAL     </span>                            
023167,000083: 33,3507           01563                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#565245435443534D">VRECTCSM</a>                              <span class="co">#  M/CS B+7</span>
023168,000084: 33,3510           03723                           <span class="in">STORE   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#564E4F57">VNOW</a>                                  
023169,000085: 33,3511           43021                           <span class="in">BDSU    </span> <span class="in">SET       </span>                            
023170,000086: 33,3512           02356                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#56432F4F">VC/O</a>                                  <span class="co">#       B+7</span>
023171,000087: 33,3513           03464                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#54494D52464C4147">TIMRFLAG</a>                              <span class="co">#  ENABLE CLOKTASK</span>
023172,000088: 33,3514           17725                           <span class="in">STODL   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#5647544C49">VGTLI</a>                                 <span class="co">#  VGTLI = VC/O - |VRECTCSM| B+7</span>
023173,000089: 33,3515           27535                                    <a href="#533442434F4D50">S4BCOMP</a>                               
023174,000090: 33,3516           01062                           <span class="in">STORE   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4156454745584954">AVEGEXIT</a>                              <span class="co">#  SET AVERAGEG EXIT TO SIVBCOMP</span>
023175,000091: 33,3517           77776                           <span class="in">EXIT    </span>                                       
023176,000092: 33,3520           33537                           <span class="op">CAF     </span> <a href="#5630364E3935">V06N95</a>                                
023177,000093: 33,3521           54777                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4E56574F524431">NVWORD1</a>                               <span class="co">#  ENABLE CLOCKJOB</span>
<a name="434C4F4B4E4F57"></a>023178,000094: 33,3522           34770        <span class="sm">CLOKNOW </span>           <span class="op">CAF     </span> <a href="FIXED-FIXED_CONSTANT_POOL.agc.html#4F4E45">ONE</a>                                   
023179,000095: 33,3523           05233                           <span class="op">TC      </span> <a href="WAITLIST.agc.html#574149544C495354">WAITLIST</a>                              
023180,000096: 33,3524  E7,1412                                  <span class="ps">EBANK=  </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#544947">TIG</a>                                   
023181,000097: 33,3524           03225 50067                     <span class="ps">2CADR   </span> <a href="P40-P47.agc.html#434C4F4B5441534B">CLOKTASK</a>                              
023182,000098: 
023183,000099: 33,3526           05362                           <span class="op">TC      </span> <a href="PHASE_TABLE_MAINTENANCE.agc.html#3250485343484E47">2PHSCHNG</a>                              
023184,000100: 33,3527           40036                           <span class="ps">OCT     </span> 40036                                 <span class="co">#  6.3SPOT FOR CLOKTASK</span>
023185,000101: 33,3530           00004                           <span class="ps">OCT     </span> 00004                                 <span class="co">#  KILL GROUP 4</span>
<a name="36503353505434"></a>023186,000102: 33,3531  01,2325               <span class="sm">6P3SPT4 </span>           <span class="ps">=       </span> <a href="RESTART_TABLES.agc.html#362E3353504F54">6.3SPOT</a>                               
023187,000103: 33,3531           15205                           <span class="op">TCF     </span> <a href="EXECUTIVE.agc.html#454E444F464A4F42">ENDOFJOB</a>                              
023188,000104: 
<a name="544C494454"></a>023189,000105: 33,3532           00003 20640  <span class="sm">TLIDT   </span>           <span class="ps">2DEC    </span> 57760      B-28                       <span class="co">#  9 MIN 37.6 SEC (TB6 + TLIDT = TLITIG)</span>
023190,000106: 
023191,000107: 33,3534  E7,1412                                  <span class="ps">EBANK=  </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#544947">TIG</a>                                   
<a name="533442434F4D50"></a>023192,000108: 33,3534           03540 66067  <span class="sm">S4BCOMP </span>           <span class="ps">2CADR   </span> <a href="#53495642434F4D50">SIVBCOMP</a>                              
023193,000109: 
<a name="5630364E3134"></a>023194,000110: 33,3536           01416        <span class="sm">V06N14  </span>           <span class="ps">VN      </span> 0614                                  
<a name="5630364E3935"></a>023195,000111: 33,3537           01537        <span class="sm">V06N95  </span>           <span class="ps">VN      </span> 0695                                  
023196,000112: 
023197,000113: 
023198,000114: 20,2000                                           <span class="ps">SETLOC  </span> <a href="TAGS_FOR_RELATIVE_SETLOC_AND_BLANK_BANK_CARDS.agc.html#5031354C4F43">P15LOC</a>                                
023199,000115: 20,2000                                           <span class="ps">BANK    </span>                                       
023200,000116: 20,2311  E7,1412                                  <span class="ps">EBANK=  </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#544947">TIG</a>                                   
023201,000117: 20,2311                                           <span class="ps">COUNT*  </span> $$/P15                                
<a name="5436534554"></a>023202,000118: 20,2311           00006        <span class="sm">T6SET   </span>           <span class="op">EXTEND  </span>                                       
023203,000119: 20,2312           30025                           <span class="op">DCA     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#54494D4532">TIME2</a>                                 
023204,000120: 20,2313           53022                           <span class="op">DXCH    </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#544556454E54">TEVENT</a>                                
023205,000121: 20,2314           32330                           <span class="op">CAF     </span> <a href="#3130534543">10SEC</a>                                 <span class="co">#  T6RESET IN 10 SEC.</span>
023206,000122: 20,2315           05223                           <span class="op">TC      </span> <a href="WAITLIST.agc.html#54574944444C45">TWIDDLE</a>                               
</pre>
</span>
</p>
<table style="text-align: left;" border="1" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<td style="white-space: nowrap; vertical-align: middle;">
<img alt="" src="Apollo32.png" style="width: 32px; height: 32px;" align="left">
</td>
<td style="vertical-align: middle;">
Page 529
</td></tr></tbody></table>
<p class="nobreak">
<span style="font-family: monospace;">
<pre>
023208,000124: 20,2316           02331                           <span class="ps">ADRES   </span> <a href="#54365245534554">T6RESET</a>                               
023209,000125: 20,2317           05402                           <span class="op">TC      </span> <a href="PHASE_TABLE_MAINTENANCE.agc.html#5048415343484E47">PHASCHNG</a>                              
023210,000126: 20,2320           40023                           <span class="ps">OCT     </span> 40023                                 <span class="co">#  A,3.2=T6CHNSET IMMED.,</span>
023211,000127:                                                                                                  <span class="co">#        T6RESET IN 10 SEC,TBASE NOW</span>
023212,000128: 
<a name="33503253505431"></a>023213,000129: 20,2321  01,2052               <span class="sm">3P2SPT1 </span>           <span class="ps">=       </span> <a href="RESTART_TABLES.agc.html#332E3253504F54">3.2SPOT</a>                               
<a name="543643484E534554"></a>023214,000130: 20,2321           34754        <span class="sm">T6CHNSET</span>           <span class="op">CAF     </span> <a href="FIXED-FIXED_CONSTANT_POOL.agc.html#4249543133">BIT13</a>                                 
023215,000131: 20,2322           00006                           <span class="op">EXTEND  </span>                                       <span class="co">#  SIVB INJECTION</span>
023216,000132: 20,2323           05012                           <span class="op">WOR     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4348414E3132">CHAN12</a>                                <span class="co">#   SEQUENCE START</span>
023217,000133: 20,2324           34766                           <span class="op">CAF     </span> <a href="FIXED-FIXED_CONSTANT_POOL.agc.html#42495433">BIT3</a>                                  
023218,000134: 20,2325           00006                           <span class="op">EXTEND  </span>                                       
023219,000135: 20,2326           05011                           <span class="op">WOR     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4453414C4D4F5554">DSALMOUT</a>                              <span class="co">#  UPLINK ACTIV. ON</span>
023220,000136: 20,2327           05314                           <span class="op">TC      </span> <a href="WAITLIST.agc.html#5441534B4F564552">TASKOVER</a>                              
023221,000137: 
<a name="3130534543"></a>023222,000138: 20,2330           01750        <span class="sm">10SEC   </span>           <span class="ps">DEC     </span> 1000       B-14                       
023223,000139: 
<a name="54365245534554"></a>023224,000140: 20,2331           44754        <span class="sm">T6RESET </span>           <span class="op">CS      </span> <a href="FIXED-FIXED_CONSTANT_POOL.agc.html#4249543133">BIT13</a>                                 <span class="co">#  PROTECTED BY GROUP 3</span>
023225,000141: 20,2332           00006                           <span class="op">EXTEND  </span>                                       <span class="co">#  CLEAR SIVB ISS</span>
023226,000142: 20,2333           03012                           <span class="op">WAND    </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4348414E3132">CHAN12</a>                                
023227,000143: 20,2334           44766                           <span class="op">CS      </span> <a href="FIXED-FIXED_CONSTANT_POOL.agc.html#42495433">BIT3</a>                                  <span class="co">#  TURN OFF UPLINK ACTIVITY</span>
023228,000144: 20,2335           00006                           <span class="op">EXTEND  </span>                                       
023229,000145: 20,2336           03011                           <span class="op">WAND    </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4453414C4D4F5554">DSALMOUT</a>                              
023230,000146: 20,2337           05362                           <span class="op">TC      </span> <a href="PHASE_TABLE_MAINTENANCE.agc.html#3250485343484E47">2PHSCHNG</a>                              
023231,000147: 20,2340           00003                           <span class="ps">OCT     </span> 00003                                 <span class="co">#  KILL GROUP 3</span>
023232,000148: 20,2341           05014                           <span class="ps">OCT     </span> 05014                                 
023233,000149: 20,2342           77777                           <span class="ps">DEC     </span> -0         B-14                       <span class="co">#  GROUP 4 CONTINUES BELOW</span>
<a name="503135494E544547"></a>023234,000150: 20,2343           00006        <span class="sm">P15INTEG</span>           <span class="op">EXTEND  </span>                                       
023235,000151: 20,2344           32354                           <span class="op">DCA     </span> <a href="#313030534543">100SEC</a>                                
023236,000152: 20,2345           53460                           <span class="op">DXCH    </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#415645474454">AVEGDT</a>                                <span class="co">#  START AVERAGEG AT TIG - 100.00</span>
023237,000153: 20,2346           34664                           <span class="op">CAF     </span> <a href="INTER-BANK_COMMUNICATION.agc.html#5052494F3132">PRIO12</a>                                
023238,000154: 20,2347           05135                           <span class="op">TC      </span> <a href="EXECUTIVE.agc.html#46494E44564143">FINDVAC</a>                               
023239,000155: 20,2350  E7,1412                                  <span class="ps">EBANK=  </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#544947">TIG</a>                                   
023240,000156: 20,2350           02523 50067                     <span class="ps">2CADR   </span> <a href="P40-P47.agc.html#503430532F5356">P40S/SV</a>                               <span class="co">#  COMMON CODE IN P40</span>
023241,000157: 20,2352           15314                           <span class="op">TCF     </span> <a href="WAITLIST.agc.html#5441534B4F564552">TASKOVER</a>                              
023242,000158: 
<a name="313030534543"></a>023243,000159: 20,2353           00000 23420  <span class="sm">100SEC  </span>           <span class="ps">2DEC    </span> 10000      B-28                       
023244,000160: 
</pre>
</span>
</p>
<table style="text-align: left;" border="1" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<td style="white-space: nowrap; vertical-align: middle;">
<img alt="" src="Apollo32.png" style="width: 32px; height: 32px;" align="left">
</td>
<td style="vertical-align: middle;">
Page 530
</td></tr></tbody></table>
<p class="nobreak">
<span style="font-family: monospace;">
<pre>
023246,000162: 
023247,000163:                                                                                                  <span class="co">#  SIVB SHUTDOWN COMPUTATIONS</span>
023248,000164: 
023249,000165:                                                                                                  <span class="co">#  CALLED VIA AVEGEXIT EVERY 2 SECS STARTING AT TLITIG - 100</span>
023250,000166:                                                                                                  <span class="co">#           VG AND V (N95) ARE ALWAYS UPDATED</span>
023251,000167:                                                                                                  <span class="co">#           TGO CALCULATONS FOR TLI SHUTDOWN AND TTOGO (N95)</span>
023252,000168:                                                                                                  <span class="co">#           ARE ENABLED (STEERSW = 1) AT TLITIG + 10</span>
023253,000169: 33,2000                                           <span class="ps">SETLOC  </span> <a href="TAGS_FOR_RELATIVE_SETLOC_AND_BLANK_BANK_CARDS.agc.html#5031354C4F4331">P15LOC1</a>                               
023254,000170: 33,2000                                           <span class="ps">BANK    </span>                                       
023255,000171: 33,3540  E7,1412                                  <span class="ps">EBANK=  </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#544947">TIG</a>                                   
023256,000172: 33,3540                                           <span class="ps">COUNT*  </span> $$/P15                                
<a name="53495642434F4D50"></a>023257,000173: 33,3540           06006        <span class="sm">SIVBCOMP</span>           <span class="op">TC      </span> <a href="INTERPRETER.agc.html#494E5450524554">INTPRET</a>                               
023258,000174: 33,3541           45345                           <span class="in">DLOAD   </span> <span class="in">DSU       </span>                            
023259,000175: 33,3542           03661                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#54544F474F">TTOGO</a>                                 
023260,000176: 33,3543           27666                                    <a href="#54454E534543">TENSEC</a>                                <span class="co">#  TFI > +10 ? (TFC CAN NEVER EXCEED +2)</span>
023261,000177: 33,3544           43040                           <span class="in">BMN     </span> <span class="in">SET       </span>                            <span class="co">#  YES, SET STERSW TO ENABLE TGO CALC</span>
023262,000178: 33,3545           67547                                    +2                                    <span class="co">#  NO</span>
023263,000179: 33,3546           01064                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#53544545525357">STEERSW</a>                               
023264,000180: 33,3547           77624                           <span class="in">CALL    </span>                                       
023265,000181: 33,3550           70537                                    <a href="P11.agc.html#5331312E31">S11.1</a>                                 <span class="co">#  VMAG, HDOT, AND H FOR N62</span>
023266,000182: 33,3551           44345                           <span class="in">DLOAD   </span> <span class="in">BDSU      </span>                            
023267,000183: 33,3552           03723                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#564E4F57">VNOW</a>                                  <span class="co">#  VMAG      M/CS B+7 FOR N95</span>
023268,000184: 33,3553           02356                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#56432F4F">VC/O</a>                                  <span class="co">#  VMAG(C/O) M/CS B+7</span>
023269,000185: 33,3554           17725                           <span class="in">STODL   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#5647544C49">VGTLI</a>                                 <span class="co">#  VG = VC/O - VNOW FOR N95</span>
023270,000186: 33,3555           03723                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#564E4F57">VNOW</a>                                  
023271,000187: 33,3556           45214                           <span class="in">BOFF    </span> <span class="in">DSU       </span>                            
023272,000188: 33,3557           01344                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#53544545525357">STEERSW</a>                               
023273,000189: 33,3560           67605                                    <a href="#5345545650415354">SETVPAST</a>                              <span class="co">#  STEERSW = 0, EXIT</span>
023274,000190: 33,3561           03462                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#5650415354">VPAST</a>                                 <span class="co">#  MPAC = VNOW - VPAST (DV FOR LAST 2 SECS)</span>
023275,000191: 33,3562           41440                           <span class="in">BMN     </span> <span class="in">PUSH      </span>                            <span class="co">#  00D = DV FOR LAST 2 SECS</span>
023276,000192: 33,3563           67605                                    <a href="#5345545650415354">SETVPAST</a>                              <span class="co">#  DV NEGATIVE, EXIT</span>
023277,000193: 33,3564           54345                           <span class="in">DLOAD   </span> <span class="in">SR        </span>                            
023278,000194: 33,3565           03725                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#5647544C49">VGTLI</a>                                 <span class="co">#  B+7</span>
023279,000195: 33,3566           20612                                    09D                                   <span class="co">#  SR9 NOW B+16</span>
023280,000196: 33,3567           77671                           <span class="in">DDV     </span>                                       <span class="co">#  B+16 / B+7 NOW B+9</span>
023281,000197: 33,3570           41200                           <span class="in">BOV     </span> <span class="in">DMP       </span>                            
023282,000198: 33,3571           67605                                    <a href="#5345545650415354">SETVPAST</a>                              <span class="co">#  OVERFLOW, EXIT</span>
023283,000199: 33,3572           27670                                    <a href="#323030422B3139">200B+19</a>                               <span class="co">#  B+9 X B+19 NOW B+28</span>
023284,000200: 33,3573           67206                           <span class="in">PUSH    </span> <span class="in">SLOAD     </span>                            <span class="co">#  00D = TGO WITHOUT TAILOFF EFFECTS</span>
023285,000201: 33,3574           02355                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#445446">DTF</a>                                   <span class="co">#  TLI TAILOFF CONSTANT B+14</span>
023286,000202: 33,3575           44261                           <span class="in">SR      </span> <span class="in">BDSU      </span>                            <span class="co">#  COMPENSATE FOR TAILOFF</span>
023287,000203: 33,3576           20617                                    14D                                   <span class="co">#  B+28</span>
023288,000204: 33,3577           43206                           <span class="in">PUSH    </span> <span class="in">DAD       </span>                            <span class="co">#  00D = COMPENSATED TGO</span>
023289,000205: 33,3600           01044                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#50495054494D45">PIPTIME</a>                               
023290,000206: 33,3601           17413                           <span class="in">STODL   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#544947">TIG</a>                                   <span class="co">#  FOR CLOKTASK (N95)</span>
023291,000207: 33,3602           50025                           <span class="in">DSU     </span> <span class="in">BMN       </span>                            <span class="co">#  TGO FROM 00D</span>
023292,000208: 33,3603           27664                                    <a href="#34534543">4SEC</a>                                  <span class="co">#  TGO &lt; 4 SECS ?</span>
023293,000209: 33,3604           67611                                    <a href="#4B494C4C53495642">KILLSIVB</a>                              <span class="co">#  YES : SET UP SIVB SHUTDOWN</span>
<a name="5345545650415354"></a>023294,000210: 33,3605           77745        <span class="sm">SETVPAST</span>           <span class="in">DLOAD   </span>                                       
023295,000211: 33,3606           03723                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#564E4F57">VNOW</a>                                  
023296,000212: 33,3607           37462                           <span class="in">STCALL  </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#5650415354">VPAST</a>                                 <span class="co">#  VPAST = VNOW</span>
</pre>
</span>
</p>
<table style="text-align: left;" border="1" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<td style="white-space: nowrap; vertical-align: middle;">
<img alt="" src="Apollo32.png" style="width: 32px; height: 32px;" align="left">
</td>
<td style="vertical-align: middle;">
Page 531
</td></tr></tbody></table>
<p class="nobreak">
<span style="font-family: monospace;">
<pre>
023298,000214: 33,3610           51603                                    <a href="P40-P47.agc.html#53455256585431">SERVXT1</a>                               <span class="co">#  ** NO RETURN ** SAME AS GOTO SERVXT1</span>
023299,000215: 
023300,000216: 
023301,000217: 33,3611  E7,1412                                  <span class="ps">EBANK=  </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#544947">TIG</a>                                   
<a name="4B494C4C53495642"></a>023302,000218: 33,3611           77776        <span class="sm">KILLSIVB</span>           <span class="in">EXIT    </span>                                       
023303,000219: 33,3612           00004                           <span class="op">INHINT  </span>                                       
023304,000220: 33,3613           00006                           <span class="op">EXTEND  </span>                                       
</pre>
</span>
</p>
<table style="text-align: left;" border="1" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<td style="white-space: nowrap; vertical-align: middle;">
<img alt="" src="Apollo32.png" style="width: 32px; height: 32px;" align="left">
</td>
<td style="vertical-align: middle;">
The following code has a bug with sign agreement that was fixed in Artemis 072.
It is possible for the (TIG - TIME2) calculation to result in a mixed-sign result,
in which case the following logic will behave incorrectly. In Artemis 072, the
result of the calculation was stored in MPAC instead of AVEGDT. After the DAS,
sign agreement was then forced via a "TCR DPAGREE". Finally, because the result
was now in MPAC instead of AVEGDT where it needed to be, the TCF +3 was changed
to TCF +2 to ensure the number made it safely into AVEGDT +1.
</td></tr></tbody></table>
<p class="nobreak">
<span style="font-family: monospace;">
<pre>
023312,000228: 33,3614           31413                           <span class="op">DCA     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#544947">TIG</a>                                   
023313,000229: 33,3615           53460                           <span class="op">DXCH    </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#415645474454">AVEGDT</a>                                
023314,000230: 33,3616           00006                           <span class="op">EXTEND  </span>                                       
023315,000231: 33,3617           40025                           <span class="op">DCS     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#54494D4532">TIME2</a>                                 
023316,000232: 33,3620           21460                           <span class="op">DAS     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#415645474454">AVEGDT</a>                                
023317,000233: 33,3621           31460                           <span class="op">CAE     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#415645474454">AVEGDT</a>     +1                         <span class="co">#  DT TO C/O = TIG - TIME2 (&lt; 4 SECS TO GO)</span>
023318,000234:                                                                                                  <span class="co">#              PIPTIME + TGO - TIME2     </span>
023319,000235: 33,3622           00006                           <span class="op">EXTEND  </span>                                       <span class="co">#  DT &lt;= 0 ?</span>
023320,000236: 33,3623           63625                           <span class="op">BZMF    </span> +2                                    <span class="co">#  YES</span>
023321,000237: 33,3624           13627                           <span class="op">TCF     </span> +3                                    <span class="co">#  NO</span>
023322,000238: 33,3625           34770                           <span class="op">CAF     </span> <a href="FIXED-FIXED_CONSTANT_POOL.agc.html#4F4E45">ONE</a>                                   
023323,000239: 33,3626           55460                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#415645474454">AVEGDT</a>     +1                         
023324,000240: 33,3627           05223                           <span class="op">TC      </span> <a href="WAITLIST.agc.html#54574944444C45">TWIDDLE</a>                               
023325,000241: 33,3630           03636                           <span class="ps">ADRES   </span> <a href="#534956424F4646">SIVBOFF</a>                               
023326,000242: 33,3631           05362                           <span class="op">TC      </span> <a href="PHASE_TABLE_MAINTENANCE.agc.html#3250485343484E47">2PHSCHNG</a>                              
023327,000243: 33,3632           40614                           <span class="ps">OCT     </span> 40614                                 <span class="co">#  4.61 SIVBOFF IN (AVEGDT+1) CS</span>
023328,000244: 33,3633           10035                           <span class="ps">OCT     </span> 10035                                 
023329,000245: 
<a name="3450363153505431"></a>023330,000246: 33,3634  01,2231               <span class="sm">4P61SPT1</span>           <span class="ps">=       </span> <a href="RESTART_TABLES.agc.html#342E363153504F54">4.61SPOT</a>                              
<a name="3550335350543136"></a>023331,000247: 33,3634  01,2250               <span class="sm">5P3SPT16</span>           <span class="ps">=       </span> <a href="RESTART_TABLES.agc.html#352E3353504F54">5.3SPOT</a>                               
023332,000248: 33,3634           04655                           <span class="op">TC      </span> <a href="INTER-BANK_COMMUNICATION.agc.html#504F53544A554D50">POSTJUMP</a>                              
023333,000249: 33,3635           51134                           <span class="ps">CADR    </span> <a href="P40-P47.agc.html#434C454152535452">CLEARSTR</a>                              
023334,000250: 
023335,000251: 33,3636  0003777                                  <span class="ps">EBANK=  </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#57484F4341524553">WHOCARES</a>                              
<a name="534956424F4646"></a>023336,000252: 33,3636           34753        <span class="sm">SIVBOFF </span>           <span class="op">CAF     </span> <a href="FIXED-FIXED_CONSTANT_POOL.agc.html#4249543134">BIT14</a>                                 
023337,000253: 33,3637           00006                           <span class="op">EXTEND  </span>                                       
023338,000254: 33,3640           05012                           <span class="op">WOR     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4348414E3132">CHAN12</a>                                <span class="co">#  SHUTDOWN THE SIVB</span>
023339,000255: 33,3641           00006                           <span class="op">EXTEND  </span>                                       
023340,000256: 33,3642           30025                           <span class="op">DCA     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#54494D4532">TIME2</a>                                 
023341,000257: 33,3643           53022                           <span class="op">DXCH    </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#544556454E54">TEVENT</a>                                <span class="co">#  SET TEVENT</span>
023342,000258: 33,3644           05255                           <span class="op">TC      </span> <a href="WAITLIST.agc.html#46495844454C4159">FIXDELAY</a>                              
023343,000259: 33,3645           00372                           <span class="ps">DEC     </span> 250        B-14                       <span class="co">#  DELAY 2.5 SECS</span>
023344,000260: 33,3646           34772                           <span class="op">CAF     </span> <a href="FIXED-FIXED_CONSTANT_POOL.agc.html#5A45524F">ZERO</a>                                  
023345,000261: 33,3647           54777                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4E56574F524431">NVWORD1</a>                               <span class="co">#  ZERO NVWORD1 IN CASE CLOCKJOB WAITING</span>
023346,000262: 33,3650           44756                           <span class="op">CS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#54494D52424954">TIMRBIT</a>                               
023347,000263: 33,3651           70103                           <span class="op">MASK    </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#464C414757524437">FLAGWRD7</a>                              
023348,000264: 33,3652           54103                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#464C414757524437">FLAGWRD7</a>                              <span class="co">#  DISABLE CLOKTASK</span>
023349,000265: 33,3653           05402                           <span class="op">TC      </span> <a href="PHASE_TABLE_MAINTENANCE.agc.html#5048415343484E47">PHASCHNG</a>                              
023350,000266: 33,3654           05014                           <span class="ps">OCT     </span> 05014                                 
023351,000267: 33,3655           77777                           <span class="ps">DEC     </span> -0         B-14                       <span class="co">#  START BELOW</span>
023352,000268: 33,3656           34664                           <span class="op">CAF     </span> <a href="INTER-BANK_COMMUNICATION.agc.html#5052494F3132">PRIO12</a>                                
023353,000269: 33,3657           05121                           <span class="op">TC      </span> <a href="EXECUTIVE.agc.html#4E4F564143">NOVAC</a>                                 
</pre>
</span>
</p>
<table style="text-align: left;" border="1" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<td style="white-space: nowrap; vertical-align: middle;">
<img alt="" src="Apollo32.png" style="width: 32px; height: 32px;" align="left">
</td>
<td style="vertical-align: middle;">
Page 532
</td></tr></tbody></table>
<p class="nobreak">
<span style="font-family: monospace;">
<pre>
023355,000271: 33,3660  0003777                                  <span class="ps">EBANK=  </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#57484F4341524553">WHOCARES</a>                              
023356,000272: 33,3660           02012 74067                     <span class="ps">2CADR   </span> <a href="#504F5354544C49">POSTTLI</a>                               
023357,000273: 
023358,000274: 33,3662           05314                           <span class="op">TC      </span> <a href="WAITLIST.agc.html#5441534B4F564552">TASKOVER</a>                              
023359,000275: 
<a name="34534543"></a>023360,000276: 33,3663           00000 00620  <span class="sm">4SEC    </span>           <span class="ps">2DEC    </span> 400        B-28                       
<a name="54454E534543"></a>023361,000277: 33,3665           00000 01750  <span class="sm">TENSEC  </span>           <span class="ps">2DEC    </span> 1000       B-28                       
<a name="323030422B3139"></a>023362,000278: 33,3667           00006 10000  <span class="sm">200B+19 </span>           <span class="ps">2DEC    </span> 200        B-19                       
023363,000279: 
023364,000280: 
023365,000281: 36,2000                                           <span class="ps">SETLOC  </span> <a href="TAGS_FOR_RELATIVE_SETLOC_AND_BLANK_BANK_CARDS.agc.html#5031354C4F4332">P15LOC2</a>                               
023366,000282: 36,2000                                           <span class="ps">BANK    </span>                                       
023367,000283: 36,2012  0003777                                  <span class="ps">EBANK=  </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#57484F4341524553">WHOCARES</a>                              
023368,000284: 
023369,000285: 36,2012                                           <span class="ps">COUNT*  </span> $$/P15                                
<a name="504F5354544C49"></a>023370,000286: 36,2012           32015        <span class="sm">POSTTLI </span>           <span class="op">CAF     </span> <a href="#5631364E3935">V16N95</a>                                
023371,000287: 36,2013           05535                           <span class="op">TC      </span> <a href="DISPLAY_INTERFACE_ROUTINES.agc.html#564E464C415348">VNFLASH</a>                               
023372,000288: 36,2014           14103                           <span class="op">TCF     </span> <a href="FRESH_START_AND_RESTART.agc.html#474F544F504F4F48">GOTOPOOH</a>                              
023373,000289: 
023374,000290: 
<a name="5631364E3935"></a>023375,000291: 36,2015           04137        <span class="sm">V16N95  </span>           <span class="ps">VN      </span> 1695                                  
023376,000292: 
</pre>
</span>
</p>
<table style="text-align: left;" border="1" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<td style="white-space: nowrap; vertical-align: middle;">
<img alt="" src="Apollo32.png" style="width: 32px; height: 32px;" align="left">
</td>
<td style="vertical-align: middle;">
Page 533
</td></tr></tbody></table>
<p class="nobreak">
<span style="font-family: monospace;">
<pre>
023378,000294: 
</pre>
</span>
</p>
<table style="text-align: left;" border="1" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<td style="white-space: nowrap; vertical-align: middle;">
<img alt="" src="Apollo32.png" style="width: 32px; height: 32px;" align="left">
</td>
<td style="vertical-align: middle;">
This page empty.
</td></tr></tbody></table>
<p class="nobreak">
<span style="font-family: monospace;">
<pre>
023380,000296: 

End of include-file P15.agc.  Parent file is <a href="MAIN.agc.html">MAIN.agc</a>
</pre>
</span>
</p>
</body>
</html>
