<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta content="text/html;charset=ISO-8859-1" http-equiv="Content-Type">
<title>Assembly listing generated by yaYUL</title>
<style type="text/css">
p.nobreak { white-space:nowrap; }
a { text-decoration:none; }
a:visited { COLOR: #000850; }
</style>
<style type="text/css">
.op{
font-weight: bold;
color: #993300;
}
</style>
<style type="text/css">
.dn{
color: #009900;
}
</style>
<style type="text/css">
.fe{
color: #FF0000;
}
</style>
<style type="text/css">
.in{
color: #FF6600;
}
</style>
<style type="text/css">
.ps{
color: #336600;
}
</style>
<style type="text/css">
.sm{
color: #0000FF;
}
</style>
<style type="text/css">
.wn{
color: #FF9900;
}
</style>
<style type="text/css">
.co{
font-style: italic;
color: #993399;
}
</style>
</head>
<body>
<p class="nobreak">
<span style="font-family: monospace;">
<pre>
<h1>Source Code</h1>
</pre>
</span>
</p>
<table style="text-align: left;" border="1" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<td style="white-space: nowrap; vertical-align: middle;">
<img alt="" src="Apollo32.png" style="width: 32px; height: 32px;" align="left">
</td>
<td style="vertical-align: middle;">
These source-code files are part of a reconstructed copy of Comanche 44, the
initial release (though not the final mission release) of the Apollo 10 
Command Module (CM) Apollo Guidance Computer (AGC) software.  Subsequent releases
were Comanche 45 and Comanche 45/2 (the flown release on Apollo 10). The reconstruction
is believed to be exactly accurate, but in the absence of an actual Apollo-era
listing of Comanche 44, some explanation of the reconstruction process is needed
to insure confidence in that accuracy. 
<br><br>
The starting point was the source code of Comanche 51 
(separately previously reconstructed from an Apollo-era listing of Comanche 55, 
flown on Apollo 11).  Comanche 51 source code was then modified 
by undoing changes known to have been made between revisions 44 and 51. The now-reconstructed 
Comanche 44 source code was verified by assembling it and checking that the assembled code had
the expected known-correct memory-bank checksums. 
Note that page numbers in the reconstructed code match those on the Comanche 55 printout,
although the source code would likely have different page numbers in a contemporary
Comanche 44 listing.
<br><br>
Annotations that were not present in the contemporary source code have been added to the reconstructed
code to justify each change relative to Comanche 51. Here's a guide to the Apollo documentation referenced
in those annotations:<br>
<ul>
<li><a href="https://archive.org/stream/apertureCardBox467Part2NARASW_images#page/n89/mode/1up">
    MIT/IL engineering drawing 2021153D, sheet 3</a>.  Listing of the memory-bank 
    checksums for Comanche 44.</li>
<li><a href="https://archive.org/details/Comanche55J2k60">
       Comanche 55 (Apollo 11 CM final release) assembly listing</a>.</li>
<li><a href="http://www.ibiblio.org/apollo/listings/Comanche051/MAIN.agc.html">
       Reconstructed Comanche 51 (Apollo 11 CM initial release) assembly listing</a>.</li>
<li><a href="https://archive.org/details/Colossus249MartinPp15651719">
       Colossus 249 (Apollo 9 CM final release) assembly listing</a>.</li>
<li><a href="http://www.ibiblio.org/apollo/Documents/HSI-208454.pdf#page=12">
       <i>Guidance System Operations Plan for Colossus 3</i>, Section 5, p. <i>xiii</i></a>.  
       Table listing some Program Request Changes (PCRs) incorporated between 
       Comanche 45/2 and Comanche 55.</li>
<li><a href="http://www.ibiblio.org/apollo/Documents/HSI-208472.pdf#page=8">
       <i>Guidance System Operations Plan for Colossus 2E</i>, Section 3, pp. <i>ix-x</i></a>.
       Tables listing some Program Change Requests (PCRs) incorporated between 
       Comanche 44 and Comanche 55.</li>
<li><a href="http://www.ibiblio.org/apollo/links.html#PGE_COLOSSUS2">
       <i>Programmed Guidance Equations for Colossus 2, Based on Comanche 55</i></a>. 
       Provides a pseudocode representation of portions of Comanche 55, showing change bars.
       The software revisions <i>from which</i> and <i>to which</i> the changes occurred
       are indicated by the markings next to the document page number:
       <ul>
       <li>"Rev. 0" pages:  change bars are from Colossus 249 to Comanche 45</li>
       <li>"Rev. 1" pages:  change bars are from Comanche 45 to Comanche 45/2</li>
       <li>"Rev. 2" pages:  change bars are from Comanche 45/2 to Comanche 55</li>
       </ul>
</ul>
In most cases, only the titles (rather than the full texts) of PCRs are known.  In addition to the 
explanatory annotations, there is also 
<a href="https://github.com/virtualagc/virtualagc/issues/1134">
a step-by-step commentary about the reconstruction process</a>.
<br><br>
Comments expected to have been present in the original source code are prefixed with a single '#' symbol, 
whereas comments added later are prefixed by "##" or "###".  Report any errors 
noted by creating an 
issue report at <a href="https://github.com/rburkey2005/virtualagc/issues">the Virtual AGC
Project's GitHub repository</a>.
</td></tr></tbody></table>

<p class="nobreak">
<span style="font-family: monospace;">
<pre>
021712,000002:                                                                                                  <span class="co">## Copyright:   Public domain.</span>
021713,000003:                                                                                                  <span class="co">## Filename:    R31.agc</span>
021714,000004:                                                                                                  <span class="co">## Purpose:     A section of Comanche revision 044.</span>
021715,000005:                                                                                                  <span class="co">##              It is part of the reconstructed source code for the</span>
021716,000006:                                                                                                  <span class="co">##              original release of the flight software for the Command</span>
021717,000007:                                                                                                  <span class="co">##              Module's (CM) Apollo Guidance Computer (AGC) for Apollo 10.</span>
021718,000008:                                                                                                  <span class="co">##              The code has been recreated from a copy of Comanche 055. It</span>
021719,000009:                                                                                                  <span class="co">##              has been adapted such that the resulting bugger words</span>
021720,000010:                                                                                                  <span class="co">##              exactly match those specified for Comanche 44 in NASA drawing</span>
021721,000011:                                                                                                  <span class="co">##              2021153D, which gives relatively high confidence that the</span>
021722,000012:                                                                                                  <span class="co">##              reconstruction is correct.</span>
021723,000013:                                                                                                  <span class="co">## Assembler:   yaYUL</span>
021724,000014:                                                                                                  <span class="co">## Contact:     Ron Burkey &lt;info@sandroid.org>.</span>
021725,000015:                                                                                                  <span class="co">## Website:     www.ibiblio.org/apollo/index.html</span>
021726,000016:                                                                                                  <span class="co">## Mod history: 2020-12-03 MAS  Created from Comanche 51.</span>
021727,000017: 
</pre>
</span>
</p>
<table style="text-align: left;" border="1" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<td style="white-space: nowrap; vertical-align: middle;">
<img alt="" src="Apollo32.png" style="width: 32px; height: 32px;" align="left">
</td>
<td style="vertical-align: middle;">
Page 505
</td></tr></tbody></table>
<p class="nobreak">
<span style="font-family: monospace;">
<pre>
021729,000019: 34,2002                                           <span class="ps">BANK    </span> 34                                    
021730,000020: 31,2000                                           <span class="ps">SETLOC  </span> <a href="TAGS_FOR_RELATIVE_SETLOC_AND_BLANK_BANK_CARDS.agc.html#523331">R31</a>                                   
021731,000021: 31,2000                                           <span class="ps">BANK    </span>                                       
021732,000022: 
021733,000023: 31,2000                                           <span class="ps">COUNT*  </span> $$/<a href="TAGS_FOR_RELATIVE_SETLOC_AND_BLANK_BANK_CARDS.agc.html#523331">R31</a>                                
021734,000024: 
<a name="52333143414C4C"></a>021735,000025: 31,2000           35057        <span class="sm">R31CALL </span>           <span class="op">CAF     </span> <a href="FIXED-FIXED_CONSTANT_POOL.agc.html#5052494F33">PRIO3</a>                                 
021736,000026: 31,2001           05147                           <span class="op">TC      </span> <a href="EXECUTIVE.agc.html#46494E44564143">FINDVAC</a>                               
021737,000027: 31,2002  E4,1770                                  <span class="ps">EBANK=  </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#53554245584954">SUBEXIT</a>                               
021738,000028: 31,2002           02032 62064                     <span class="ps">2CADR   </span> <a href="#56383343414C4C">V83CALL</a>                               
021739,000029: 
<a name="44535044454C4159"></a>021740,000030: 31,2004           35041        <span class="sm">DSPDELAY</span>           <span class="op">CAF     </span> <a href="FIXED-FIXED_CONSTANT_POOL.agc.html#31534543">1SEC</a>                                  
021741,000031: 31,2005           04662                           <span class="op">TC      </span> <a href="INTER-BANK_COMMUNICATION.agc.html#42414E4B43414C4C">BANKCALL</a>                              
021742,000032: 31,2006           01732                           <span class="ps">CADR    </span> <a href="SERVICE_ROUTINES.agc.html#44454C41594A4F42">DELAYJOB</a>                              
021743,000033: 31,2007           31044                           <span class="op">CA      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4558545642414354">EXTVBACT</a>                              
021744,000034: 31,2010           75004                           <span class="op">MASK    </span> <a href="FIXED-FIXED_CONSTANT_POOL.agc.html#4249543132">BIT12</a>                                 
021745,000035: 31,2011           00006                           <span class="op">EXTEND  </span>                                       
021746,000036: 31,2012           12004                           <span class="op">BZF     </span> <a href="#44535044454C4159">DSPDELAY</a>                              
021747,000037: 
<a name="444953504E3558"></a>021748,000038: 31,2013           30105        <span class="sm">DISPN5X </span>           <span class="op">CA      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#464C414757524439">FLAGWRD9</a>                              <span class="co">#  TEST R31FLAG (IN SUNDANCE R31FLAG WILL</span>
021749,000039: 31,2014           75014                           <span class="op">MASK    </span> <a href="FIXED-FIXED_CONSTANT_POOL.agc.html#42495434">BIT4</a>                                  <span class="co">#        ALWAYS BE SET AS R34 DOES NOT EXIST)</span>
021750,000040: 31,2015           00006                           <span class="op">EXTEND  </span>                                       
021751,000041: 31,2016           12021                           <span class="op">BZF     </span> +3                                    
021752,000042: 31,2017           32136                           <span class="op">CAF     </span> <a href="#5631364E3534">V16N54</a>                                <span class="co">#  R31   USE NOUN 54</span>
021753,000043: 31,2020           02022                           <span class="op">TC      </span> +2                                    
021754,000044: 31,2021           32137                           <span class="op">CAF     </span> <a href="#5631364E3533">V16N53</a>                                <span class="co">#  R34   USE NOUN 53</span>
021755,000045: 31,2022           04662                           <span class="op">TC      </span> <a href="INTER-BANK_COMMUNICATION.agc.html#42414E4B43414C4C">BANKCALL</a>                              
021756,000046: 31,2023           20561                           <span class="ps">CADR    </span> <a href="DISPLAY_INTERFACE_ROUTINES.agc.html#474F4D41524B46">GOMARKF</a>                               
021757,000047: 31,2024           05625                           <span class="op">TC      </span> <a href="SERVICE_ROUTINES.agc.html#42354F4646">B5OFF</a>                                 
021758,000048: 31,2025           05625                           <span class="op">TC      </span> <a href="SERVICE_ROUTINES.agc.html#42354F4646">B5OFF</a>                                 
021759,000049: 31,2026           12013                           <span class="op">TCF     </span> <a href="#444953504E3558">DISPN5X</a>                               
021760,000050: 
<a name="563833"></a>021761,000051: 31,2027           06006        <span class="sm">V83     </span>           <span class="op">TC      </span> <a href="INTERPRETER.agc.html#494E5450524554">INTPRET</a>                               
021762,000052: 31,2030           77650                           <span class="in">GOTO    </span>                                       
021763,000053: 31,2031           62171                                    <a href="#4841564542415345">HAVEBASE</a>                              <span class="co">#  INTEG STATE VECTORS</span>
<a name="56383343414C4C"></a>021764,000054: 31,2032           06006        <span class="sm">V83CALL </span>           <span class="op">TC      </span> <a href="INTERPRETER.agc.html#494E5450524554">INTPRET</a>                               
021765,000055: 31,2033           77650                           <span class="in">GOTO    </span>                                       
021766,000056: 31,2034           62140                                    <a href="#5354415445585450">STATEXTP</a>                              <span class="co">#  EXTRAPOLATE STATE VECTORS</span>
<a name="434F4D5044495350"></a>021767,000057: 31,2035           52375        <span class="sm">COMPDISP</span>           <span class="in">VLOAD   </span> <span class="in">VSU       </span>                            
021768,000058: 31,2036           00001                                    <a href="ORBITAL_INTEGRATION.agc.html#52415454">RATT</a>                                  
021769,000059: 31,2037           02327                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#524F4E45">RONE</a>                                  
021770,000060: 31,2040           51406                           <span class="in">PUSH    </span> <span class="in">ABVAL     </span>                            <span class="co">#  RATT-RONE TO 0D       PD= 6</span>
021771,000061: 31,2041           02321                           <span class="in">STORE   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#52414E4745">RANGE</a>                                 <span class="co">#  METERS B-29</span>
021772,000062: 31,2042           77301                           <span class="in">NORM    </span> <span class="in">VLOAD     </span>                            
021773,000063: 31,2043           00047                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#5831">X1</a>                                    <span class="co">#  RATT-RONE             PD= 0</span>
021774,000064: 31,2044           77762                           <span class="in">VSR1    </span>                                       
021775,000065: 31,2045           53457                           <span class="in">VSL*    </span> <span class="in">UNIT      </span>                            
021776,000066: 31,2046           20201                                    0,1                                   
021777,000067: 31,2047           52315                           <span class="in">PDVL    </span> <span class="in">VSU       </span>                            <span class="co">#  UNIT(LOS) TO 0D       PD= 6</span>
</pre>
</span>
</p>
<table style="text-align: left;" border="1" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<td style="white-space: nowrap; vertical-align: middle;">
<img alt="" src="Apollo32.png" style="width: 32px; height: 32px;" align="left">
</td>
<td style="vertical-align: middle;">
Page 506
</td></tr></tbody></table>
<p class="nobreak">
<span style="font-family: monospace;">
<pre>
021779,000069: 31,2050           00007                                    <a href="ORBITAL_INTEGRATION.agc.html#56415454">VATT</a>                                  
021780,000070: 31,2051           02335                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#564F4E45">VONE</a>                                  
021781,000071: 31,2052           77641                           <span class="in">DOT     </span>                                       <span class="co">#  (VATT-VONE).UNIT(LOS) PD= 0</span>
021782,000072: 31,2053           77752                           <span class="in">SL1     </span>                                       
021783,000073: 31,2054           36323                           <span class="in">STCALL  </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#5252415445">RRATE</a>                                 <span class="co">#  RANGE RATE M/CS B-7</span>
021784,000074: 31,2055           47477                                    <a href="POWERED_FLIGHT_SUBROUTINES.agc.html#43445554524947">CDUTRIG</a>                               <span class="co">#  TO INITIALIZE FOR *NBSM*</span>
021785,000075: 31,2056           77624                           <span class="in">CALL    </span>                                       
021786,000076: 31,2057           62311                                    <a href="#5233344C4F53">R34LOS</a>                                <span class="co">#  NOTE.  PDL MUST = 0.</span>
<a name="523334414E47"></a>021787,000077: 31,2060           53575        <span class="sm">R34ANG  </span>           <span class="in">VLOAD   </span> <span class="in">UNIT      </span>                            
021788,000078: 31,2061           02327                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#524F4E45">RONE</a>                                  
021789,000079: 31,2062           77715                           <span class="in">PDVL    </span>                                       <span class="co">#  UR TO 0D              PD= 6</span>
021790,000080: 31,2063           15333                                    <a href="TAGS_FOR_RELATIVE_SETLOC_AND_BLANK_BANK_CARDS.agc.html#5448495341584953">THISAXIS</a>                              <span class="co">#  UNITX FOR CM, UNITZ FOR LM</span>
021791,000081: 31,2064           77214                           <span class="in">BON     </span> <span class="in">VLOAD     </span>                            <span class="co">#  CHK R31FLAG.  ON=R31 THETA, OFF=R34 PHI</span>
021792,000082: 31,2065           04713                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#523331464C4147">R31FLAG</a>                               
021793,000083: 31,2066           62070                                    +2                                    <span class="co">#  R31-THETA</span>
021794,000084: 31,2067           00015                                    12D                                   
021795,000085: 31,2070           77624                           <span class="in">CALL    </span>                                       
021796,000086: 31,2071           47646                                    <a href="POWERED_FLIGHT_SUBROUTINES.agc.html#2A4E42534D2A">*NBSM*</a>                                
021797,000087: 31,2072           41505                           <span class="in">VXM     </span> <span class="in">PUSH      </span>                            <span class="co">#  UXORZ TO 6D           PD=12D</span>
021798,000088: 31,2073           01736                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#524546534D4D4154">REFSMMAT</a>                              
021799,000089: 31,2074           72431                           <span class="in">VPROJ   </span> <span class="in">VSL2      </span>                            
021800,000090: 31,2075           00001                                    0D                                    
021801,000091: 31,2076           53445                           <span class="in">BVSU    </span> <span class="in">UNIT      </span>                            
021802,000092: 31,2077           00007                                    6D                                    
021803,000093: 31,2100           47315                           <span class="in">PDVL    </span> <span class="in">VXV       </span>                            <span class="co">#  UP/2 TO 12D           PD=18D</span>
021804,000094: 31,2101           02327                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#524F4E45">RONE</a>                                  
021805,000095: 31,2102           02335                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#564F4E45">VONE</a>                                  
021806,000096: 31,2103           47256                           <span class="in">UNIT    </span> <span class="in">VXV       </span>                            
021807,000097: 31,2104           02327                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#524F4E45">RONE</a>                                  
021808,000098: 31,2105           63241                           <span class="in">DOT     </span> <span class="in">PDVL      </span>                            <span class="co">#  SIGN TO 12D, UP/2 TO MPAC     PD=18D</span>
021809,000099: 31,2106           00015                                    12D                                   
021810,000100: 31,2107           50372                           <span class="in">VSL1    </span> <span class="in">DOT       </span>                            <span class="co">#  UP.UXORZ</span>
021811,000101: 31,2110           00007                                    6D                                    
021812,000102: 31,2111           72565                           <span class="in">SIGN    </span> <span class="in">SL1       </span>                            
021813,000103: 31,2112           00015                                    12D                                   
021814,000104: 31,2113           77726                           <span class="in">ACOS    </span>                                       
021815,000105: 31,2114           26325                           <span class="in">STOVL   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#525448455441">RTHETA</a>                                
021816,000106: 31,2115           02327                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#524F4E45">RONE</a>                                  
021817,000107: 31,2116           51041                           <span class="in">DOT     </span> <span class="in">BPL       </span>                            
021818,000108: 31,2117           00007                                    6D                                    
021819,000109: 31,2120           62125                                    +5                                    
021820,000110: 31,2121           44345                           <span class="in">DLOAD   </span> <span class="in">BDSU      </span>                            <span class="co">#  IF UXORZ.R NEG, RTHETA = 1 - RTHETA</span>
021821,000111: 31,2122           02325                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#525448455441">RTHETA</a>                                
021822,000112: 31,2123           15343                                    <a href="INTERPRETIVE_CONSTANTS.agc.html#4450504F534D4158">DPPOSMAX</a>                              
021823,000113: 31,2124           02325                           <span class="in">STORE   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#525448455441">RTHETA</a>                                <span class="co">#  RTHETA BETWEEN 0 AND 1 REV.</span>
021824,000114: 31,2125           77776                           <span class="in">EXIT    </span>                                       
021825,000115: 31,2126           35013                           <span class="op">CAF     </span> <a href="FIXED-FIXED_CONSTANT_POOL.agc.html#42495435">BIT5</a>                                  <span class="co">#  HAVE WE BEEN ANSWERED</span>
021826,000116: 31,2127           71044                           <span class="op">MASK    </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4558545642414354">EXTVBACT</a>                              
021827,000117: 31,2130           00006                           <span class="op">EXTEND  </span>                                       
021828,000118: 31,2131           15534                           <span class="op">BZF     </span> <a href="DISPLAY_INTERFACE_ROUTINES.agc.html#454E44455854">ENDEXT</a>                                <span class="co">#  YES, DIE</span>
</pre>
</span>
</p>
<table style="text-align: left;" border="1" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<td style="white-space: nowrap; vertical-align: middle;">
<img alt="" src="Apollo32.png" style="width: 32px; height: 32px;" align="left">
</td>
<td style="vertical-align: middle;">
Page 507
</td></tr></tbody></table>
<p class="nobreak">
<span style="font-family: monospace;">
<pre>
021830,000120: 31,2132           41044                           <span class="op">CS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4558545642414354">EXTVBACT</a>                              
021831,000121: 31,2133           75004                           <span class="op">MASK    </span> <a href="FIXED-FIXED_CONSTANT_POOL.agc.html#4249543132">BIT12</a>                                 
021832,000122: 31,2134           27044                           <span class="op">ADS     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4558545642414354">EXTVBACT</a>                              
021833,000123: 
021834,000124: 31,2135           12027                           <span class="op">TCF     </span> <a href="#563833">V83</a>                                   
<a name="5631364E3534"></a>021835,000125: 31,2136           04066        <span class="sm">V16N54  </span>           <span class="ps">VN      </span> 1654                                  
<a name="5631364E3533"></a>021836,000126: 31,2137           04065        <span class="sm">V16N53  </span>           <span class="ps">VN      </span> 1653                                  
021837,000127: 
</pre>
</span>
</p>
<table style="text-align: left;" border="1" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<td style="white-space: nowrap; vertical-align: middle;">
<img alt="" src="Apollo32.png" style="width: 32px; height: 32px;" align="left">
</td>
<td style="vertical-align: middle;">
Page 508
</td></tr></tbody></table>
<p class="nobreak">
<span style="font-family: monospace;">
<pre>
021839,000129:                                                                                                  <span class="co">#  STATEXTP DOES AN INITIAL PRECISION EXTRAPOLATION OF THE</span>
021840,000130:                                                                                                  <span class="co">#  LEM STATE VECTOR TO PRESENT TIME OR TO PIPTIME IF AV G</span>
021841,000131:                                                                                                  <span class="co">#  IS ON AND SAVES AS BASE VECTOR. IF AV G IS ON RN + VN</span>
021842,000132:                                                                                                  <span class="co">#  ARE USED AS THE CM STATE VECTOR AND THE INITIAL R RDOT</span>
021843,000133:                                                                                                  <span class="co">#  RTHETA ARE COMPUTED WITH NO FURTHER INTEGRATION. IF AV</span>
021844,000134:                                                                                                  <span class="co">#  G IS OFF A PRECISION EXTRAPOLATION IS MADE OF THE CM</span>
021845,000135:                                                                                                  <span class="co">#  STATE VECTOR TO PRESENT TIME AND.....</span>
021846,000136: 
021847,000137:                                                                                                  <span class="co">#    THE CM + LM STATE VECTORS ARE INTEGRATED TO PRES TIME</span>
021848,000138:                                                                                                  <span class="co">#    USING PRECISION OR CONIC AS SURFFLAG IS SET OR CLEAR.</span>
021849,000139: 
021850,000140:                                                                                                  <span class="co">#    IF AV G IS ON THEN SUBSEQUENT PASSES WILL PROVIDE</span>
021851,000141:                                                                                                  <span class="co">#      USE OF RN + VN AS CM STATE VECTOR AND THE LM STATE</span>
021852,000142:                                                                                                  <span class="co">#      VECTOR WILL BE PRECISION INTEGRATED USING LEMPREC</span>
021853,000143: 
021854,000144:                                                                                                  <span class="co">#    IF SURFFLAG IS SET.</span>
021855,000145:                                                                                                  <span class="co">#      CM STATE VECTOR RONE VONE + LM STATE VECTOR RATT</span>
021856,000146:                                                                                                  <span class="co">#      VATT ARE USED IN COMPUTING R RDOT RTHETA.</span>
021857,000147: 
021858,000148: 
<a name="5354415445585450"></a>021859,000149: 31,2140           43034        <span class="sm">STATEXTP</span>           <span class="in">RTB     </span> <span class="in">BOF       </span>                            <span class="co">#  INITIAL INTEGRATION</span>
021860,000150: 31,2141           45510                                    <a href="RTB_OP_CODES.agc.html#4C4F414454494D45">LOADTIME</a>                              
021861,000151: 31,2142           03751                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#563337464C4147">V37FLAG</a>                               
021862,000152: 31,2143           62146                                    +3                                    <span class="co">#  AV G OFF, USE PRES TIME</span>
021863,000153: 31,2144           77624                           <span class="in">CALL    </span>                                       
021864,000154: 31,2145           62273                                    <a href="#47455452564E">GETRVN</a>                                <span class="co">#       ON,  USE RN VN PIPTIME</span>
021865,000155: 31,2146           02343                           <span class="in">STORE   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4241534554494D45">BASETIME</a>                              <span class="co">#  PRES TIME OR PIPTIME</span>
021866,000156: 31,2147           34041                           <span class="in">STCALL  </span> <a href="ORBITAL_INTEGRATION.agc.html#5444454331">TDEC1</a>                                 
021867,000157: 31,2150           27105                                    <a href="INTEGRATION_INITIALIZATION.agc.html#4C454D50524543">LEMPREC</a>                               
021868,000158: 31,2151           77775                           <span class="in">VLOAD   </span>                                       <span class="co">#  BASE VECTOR, LM</span>
021869,000159: 31,2152           00017                                    <a href="ORBITAL_INTEGRATION.agc.html#5241545431">RATT1</a>                                 
021870,000160: 31,2153           26225                           <span class="in">STOVL   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#424153454F5450">BASEOTP</a>                               <span class="co">#    POS.</span>
021871,000161: 31,2154           00025                                    <a href="ORBITAL_INTEGRATION.agc.html#5641545431">VATT1</a>                                 
021872,000162: 31,2155           02241                           <span class="in">STORE   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#424153454F5456">BASEOTV</a>                               <span class="co">#    VEL.</span>
021873,000163: 31,2156           71214                           <span class="in">BON     </span> <span class="in">DLOAD     </span>                            
021874,000164: 31,2157           03711                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#563337464C4147">V37FLAG</a>                               
021875,000165: 31,2160           62035                                    <a href="#434F4D5044495350">COMPDISP</a>                              <span class="co">#  COMPUTE R RDOT RTHETA FROM</span>
021876,000166:                                                                                                  <span class="co">#  RONE(RN) VONE(VN) RATT+VATT(LEMPREC)</span>
021877,000167: 31,2161           00015                                    <a href="ORBITAL_INTEGRATION.agc.html#544154">TAT</a>                                   
021878,000168: 31,2162           34041                           <span class="in">STCALL  </span> <a href="ORBITAL_INTEGRATION.agc.html#5444454331">TDEC1</a>                                 
021879,000169: 31,2163           27071                                    <a href="INTEGRATION_INITIALIZATION.agc.html#43534D50524543">CSMPREC</a>                               
021880,000170: 31,2164           77775                           <span class="in">VLOAD   </span>                                       <span class="co">#  BASE VECTOR, CM</span>
021881,000171: 31,2165           00017                                    <a href="ORBITAL_INTEGRATION.agc.html#5241545431">RATT1</a>                                 
021882,000172: 31,2166           26255                           <span class="in">STOVL   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#42415345544850">BASETHP</a>                               <span class="co">#   POS.</span>
021883,000173: 31,2167           00025                                    <a href="ORBITAL_INTEGRATION.agc.html#5641545431">VATT1</a>                                 
021884,000174: 31,2170           02263                           <span class="in">STORE   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#42415345544856">BASETHV</a>                               <span class="co">#   VEL.</span>
<a name="4841564542415345"></a>021885,000175: 31,2171           47014        <span class="sm">HAVEBASE</span>           <span class="in">BON     </span> <span class="in">RTB       </span>                            <span class="co">#  SUBSEQUENT INTEGRATIONS</span>
021886,000176: 31,2172           03711                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#563337464C4147">V37FLAG</a>                               
021887,000177: 31,2173           62256                                    <a href="#47455452564E35">GETRVN5</a>                               
021888,000178: 31,2174           45510                                    <a href="RTB_OP_CODES.agc.html#4C4F414454494D45">LOADTIME</a>                              
021889,000179: 31,2175           34041                           <span class="in">STCALL  </span> <a href="ORBITAL_INTEGRATION.agc.html#5444454331">TDEC1</a>                                 <span class="co">#  AV G OFF. SET INTEG. OF CM</span>
021890,000180: 31,2176           27442                                    <a href="INTEGRATION_INITIALIZATION.agc.html#494E545354414C4C">INTSTALL</a>                              
021891,000181: 31,2177           43175                           <span class="in">VLOAD   </span> <span class="in">CLEAR     </span>                            
021892,000182: 31,2200           02255                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#42415345544850">BASETHP</a>                               
</pre>
</span>
</p>
<table style="text-align: left;" border="1" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<td style="white-space: nowrap; vertical-align: middle;">
<img alt="" src="Apollo32.png" style="width: 32px; height: 32px;" align="left">
</td>
<td style="vertical-align: middle;">
Page 509
</td></tr></tbody></table>
<p class="nobreak">
<span style="font-family: monospace;">
<pre>
021894,000184: 31,2201           00263                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#4D4F4F4E464C4147">MOONFLAG</a>                              
021895,000185: 31,2202           25535                           <span class="in">STOVL   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#524356">RCV</a>                                   
021896,000186: 31,2203           02263                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#42415345544856">BASETHV</a>                               
021897,000187: 31,2204           15543                           <span class="in">STODL   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#564356">VCV</a>                                   
021898,000188: 31,2205           02343                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#4241534554494D45">BASETIME</a>                              
021899,000189: 31,2206           43014                           <span class="in">BOF     </span> <span class="in">SET       </span>                            <span class="co">#  GET APPROPRIATE MOONFLAG SETTING</span>
021900,000190: 31,2207           04343                                    <a href="TAGS_FOR_RELATIVE_SETLOC_AND_BLANK_BANK_CARDS.agc.html#4D4F4F4E54484953">MOONTHIS</a>                              
021901,000191: 31,2210           62212                                    +2                                    
021902,000192: 31,2211           00063                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#4D4F4F4E464C4147">MOONFLAG</a>                              
021903,000193: 31,2212           77614                           <span class="in">CLEAR   </span>                                       
021904,000194: 31,2213           01673                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#494E545950464C47">INTYPFLG</a>                              
021905,000195: 31,2214           43014                           <span class="in">BON     </span> <span class="in">SET       </span>                            
021906,000196: 31,2215           04307                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#53555246464C4147">SURFFLAG</a>                              
021907,000197: 31,2216           62220                                    +2                                    <span class="co">#  PREC. IF LM DOWN</span>
021908,000198: 31,2217           01473                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#494E545950464C47">INTYPFLG</a>                              <span class="co">#  CONIC IF LM NOT DOWN</span>
021909,000199: 31,2220           35517                           <span class="in">STCALL  </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#544554">TET</a>                                   
021910,000200: 31,2221           27135                                    <a href="INTEGRATION_INITIALIZATION.agc.html#494E544547525653">INTEGRVS</a>                              <span class="co">#  INTEGRATION --- AT LAST---</span>
021911,000201: 31,2222           77775                           <span class="in">VLOAD   </span>                                       
021912,000202: 31,2223           00001                                    <a href="ORBITAL_INTEGRATION.agc.html#52415454">RATT</a>                                  
021913,000203: 31,2224           26327                           <span class="in">STOVL   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#524F4E45">RONE</a>                                  
021914,000204: 31,2225           00007                                    <a href="ORBITAL_INTEGRATION.agc.html#56415454">VATT</a>                                  
021915,000205: 31,2226           16335                           <span class="in">STODL   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#564F4E45">VONE</a>                                  <span class="co">#  GET SET FOR CONIC EXTRAP.,OTHER</span>
021916,000206: 31,2227           00015                                    <a href="ORBITAL_INTEGRATION.agc.html#544154">TAT</a>                                   
021917,000207: 31,2230           45014                           <span class="in">BON     </span> <span class="in">CALL      </span>                            
021918,000208: 31,2231           04307                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#53555246464C4147">SURFFLAG</a>                              
021919,000209: 31,2232           62267                                    <a href="#47455452564E36">GETRVN6</a>                               <span class="co">#  LEMPREC IF LM DOWN</span>
021920,000210: 31,2233           27442                                    <a href="INTEGRATION_INITIALIZATION.agc.html#494E545354414C4C">INTSTALL</a>                              <span class="co">#  ..CONIC IF NOT DOWN</span>
021921,000211: 31,2234           77614                           <span class="in">SET     </span>                                       
021922,000212: 31,2235           01473                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#494E545950464C47">INTYPFLG</a>                              
<a name="4F5448494E54"></a>021923,000213: 31,2236           00041        <span class="sm">OTHINT  </span>           <span class="in">STORE   </span> <a href="ORBITAL_INTEGRATION.agc.html#5444454331">TDEC1</a>                                 <span class="co">#  ENTERED IF AV G ON TO INTEG LM</span>
021924,000214: 31,2237           43175                           <span class="in">VLOAD   </span> <span class="in">CLEAR     </span>                            
021925,000215: 31,2240           02225                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#424153454F5450">BASEOTP</a>                               
021926,000216: 31,2241           00263                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#4D4F4F4E464C4147">MOONFLAG</a>                              
021927,000217: 31,2242           25535                           <span class="in">STOVL   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#524356">RCV</a>                                   
021928,000218: 31,2243           02241                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#424153454F5456">BASEOTV</a>                               
021929,000219: 31,2244           15543                           <span class="in">STODL   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#564356">VCV</a>                                   
021930,000220: 31,2245           02343                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#4241534554494D45">BASETIME</a>                              
021931,000221: 31,2246           43014                           <span class="in">BOF     </span> <span class="in">SET       </span>                            
021932,000222: 31,2247           04343                                    <a href="TAGS_FOR_RELATIVE_SETLOC_AND_BLANK_BANK_CARDS.agc.html#4D4F4F4E54484953">MOONTHIS</a>                              
021933,000223: 31,2250           62252                                    +2                                    
021934,000224: 31,2251           00063                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#4D4F4F4E464C4147">MOONFLAG</a>                              
021935,000225: 31,2252           35517                           <span class="in">STCALL  </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#544554">TET</a>                                   
021936,000226: 31,2253           27135                                    <a href="INTEGRATION_INITIALIZATION.agc.html#494E544547525653">INTEGRVS</a>                              
021937,000227: 31,2254           77650                           <span class="in">GOTO    </span>                                       
021938,000228: 31,2255           62035                                    <a href="#434F4D5044495350">COMPDISP</a>                              <span class="co">#  COMPUTE R RDOT RTHETA         </span>
<a name="47455452564E35"></a>021939,000229: 31,2256           77624        <span class="sm">GETRVN5 </span>           <span class="in">CALL    </span>                                       <span class="co">#  AV G ON</span>
021940,000230: 31,2257           62273                                    <a href="#47455452564E">GETRVN</a>                                
021941,000231: 31,2260           45014                           <span class="in">BON     </span> <span class="in">CALL      </span>                            
021942,000232: 31,2261           04307                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#53555246464C4147">SURFFLAG</a>                              
021943,000233: 31,2262           62267                                    <a href="#47455452564E36">GETRVN6</a>                               <span class="co">#  LM DOWN, LMPREC</span>
</pre>
</span>
</p>
<table style="text-align: left;" border="1" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<td style="white-space: nowrap; vertical-align: middle;">
<img alt="" src="Apollo32.png" style="width: 32px; height: 32px;" align="left">
</td>
<td style="vertical-align: middle;">
Page 510
</td></tr></tbody></table>
<p class="nobreak">
<span style="font-family: monospace;">
<pre>
021945,000235: 31,2263           27442                                    <a href="INTEGRATION_INITIALIZATION.agc.html#494E545354414C4C">INTSTALL</a>                              
021946,000236: 31,2264           52014                           <span class="in">CLEAR   </span> <span class="in">GOTO      </span>                            
021947,000237: 31,2265           01673                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#494E545950464C47">INTYPFLG</a>                              
021948,000238: 31,2266           62236                                    <a href="#4F5448494E54">OTHINT</a>                                
<a name="47455452564E36"></a>021949,000239: 31,2267           34041        <span class="sm">GETRVN6 </span>           <span class="in">STCALL  </span> <a href="ORBITAL_INTEGRATION.agc.html#5444454331">TDEC1</a>                                 
021950,000240: 31,2270           27105                                    <a href="INTEGRATION_INITIALIZATION.agc.html#4C454D50524543">LEMPREC</a>                               
021951,000241: 31,2271           77650                           <span class="in">GOTO    </span>                                       
021952,000242: 31,2272           62035                                    <a href="#434F4D5044495350">COMPDISP</a>                              <span class="co">#  COMPUTE R RDOT RTHETA</span>
<a name="47455452564E"></a>021953,000243: 31,2273           77620        <span class="sm">GETRVN  </span>           <span class="in">STQ     </span>                                       
021954,000244: 31,2274           00000                                    0D                                    
021955,000245: 31,2275           52175                           <span class="in">VLOAD   </span> <span class="in">GOTO      </span>                            <span class="co">#  AV G ON, RONE = RN VONE = VN</span>
021956,000246: 31,2276           01171                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#524E">RN</a>                                    <span class="co">#   AND USE PIPTIME</span>
021957,000247: 31,2277           62300                                    +1                                    
021958,000248: 31,2300           36327                           <span class="in">STCALL  </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#524F4E45">RONE</a>                                  
021959,000249: 31,2301           62302                                    +1                                    
021960,000250: 31,2302           52175                           <span class="in">VLOAD   </span> <span class="in">GOTO      </span>                            
021961,000251: 31,2303           01177                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#564E">VN</a>                                    
021962,000252: 31,2304           62305                                    +1                                    
021963,000253: 31,2305           16335                           <span class="in">STODL   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#564F4E45">VONE</a>                                  
021964,000254: 31,2306           01205                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#50495054494D45">PIPTIME</a>                               
021965,000255: 31,2307           77650                           <span class="in">GOTO    </span>                                       
021966,000256: 31,2310           00000                                    0D                                    
021967,000257: 31,2000                                           <span class="ps">SETLOC  </span> <a href="TAGS_FOR_RELATIVE_SETLOC_AND_BLANK_BANK_CARDS.agc.html#523334">R34</a>                                   
021968,000258: 31,2000                                           <span class="ps">BANK    </span>                                       
<a name="5233344C4F53"></a>021969,000259: 31,2311           77776        <span class="sm">R34LOS  </span>           <span class="in">EXIT    </span>                                       
021970,000260: 31,2312           30036                           <span class="op">CA      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#43445553">CDUS</a>                                  
021971,000261: 31,2313           50120                           <span class="op">INDEX   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4649584C4F43">FIXLOC</a>                                
021972,000262: 31,2314           54011                           <span class="op">TS      </span> 9D                                    
021973,000263: 31,2315           30035                           <span class="op">CA      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#43445554">CDUT</a>                                  
021974,000264: 31,2316           50120                           <span class="op">INDEX   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4649584C4F43">FIXLOC</a>                                
021975,000265: 31,2317           54013                           <span class="op">TS      </span> 11D                                   
021976,000266: 31,2320           30120                           <span class="op">CA      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4649584C4F43">FIXLOC</a>                                
021977,000267: 31,2321           66211                           <span class="op">AD      </span> <a href="FIXED-FIXED_CONSTANT_POOL.agc.html#534958">SIX</a>                                   
021978,000268: 31,2322           40000                           <span class="op">COM     </span>                                       
021979,000269: 31,2323           50120                           <span class="op">INDEX   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4649584C4F43">FIXLOC</a>                                
021980,000270: 31,2324           54046                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#5831">X1</a>                                    
021981,000271: 31,2325           06006                           <span class="op">TC      </span> <a href="INTERPRETER.agc.html#494E5450524554">INTPRET</a>                               
021982,000272: 31,2326           77624                           <span class="in">CALL    </span>                                       
021983,000273: 31,2327           46000                                    <a href="CSM_GEOMETRY.agc.html#5358544E42">SXTNB</a>                                 
021984,000274: 31,2330           34015                           <span class="in">STCALL  </span> 12D                                   
021985,000275: 31,2331           62060                                    <a href="#523334414E47">R34ANG</a>                                

End of include-file R31.agc.  Parent file is <a href="MAIN.agc.html">MAIN.agc</a>
</pre>
</span>
</p>
</body>
</html>
