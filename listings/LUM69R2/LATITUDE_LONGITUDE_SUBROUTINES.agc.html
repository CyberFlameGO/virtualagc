<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta content="text/html;charset=ISO-8859-1" http-equiv="Content-Type">
<title>Assembly listing generated by yaYUL</title>
<style type="text/css">
p.nobreak { white-space:nowrap; }
a { text-decoration:none; }
</style>
<style type="text/css">
.op{
font-weight: bold;
color: #993300;
}
</style>
<style type="text/css">
.dn{
color: #009900;
}
</style>
<style type="text/css">
.fe{
color: #FF0000;
}
</style>
<style type="text/css">
.in{
color: #FF6600;
}
</style>
<style type="text/css">
.ps{
color: #336600;
}
</style>
<style type="text/css">
.sm{
color: #0000FF;
}
</style>
<style type="text/css">
.wn{
color: #FF9900;
}
</style>
<style type="text/css">
.co{
font-style: italic;
color: #993399;
}
</style>
</head>
<body>
<p class="nobreak">
<span style="font-family: monospace;">
<pre>
<h1>Source Code</h1>
</pre>
</span>
</p>
<table style="text-align: left;" border="1" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<td style="white-space: nowrap; vertical-align: middle;">
<img alt="" src="Apollo32.png" style="width: 32px; height: 32px;" align="left">
</td>
<td style="vertical-align: middle;">
These source-code files are part of a reconstructed copy of Luminary 69/2,
the flown, final release of the Apollo 10 Lunar Module (LM) Apollo Guidance Computer (AGC) software. 
<br><br>
The reconstruction is based on the source code of Luminary 69 &mdash; i.e., the
initial, unflown version, "revision 0" &mdash; of which 
a contemporary listing was available.  The code was then updated by incorporating the 
differences between Luminary 69 and Luminary 69/2, known from other contemporary
documentation.  The only such difference is the implementation in 
Luminary 69/2 of the "R-2 Lunar Potential Model", the source code for which was taken 
from program Luminary 99/1 (Apollo 11 LM), of which a contemporary listing was also available.
Finally, the now-reconstructed Luminary 69/2 was then validated by assembling it to
executable form and verifying that its memory banks had the correct checksums,
known from still other contemporary documentation.
<br><br>
Note that page numbers in the reconstructed code match those in the original Luminary 69
program listing, or in the ORBITAL INTEGRATION log section, in Luminary 99/1. Page numbers 
would certainly differ somewhat in a contemporary Luminary 69/2 listing.
Moreover, annotations that were not present in the contemporary source code have been added 
to the reconstructed code to justify each change in Luminary 69/2 relative to 
Luminary 69. Here's a guide to the Apollo documentation referenced in those annotations:<br>
<ul>
<li><a href="https://archive.org/stream/apertureCardBox467Part2NARASW_images#page/n80/mode/1up">
    MIT/IL engineering drawing 2021152N, sheet 3</a>.  Listing of the memory-bank 
    checksums for Luminary 69/2 (called "LUMINARY 69 REV. 2" in the document itself).</li>
<li><a href="https://archive.org/details/Luminary99001J2k60/mode/1up">
       Luminary 99/1 (Apollo 11 LM final release) assembly listing</a>.</li>
<li><a href="https://archive.org/details/luminary6900miti/mode/1up">
       Luminary 69 (Apollo 10 LM initial release) assembly listing</a>.</li>
<li><a href="http://www.ibiblio.org/apollo/Documents/LUM75_text.pdf">
       LUMINARY Memo #75, "R-2 Lunar Potential Model Added to LUM"</a>.</li>
<li><a href="http://www.ibiblio.org/apollo/Documents/LUM78_text.pdf">
       LUMINARY Memo #78, "LUMINARY Revisions 93-96"</a>.</li>
</ul>
Comments from the original source code are prefixed with a single '#' symbol, 
whereas comments added later are prefixed by "##" or "###".  Report any errors 
noted by creating an 
issue report at <a href="https://github.com/rburkey2005/virtualagc/issues">the Virtual AGC
project's GitHub repository</a>.
</td></tr></tbody></table>
<p class="nobreak">
<span style="font-family: monospace;">
<pre>
048343,000002:                                                                                                  <span class="co">## Copyright:   Public domain.</span>
048344,000003:                                                                                                  <span class="co">## Filename:    LATITUDE_LONGITUDE_SUBROUTINES.agc</span>
048345,000004:                                                                                                  <span class="co">## Purpose:     A section of LUM69 revision 2.</span>
048346,000005:                                                                                                  <span class="co">##              It is part of the reconstructed source code for the flown</span>
048347,000006:                                                                                                  <span class="co">##              version of the flight software for the Lunar Module's (LM)</span>
048348,000007:                                                                                                  <span class="co">##              Apollo Guidance Computer (AGC) for Apollo 10. The code has</span>
048349,000008:                                                                                                  <span class="co">##              been recreated from a copy of Luminary revsion 069, using</span>
048350,000009:                                                                                                  <span class="co">##              changes present in Luminary 099 which were described in</span>
048351,000010:                                                                                                  <span class="co">##              Luminary memos 75 and 78. The code has been adapted such</span>
048352,000011:                                                                                                  <span class="co">##              that the resulting bugger words exactly match those specified</span>
048353,000012:                                                                                                  <span class="co">##              for LUM69 revision 2 in NASA drawing 2021152B, which gives</span>
048354,000013:                                                                                                  <span class="co">##              relatively high confidence that the reconstruction is correct.</span>
048355,000014:                                                                                                  <span class="co">## Reference:   pp. 1128-1134</span>
048356,000015:                                                                                                  <span class="co">## Assembler:   yaYUL</span>
048357,000016:                                                                                                  <span class="co">## Contact:     Ron Burkey &lt;info@sandroid.org>.</span>
048358,000017:                                                                                                  <span class="co">## Website:     www.ibiblio.org/apollo/index.html</span>
048359,000018:                                                                                                  <span class="co">## Mod history: 2019-07-27 MAS  Created from Luminary 69.</span>
048360,000019: 
</pre>
</span>
</p>
<table style="text-align: left;" border="1" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<td style="white-space: nowrap; vertical-align: middle;">
<img alt="" src="Apollo32.png" style="width: 32px; height: 32px;" align="left">
</td>
<td style="vertical-align: middle;">
Page 1128
</td></tr></tbody></table>
<p class="nobreak">
<span style="font-family: monospace;">
<pre>
048362,000021:                                                                                                  <span class="co">#  SUBROUTINE TO CONVERT RAD VECTOR AT GIVEN TIME TO LAT,LONG AND ALT</span>
048363,000022: 
048364,000023:                                                                                                  <span class="co">#  CALLING SEQUENCE</span>
048365,000024:                                                                                                  <span class="co">#        L-1     CALL</span>
048366,000025:                                                                                                  <span class="co">#        L               LAT-LONG</span>
048367,000026: 
048368,000027:                                                                                                  <span class="co">#  SUBROUTINES USED</span>
048369,000028:                                                                                                  <span class="co">#        R-TO-RP,ARCTAN,SETGAMMA,SETRE</span>
048370,000029: 
048371,000030:                                                                                                  <span class="co">#  ERASABLE INIT. REQ.</span>
048372,000031:                                                                                                  <span class="co">#        AXO,-AYO,AZO,TEPHEM (SET AT LAUNCH TIME)</span>
048373,000032:                                                                                                  <span class="co">#        ALPHAV = POSITION VECTOR METERS B-29</span>
048374,000033:                                                                                                  <span class="co">#        MPAC-- TIME (CSECS B-28)</span>
048375,000034:                                                                                                  <span class="co">#        ERADFLAG =1, TO COMPUTE EARTH RADIUS, =0 FOR FIXED EARTH RADIUS</span>
048376,000035:                                                                                                  <span class="co">#        LUNAFLAG=0 FOR EARTH, 1 FOR MOON</span>
048377,000036: 
048378,000037:                                                                                                  <span class="co">#  OUTPUT</span>
048379,000038:                                                                                                  <span class="co">#        LATITUDE IN LAT         (REVS. B-0)</span>
048380,000039:                                                                                                  <span class="co">#        LONGITUDE IN LONG       (REVS. B-0)</span>
048381,000040:                                                                                                  <span class="co">#        ALTITUDE IN ALT         METERS B-29</span>
048382,000041: 
048383,000042: 30,3746                                           <span class="ps">BANK    </span> 30                                    
048384,000043: 13,2000                                           <span class="ps">SETLOC  </span> <a href="TAGS_FOR_RELATIVE_SETLOC_AND_BLANK_BANK_CARDS.agc.html#4C41544C4F4E47">LATLONG</a>                               
048385,000044: 13,2000                                           <span class="ps">BANK    </span>                                       
048386,000045: 
048387,000046: 13,2351                                           <span class="ps">COUNT*  </span> $$/LT-LG                              
048388,000047: 13,2351  E4,1431                                  <span class="ps">EBANK=  </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#414C50484156">ALPHAV</a>                                
<a name="4C41542D4C4F4E47"></a>048389,000048: 13,2351           40220        <span class="sm">LAT-LONG</span>           <span class="in">STQ     </span> <span class="in">SETPD     </span>                            
048390,000049: 13,2352           03672                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#494E434F52504558">INCORPEX</a>                              
048391,000050: 13,2353           00001                                    0D                                    
048392,000051: 13,2354           24007                           <span class="in">STOVL   </span> 6D                                    <span class="co">#  SAVE TIME IN 6-7D FOR R-TO-RP</span>
048393,000052: 13,2355           02032                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#414C50484156">ALPHAV</a>                                
048394,000053: 13,2356           51406                           <span class="in">PUSH    </span> <span class="in">ABVAL     </span>                            <span class="co">#  0-5D= R FOR R-TO-RP</span>
048395,000054: 13,2357           16070                           <span class="in">STODL   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#414C5048414D">ALPHAM</a>                                <span class="co">#  ABS. VALUE OF R FOR ALT FORMULA BELOW</span>
048396,000055: 13,2360           22275                                    <a href="INTERPRETIVE_CONSTANTS.agc.html#5A45524F564543">ZEROVEC</a>                               <span class="co">#  SET MPAC=0 FOR EARTH, NON-ZERO FOR MOON</span>
048397,000056: 13,2361           71414                           <span class="in">BOFF    </span> <span class="in">COS       </span>                            <span class="co">#  USE COS(0) TO GET NON-ZERO IN MPAC</span>
048398,000057: 13,2362           01743                                    <a href="FLAGWORD_ASSIGNMENTS.agc.html#4C554E41464C4147">LUNAFLAG</a>                              <span class="co">#  0=EARTH, 1=MOON</span>
048399,000058: 13,2363           26364                                    <a href="#43414C4C52545250">CALLRTRP</a>                              
<a name="43414C4C52545250"></a>048400,000059: 13,2364           77624        <span class="sm">CALLRTRP</span>           <span class="in">CALL    </span>                                       
048401,000060: 13,2365           51531                                    <a href="PLANETARY_INERTIAL_ORIENTATION.agc.html#522D544F2D5250">R-TO-RP</a>                               <span class="co">#  RP VECTOR CONVERTED FROM R B-29</span>
048402,000061: 13,2366           77656                           <span class="in">UNIT    </span>                                       <span class="co">#  UNIT RP B-1</span>
048403,000062: 13,2367           36032                           <span class="in">STCALL  </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#414C50484156">ALPHAV</a>                                <span class="co">#  U2= 1/2 SINL FOR SETRE SUBR BELOW</span>
048404,000063: 13,2370           26550                                    <a href="#53455447414D4D41">SETGAMMA</a>                              <span class="co">#        SET GAMMA=B2/A2 FOR EARTH,=1 FOR MOON</span>
048405,000064: 13,2371           77624                           <span class="in">CALL    </span>                                       <span class="co">#        SCALED B-1</span>
048406,000065: 13,2372           26560                                    <a href="#5345545245">SETRE</a>                                 <span class="co">#  CALC RE METERS B-29</span>
048407,000066: 13,2373           63545                           <span class="in">DLOAD   </span> <span class="in">DSQ       </span>                            
048408,000067: 13,2374           02032                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#414C50484156">ALPHAV</a>                                
048409,000068: 13,2375           63525                           <span class="in">PDDL    </span> <span class="in">DSQ       </span>                            
048410,000069: 13,2376           02034                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#414C50484156">ALPHAV</a>     +2                         
048411,000070: 13,2377           75415                           <span class="in">DAD     </span> <span class="in">SQRT      </span>                            
</pre>
</span>
</p>
<table style="text-align: left;" border="1" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<td style="white-space: nowrap; vertical-align: middle;">
<img alt="" src="Apollo32.png" style="width: 32px; height: 32px;" align="left">
</td>
<td style="vertical-align: middle;">
Page 1129
</td></tr></tbody></table>
<p class="nobreak">
<span style="font-family: monospace;">
<pre>
048413,000072: 13,2400           76405                           <span class="in">DMP     </span> <span class="in">SL1R      </span>                            
048414,000073: 13,2401           00011                                    <a href="#47414D5250">GAMRP</a>                                 
048415,000074: 13,2402           14021                           <span class="in">STODL   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#434F535448">COSTH</a>                                 <span class="co">#  COS(LAT) B-1</span>
048416,000075: 13,2403           02036                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#414C50484156">ALPHAV</a>     +4                         
048417,000076: 13,2404           34023                           <span class="in">STCALL  </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#53494E5448">SINTH</a>                                 <span class="co">#  SIN(LAT) B-1</span>
048418,000077: 13,2405           26510                                    <a href="#41524354414E">ARCTAN</a>                                
048419,000078: 13,2406           15121                           <span class="in">STODL   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4C4154">LAT</a>                                   <span class="co">#  LAT B0</span>
048420,000079: 13,2407           02032                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#414C50484156">ALPHAV</a>                                
048421,000080: 13,2410           14021                           <span class="in">STODL   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#434F535448">COSTH</a>                                 <span class="co">#  COS(LONG) B-1</span>
048422,000081: 13,2411           02034                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#414C50484156">ALPHAV</a>     +2                         
048423,000082: 13,2412           34023                           <span class="in">STCALL  </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#53494E5448">SINTH</a>                                 <span class="co">#  SIN(LONG) B-1</span>
048424,000083: 13,2413           26510                                    <a href="#41524354414E">ARCTAN</a>                                
048425,000084: 13,2414           15123                           <span class="in">STODL   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4C4F4E47">LONG</a>                                  <span class="co">#  LONG. REVS B-0 IN RANGE -1/2 TO 1/2</span>
048426,000085: 13,2415           02070                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#414C5048414D">ALPHAM</a>                                
048427,000086: 13,2416           77625                           <span class="in">DSU     </span>                                       <span class="co">#  ALT= R-RE METERS B-29</span>
048428,000087: 13,2417           03671                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#455241444D">ERADM</a>                                 
048429,000088: 13,2420           35125                           <span class="in">STCALL  </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#414C54">ALT</a>                                   <span class="co">#  EXIT WITH ALT METERS B-29</span>
048430,000089: 13,2421           03672                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#494E434F52504558">INCORPEX</a>                              
</pre>
</span>
</p>
<table style="text-align: left;" border="1" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<td style="white-space: nowrap; vertical-align: middle;">
<img alt="" src="Apollo32.png" style="width: 32px; height: 32px;" align="left">
</td>
<td style="vertical-align: middle;">
Page 1130
</td></tr></tbody></table>
<p class="nobreak">
<span style="font-family: monospace;">
<pre>
048432,000091:                                                                                                  <span class="co">#  SUBROUTINE TO CONVERT LAT,LONG,ALT AT GIVEN TIME TO RADIUS VECTOR</span>
048433,000092: 
048434,000093:                                                                                                  <span class="co">#  CALLING SEQUENCE</span>
048435,000094:                                                                                                  <span class="co">#        L-1     CALL</span>
048436,000095:                                                                                                  <span class="co">#        L               LALOTORV</span>
048437,000096: 
048438,000097:                                                                                                  <span class="co">#  SUBROUTINES USED</span>
048439,000098:                                                                                                  <span class="co">#        SETGAMMA,SETRE,RP-TO-R</span>
048440,000099: 
048441,000100:                                                                                                  <span class="co">#  ERASABLE INIT. REQ.</span>
048442,000101:                                                                                                  <span class="co">#        AXO,AYO,AZO,TEPHEM SET AT LAUNCH TIME</span>
048443,000102:                                                                                                  <span class="co">#        LAT-- LATITUDE  (REVS B0)</span>
048444,000103:                                                                                                  <span class="co">#        LONG-- LONGITUDE        (REVS B0)</span>
048445,000104:                                                                                                  <span class="co">#        ALT--ALTITUDE           (METERS) B-29</span>
048446,000105:                                                                                                  <span class="co">#        MPAC-- TIME             (CSECS B-28)</span>
048447,000106:                                                                                                  <span class="co">#        ERADFLAG =1 TO COMPUTE EARTH RADIUS, =0 FOR FIXED EARTH RADIUS</span>
048448,000107:                                                                                                  <span class="co">#        LUNAFLAG=0 FOR EARTH, 1 FOR MOON</span>
048449,000108: 
048450,000109:                                                                                                  <span class="co">#  OUTPUT</span>
048451,000110:                                                                                                  <span class="co">#        R-VECTOR IN ALPHAV      (METERS B-29)</span>
048452,000111: 
<a name="4C414C4F544F5256"></a>048453,000112: 13,2422           40220        <span class="sm">LALOTORV</span>           <span class="in">STQ     </span> <span class="in">SETPD     </span>                            <span class="co">#  LAT,LONG,ALT TO R VECTOR</span>
048454,000113: 13,2423           03672                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#494E434F52504558">INCORPEX</a>                              
048455,000114: 13,2424           00001                                    0D                                    
048456,000115: 13,2425           34007                           <span class="in">STCALL  </span> 6D                                    <span class="co">#  6-7D= TIME FOR RP-TO-R</span>
048457,000116: 13,2426           26550                                    <a href="#53455447414D4D41">SETGAMMA</a>                              <span class="co">#  GAMMA=B2/A2 FOR EARTH,1 FOR MOON B-1</span>
048458,000117: 13,2427           73545                           <span class="in">DLOAD   </span> <span class="in">SIN       </span>                            <span class="co">#                COS(LONG)COS(LAT) IN MPAC</span>
048459,000118: 13,2430           01121                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#4C4154">LAT</a>                                   <span class="co">#      UNIT RP=  SIN(LONG)COS(LAT)    2-3D</span>
048460,000119: 13,2431           65275                           <span class="in">DMPR    </span> <span class="in">PDDL      </span>                            <span class="co">#  PD 2          GAMMA*SIN(LAT)       0-1D</span>
048461,000120: 13,2432           00011                                    <a href="#47414D5250">GAMRP</a>                                 
048462,000121: 13,2433           01121                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#4C4154">LAT</a>                                   <span class="co">#         0-1D=  GAMMA*SIN(LAT) B-2</span>
048463,000122: 13,2434           65346                           <span class="in">COS     </span> <span class="in">PDDL      </span>                            <span class="co">#  PD 4     2-3D=COS(LAT) B-1 TEMPORARILY</span>
048464,000123: 13,2435           01123                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#4C4F4E47">LONG</a>                                  
048465,000124: 13,2436           57356                           <span class="in">SIN     </span> <span class="in">DMPR      </span>                            <span class="co">#  PD 2</span>
048466,000125: 13,2437           71525                           <span class="in">PDDL    </span> <span class="in">COS       </span>                            <span class="co">#  PD 4   2-3D=SIN(LONG)COS(LAT) B-2</span>
048467,000126: 13,2440           01121                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#4C4154">LAT</a>                                   
048468,000127: 13,2441           71525                           <span class="in">PDDL    </span> <span class="in">COS       </span>                            <span class="co">#  PD 6   4-5D=COS(LAT) B-1 TEMPORARILY</span>
048469,000128: 13,2442           01123                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#4C4F4E47">LONG</a>                                  
048470,000129: 13,2443           55475                           <span class="in">DMPR    </span> <span class="in">VDEF      </span>                            <span class="co">#  PD 4   MPAC=  COS(LONG)COS(LAT) B-2</span>
048471,000130: 13,2444           41456                           <span class="in">UNIT    </span> <span class="in">PUSH      </span>                            <span class="co">#  0-5D= UNIT RP FOR RP-TO-R SUBR.</span>
048472,000131: 13,2445           36032                           <span class="in">STCALL  </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#414C50484156">ALPHAV</a>                                <span class="co">#  ALPHAV +4= SINL FOR SETRE SUBR.</span>
048473,000132: 13,2446           26560                                    <a href="#5345545245">SETRE</a>                                 <span class="co">#  RE METERS B-29</span>
048474,000133: 13,2447           43145                           <span class="in">DLOAD   </span> <span class="in">BOFF      </span>                            <span class="co">#  SET MPAC=0 FOR EARTH, NON-ZERO FOR MOON</span>
048475,000134: 13,2450           22275                                    <a href="INTERPRETIVE_CONSTANTS.agc.html#5A45524F564543">ZEROVEC</a>                               
048476,000135: 13,2451           01743                                    <a href="FLAGWORD_ASSIGNMENTS.agc.html#4C554E41464C4147">LUNAFLAG</a>                              
048477,000136: 13,2452           26454                                    <a href="#43414C4C52505254">CALLRPRT</a>                              
048478,000137: 13,2453           77746                           <span class="in">COS     </span>                                       <span class="co">#  USE COS(0) TO GET NON-ZERO IN MPAC</span>
<a name="43414C4C52505254"></a>048479,000138: 13,2454           77624        <span class="sm">CALLRPRT</span>           <span class="in">CALL    </span>                                       
048480,000139: 13,2455           51504                                    <a href="PLANETARY_INERTIAL_ORIENTATION.agc.html#52502D544F2D52">RP-TO-R</a>                               <span class="co">#  EXIT WITH UNIT R VECTOR IN MPAC</span>
048481,000140: 13,2456           16032                           <span class="in">STODL   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#414C50484156">ALPHAV</a>                                
048482,000141: 13,2457           03671                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#455241444D">ERADM</a>                                 
</pre>
</span>
</p>
<table style="text-align: left;" border="1" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<td style="white-space: nowrap; vertical-align: middle;">
<img alt="" src="Apollo32.png" style="width: 32px; height: 32px;" align="left">
</td>
<td style="vertical-align: middle;">
Page 1131
</td></tr></tbody></table>
<p class="nobreak">
<span style="font-family: monospace;">
<pre>
048484,000143: 13,2460           74215                           <span class="in">DAD     </span> <span class="in">VXSC      </span>                            <span class="co">#  (RE + ALT)(UNIT R) METERS B-30</span>
048485,000144: 13,2461           01125                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#414C54">ALT</a>                                   
048486,000145: 13,2462           02032                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#414C50484156">ALPHAV</a>                                
048487,000146: 13,2463           77772                           <span class="in">VSL1    </span>                                       <span class="co">#  R METERS B-29</span>
048488,000147: 13,2464           36032                           <span class="in">STCALL  </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#414C50484156">ALPHAV</a>                                <span class="co">#  EXIT WITH R IN METERS B-29</span>
048489,000148: 13,2465           03672                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#494E434F52504558">INCORPEX</a>                              
048490,000149: 
048491,000150:                                                                                                  <span class="co">#  SUBROUTINE TO COMPUTE EARTH RADIUS</span>
048492,000151: 
048493,000152:                                                                                                  <span class="co">#  INPUT</span>
048494,000153:                                                                                                  <span class="co">#        1/2 SIN LAT IN ALPHAV +4</span>
048495,000154: 
048496,000155:                                                                                                  <span class="co">#  OUTPUT</span>
048497,000156:                                                                                                  <span class="co">#        EARTH RADIUS IN ERADM AND MPAC (METERS B-29)</span>
048498,000157: 
<a name="47455445524144"></a>048499,000158: 13,2466           63545        <span class="sm">GETERAD </span>           <span class="in">DLOAD   </span> <span class="in">DSQ       </span>                            
048500,000159: 13,2467           02036                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#414C50484156">ALPHAV</a>     +4                         <span class="co">#  SIN**2(L)</span>
048501,000160: 13,2470           44352                           <span class="in">SL1     </span> <span class="in">BDSU      </span>                            
048502,000161: 13,2471           22273                                    <a href="#4450312F32">DP1/2</a>                                 <span class="co">#  COS**2(L)</span>
048503,000162: 13,2472           44275                           <span class="in">DMPR    </span> <span class="in">BDSU      </span>                            
048504,000163: 13,2473           26507                                    <a href="#4545">EE</a>                                    
048505,000164: 13,2474           22273                                    <a href="#4450312F32">DP1/2</a>                                 
048506,000165: 13,2475           75465                           <span class="in">BDDV    </span> <span class="in">SQRT      </span>                            
048507,000166: 13,2476           26503                                    <a href="#4232585343">B2XSC</a>                                 
048508,000167: 13,2477           77622                           <span class="in">SR4R    </span>                                       
048509,000168: 13,2500           03671                           <span class="in">STORE   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#455241444D">ERADM</a>                                 
048510,000169: 13,2501           77616                           <span class="in">RVQ     </span>                                       
048511,000170: 
048512,000171:                                                                                                  <span class="co">#  THE FOLLOWING CONSTANTS WERE COMPUTED WITH A=6378166, B=6356784 METERS</span>
048513,000172:                                                                                                  <span class="co">#  B2XSC= B**2 SCALED B-51</span>
048514,000173:                                                                                                  <span class="co">#  B2/A2= B**2/A**2 SCALED B-1</span>
048515,000174:                                                                                                  <span class="co">#  EE=(1-B**2/A**2) SCALED B-0</span>
048516,000175: 
<a name="4232585343"></a>048517,000176: 13,2502           00446 00305  <span class="sm">B2XSC   </span>           <span class="ps">2DEC    </span> .0179450689                            <span class="co">#  B**2 SCALED B-51</span>
<a name="4450312F32"></a>048518,000177: 13,2504  11,2272               <span class="sm">DP1/2   </span>           <span class="ps">=       </span> <a href="INTERPRETIVE_CONSTANTS.agc.html#58554E4954">XUNIT</a>                                 
<a name="42322F4132"></a>048519,000178: 13,2504           17711 05254  <span class="sm">B2/A2   </span>           <span class="ps">2DEC    </span> .9933064884 B-1                        <span class="co">#  GAMMA= B**2/A**2 B-1</span>
<a name="4545"></a>048520,000179: 13,2506           00155 25250  <span class="sm">EE      </span>           <span class="ps">2DEC    </span> 6.6935116  E-3                        <span class="co">#  (1-B**2/A**2) B-0</span>
048521,000180: 
</pre>
</span>
</p>
<table style="text-align: left;" border="1" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<td style="white-space: nowrap; vertical-align: middle;">
<img alt="" src="Apollo32.png" style="width: 32px; height: 32px;" align="left">
</td>
<td style="vertical-align: middle;">
Page 1132
</td></tr></tbody></table>
<p class="nobreak">
<span style="font-family: monospace;">
<pre>
048523,000182:                                                                                                  <span class="co">#  ARCTAN SUBROUTINE</span>
048524,000183: 
048525,000184:                                                                                                  <span class="co">#  CALLING SEQUENCE</span>
048526,000185:                                                                                                  <span class="co">#        SIN THETA IN SINTH B-1</span>
048527,000186:                                                                                                  <span class="co">#        COS THETA IN COSTH B-1</span>
048528,000187:                                                                                                  <span class="co">#        CALL ARCTAN</span>
048529,000188: 
048530,000189:                                                                                                  <span class="co">#  OUTPUT</span>
048531,000190:                                                                                                  <span class="co">#        ARCTAN THETA IN MPAC AND THETA B-0 IN RANGE -1/2 TO +1/2</span>
048532,000191: 
<a name="41524354414E"></a>048533,000192: 13,2510           77600        <span class="sm">ARCTAN  </span>           <span class="in">BOV     </span>                                       
048534,000193: 13,2511           26512                                    <a href="#434C524F56464C57">CLROVFLW</a>                              
<a name="434C524F56464C57"></a>048535,000194: 13,2512           63545        <span class="sm">CLROVFLW</span>           <span class="in">DLOAD   </span> <span class="in">DSQ       </span>                            
048536,000195: 13,2513           00023                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#53494E5448">SINTH</a>                                 
048537,000196: 13,2514           63525                           <span class="in">PDDL    </span> <span class="in">DSQ       </span>                            
048538,000197: 13,2515           00021                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#434F535448">COSTH</a>                                 
048539,000198: 13,2516           77615                           <span class="in">DAD     </span>                                       
048540,000199: 13,2517           75454                           <span class="in">BZE     </span> <span class="in">SQRT      </span>                            
048541,000200: 13,2520           26536                                    <a href="#41524354414E5858">ARCTANXX</a>                              <span class="co">#  ATAN=0/0  SET THETA=0</span>
048542,000201: 13,2521           40065                           <span class="in">BDDV    </span> <span class="in">BOV       </span>                            
048543,000202: 13,2522           00023                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#53494E5448">SINTH</a>                                 
048544,000203: 13,2523           26543                                    <a href="#4154414E3D3930">ATAN=90</a>                               
048545,000204: 13,2524           67542                           <span class="in">SR1     </span> <span class="in">ASIN      </span>                            
048546,000205: 13,2525           00025                           <span class="in">STORE   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#5448455441">THETA</a>                                 
048547,000206: 13,2526           50125                           <span class="in">PDDL    </span> <span class="in">BMN       </span>                            
048548,000207: 13,2527           00021                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#434F535448">COSTH</a>                                 
048549,000208: 13,2530           26532                                    <a href="#4E4547434F53">NEGCOS</a>                                
048550,000209: 13,2531           43545                           <span class="in">DLOAD   </span> <span class="in">RVQ       </span>                            
<a name="4E4547434F53"></a>048551,000210: 13,2532           57545        <span class="sm">NEGCOS  </span>           <span class="in">DLOAD   </span> <span class="in">DCOMP     </span>                            
048552,000211: 13,2533           43244                           <span class="in">BPL     </span> <span class="in">DAD       </span>                            
048553,000212: 13,2534           26540                                    <a href="#4E45474F5554">NEGOUT</a>                                
048554,000213: 13,2535           22273                                    <a href="#4450312F32">DP1/2</a>                                 
<a name="41524354414E5858"></a>048555,000214: 13,2536           00025        <span class="sm">ARCTANXX</span>           <span class="in">STORE   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#5448455441">THETA</a>                                 
048556,000215: 13,2537           77616                           <span class="in">RVQ     </span>                                       
048557,000216: 
<a name="4E45474F5554"></a>048558,000217: 13,2540           52025        <span class="sm">NEGOUT  </span>           <span class="in">DSU     </span> <span class="in">GOTO      </span>                            
048559,000218: 13,2541           22273                                    <a href="#4450312F32">DP1/2</a>                                 
048560,000219: 13,2542           26536                                    <a href="#41524354414E5858">ARCTANXX</a>                              
<a name="4154414E3D3930"></a>048561,000220: 13,2543           75345        <span class="sm">ATAN=90 </span>           <span class="in">DLOAD   </span> <span class="in">SIGN      </span>                            
048562,000221: 13,2544           10760                                    <a href="TAGS_FOR_RELATIVE_SETLOC_AND_BLANK_BANK_CARDS.agc.html#4C4F4450312F34">LODP1/4</a>                               
048563,000222: 13,2545           00023                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#53494E5448">SINTH</a>                                 
048564,000223: 13,2546           00025                           <span class="in">STORE   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#5448455441">THETA</a>                                 
048565,000224: 13,2547           77616                           <span class="in">RVQ     </span>                                       
048566,000225: 
<a name="32445A45524F"></a>048567,000226: 13,2550  11,2274               <span class="sm">2DZERO  </span>           <span class="ps">=       </span> <a href="ORBITAL_INTEGRATION.agc.html#44505A45524F">DPZERO</a>                                
048568,000227: 
</pre>
</span>
</p>
<table style="text-align: left;" border="1" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<td style="white-space: nowrap; vertical-align: middle;">
<img alt="" src="Apollo32.png" style="width: 32px; height: 32px;" align="left">
</td>
<td style="vertical-align: middle;">
Page 1133
</td></tr></tbody></table>
<p class="nobreak">
<span style="font-family: monospace;">
<pre>
048570,000229:                                                                                                  <span class="co">#  ..... SETGAMMA SUBROUTINE .....</span>
048571,000230:                                                                                                  <span class="co">#  SUBROUTINE TO SET GAMMA FOR THE LAT-LONG AND LALOTORV SUBROUTINES</span>
048572,000231: 
048573,000232:                                                                                                  <span class="co">#  GAMMA = B**2/A**2 FOR EARTH (B-1)</span>
048574,000233:                                                                                                  <span class="co">#  GAMMA = 1 FOR MOON (B-1)</span>
048575,000234: 
048576,000235:                                                                                                  <span class="co">#  CALLING SEQUENCE</span>
048577,000236:                                                                                                  <span class="co">#        L       CALL</span>
048578,000237:                                                                                                  <span class="co">#        L+1             SETGAMMA</span>
048579,000238: 
048580,000239:                                                                                                  <span class="co">#  INPUT</span>
048581,000240:                                                                                                  <span class="co">#        LUNAFLAG=0 FOR EARTH,=1 FOR MOON</span>
048582,000241: 
048583,000242:                                                                                                  <span class="co">#  OUTPUT</span>
048584,000243:                                                                                                  <span class="co">#        GAMMA IN GAMRP (B-1)</span>
048585,000244: 
<a name="53455447414D4D41"></a>048586,000245: 13,2550           43145        <span class="sm">SETGAMMA</span>           <span class="in">DLOAD   </span> <span class="in">BOFF      </span>                            <span class="co">#  BRANCH FOR EARTH</span>
048587,000246: 13,2551           26505                                    <a href="#42322F4132">B2/A2</a>                                 <span class="co">#  EARTH GAMMA</span>
048588,000247: 13,2552           01743                                    <a href="FLAGWORD_ASSIGNMENTS.agc.html#4C554E41464C4147">LUNAFLAG</a>                              
048589,000248: 13,2553           26556                                    <a href="#534554474D4558">SETGMEX</a>                               
048590,000249: 13,2554           77735                           <span class="in">SLOAD   </span>                                       
048591,000250: 13,2555           22273                                    <a href="PLANETARY_INERTIAL_ORIENTATION.agc.html#314231">1B1</a>                                   <span class="co">#  MOON GAMMA</span>
<a name="534554474D4558"></a>048592,000251: 13,2556           00011        <span class="sm">SETGMEX </span>           <span class="in">STORE   </span> <a href="#47414D5250">GAMRP</a>                                 
048593,000252: 13,2557           77616                           <span class="in">RVQ     </span>                                       
<a name="47414D5250"></a>048594,000253: 13,2560                        <span class="sm">GAMRP   </span>           <span class="ps">=       </span> 8D                                    
048595,000254: 
</pre>
</span>
</p>
<table style="text-align: left;" border="1" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<td style="white-space: nowrap; vertical-align: middle;">
<img alt="" src="Apollo32.png" style="width: 32px; height: 32px;" align="left">
</td>
<td style="vertical-align: middle;">
Page 1134
</td></tr></tbody></table>
<p class="nobreak">
<span style="font-family: monospace;">
<pre>
048597,000256:                                                                                                  <span class="co">#  ..... SETRE SUBROUTINE .....</span>
048598,000257:                                                                                                  <span class="co">#  SUBROUTINE TO SET RE (EARTH OR MOON RADIUS)</span>
048599,000258: 
048600,000259:                                                                                                  <span class="co">#        RE= RM FOR MOON</span>
048601,000260:                                                                                                  <span class="co">#                RE= RREF FOR FIXED EARTH RADIUS OR COMPUTED RF FOR FISCHER ELLIPSOID</span>
048602,000261: 
048603,000262:                                                                                                  <span class="co">#  CALLING SEQUENCE</span>
048604,000263:                                                                                                  <span class="co">#        L       CALL</span>
048605,000264:                                                                                                  <span class="co">#        L+1             SETRE</span>
048606,000265: 
048607,000266:                                                                                                  <span class="co">#  SUBROUTINES USED</span>
048608,000267:                                                                                                  <span class="co">#        GETERAD</span>
048609,000268: 
048610,000269:                                                                                                  <span class="co">#  INPUT</span>
048611,000270:                                                                                                  <span class="co">#        ERADFLAG=0 FOR FIXED RE, 1 FOR COMPUTED RE</span>
048612,000271:                                                                                                  <span class="co">#        ALPHAV +4= 1/2 SINL IF GETERAD IS CALLED</span>
048613,000272:                                                                                                  <span class="co">#        LUNAFLAG=0 FOR EARTH,=1 FOR MOON</span>
048614,000273: 
048615,000274:                                                                                                  <span class="co">#  OUTPUT</span>
048616,000275:                                                                                                  <span class="co">#        ERADM= 504RM FOR MOON (METERS B-29)</span>
048617,000276:                                                                                                  <span class="co">#        ERADM= ERAD OR COMPUTED RF FOR EARTH (METERS B-29)</span>
048618,000277: 
<a name="5345545245"></a>048619,000278: 13,2560           71220        <span class="sm">SETRE   </span>           <span class="in">STQ     </span> <span class="in">DLOAD     </span>                            
048620,000279: 13,2561           00051                                    <a href="#534554524558">SETREX</a>                                
048621,000280: 13,2562           10003                                    <a href="CONTROLLED_CONSTANTS.agc.html#353034524D">504RM</a>                                 
048622,000281: 13,2563           71214                           <span class="in">BON     </span> <span class="in">DLOAD     </span>                            <span class="co">#  BRANCH FOR MOON</span>
048623,000282: 13,2564           01703                                    <a href="FLAGWORD_ASSIGNMENTS.agc.html#4C554E41464C4147">LUNAFLAG</a>                              
048624,000283: 13,2565           26575                                    <a href="#545354524C53524D">TSTRLSRM</a>                              
048625,000284: 13,2566           10001                                    <a href="CONTROLLED_CONSTANTS.agc.html#45524144">ERAD</a>                                  
048626,000285: 13,2567           45014                           <span class="in">BOFF    </span> <span class="in">CALL      </span>                            <span class="co">#  ERADFLAG=0 FOR FIXED RE, 1 FOR COMPUTED</span>
048627,000286: 13,2570           00742                                    <a href="FLAGWORD_ASSIGNMENTS.agc.html#45524144464C4147">ERADFLAG</a>                              
048628,000287: 13,2571           26573                                    <a href="#534554525858">SETRXX</a>                                
048629,000288: 13,2572           26466                                    <a href="#47455445524144">GETERAD</a>                               
<a name="534554525858"></a>048630,000289: 13,2573           37671        <span class="sm">SETRXX  </span>           <span class="in">STCALL  </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#455241444D">ERADM</a>                                 <span class="co">#  EXIT WITH RE OR RM METERS B-29</span>
048631,000290: 13,2574           00051                                    <a href="#534554524558">SETREX</a>                                
<a name="545354524C53524D"></a>048632,000291: 13,2575           77214        <span class="sm">TSTRLSRM</span>           <span class="in">BON     </span> <span class="in">VLOAD     </span>                            <span class="co">#  ERADFLAG=0, SET R0=RLS</span>
048633,000292: 13,2576           00702                                    <a href="FLAGWORD_ASSIGNMENTS.agc.html#45524144464C4147">ERADFLAG</a>                              <span class="co">#          =1      R0=RM</span>
048634,000293: 13,2577           26573                                    <a href="#534554525858">SETRXX</a>                                
048635,000294: 13,2600           02023                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#524C53">RLS</a>                                   
048636,000295: 13,2601           64446                           <span class="in">ABVAL   </span> <span class="in">SR2R      </span>                            <span class="co">#  SCALE FROM B-27 TO B-29</span>
048637,000296: 13,2602           77650                           <span class="in">GOTO    </span>                                       
048638,000297: 13,2603           26573                                    <a href="#534554525858">SETRXX</a>                                
<a name="534554524558"></a>048639,000298: 13,2604  0000051               <span class="sm">SETREX  </span>           <span class="ps">=       </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#5332">S2</a>                                    
048640,000299: 
048641,000300: 

End of include-file LATITUDE_LONGITUDE_SUBROUTINES.agc.  Parent file is <a href="MAIN.agc.html">MAIN.agc</a>
</pre>
</span>
</p>
</body>
</html>
