<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta content="text/html;charset=ISO-8859-1" http-equiv="Content-Type">
<title>Assembly listing generated by yaYUL</title>
<style type="text/css">
p.nobreak { white-space:nowrap; }
a { text-decoration:none; }
</style>
<style type="text/css">
.op{
font-weight: bold;
color: #993300;
}
</style>
<style type="text/css">
.dn{
color: #009900;
}
</style>
<style type="text/css">
.fe{
color: #FF0000;
}
</style>
<style type="text/css">
.in{
color: #FF6600;
}
</style>
<style type="text/css">
.ps{
color: #336600;
}
</style>
<style type="text/css">
.sm{
color: #0000FF;
}
</style>
<style type="text/css">
.wn{
color: #FF9900;
}
</style>
<style type="text/css">
.co{
font-style: italic;
color: #993399;
}
</style>
</head>
<body>
<p class="nobreak">
<span style="font-family: monospace;">
<pre>
<h1>Source Code</h1>
</pre>
</span>
</p>
<table style="text-align: left;" border="1" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<td style="white-space: nowrap; vertical-align: middle;">
<img alt="" src="Apollo32.png" style="width: 32px; height: 32px;" align="left">
</td>
<td style="vertical-align: middle;">
These source-code files are part of a reconstructed copy of Comanche 51, the
initial release (though not the final mission release) of the Apollo 11 
Command Module (CM) Apollo Guidance Computer (AGC) software.  The flown, final
release was Comanche 55. The reconstruction is believed to be exactly accurate, 
but in the absence of an actual Apollo-era listing of Comanche 51, some 
explanation of the reconstruction process is needed to insure confidence in 
that accuracy. 
<br><br>
The starting point was the source code of Comanche 55, whose original source code
is available. Comanche 55 source code was then modified by undoing changes known 
to have been made between revisions 51 and 55. The most-significant steps involved 
reverting changes related to the R-2 lunar potential model, the details of which
were known from the previous, separate, independent reconstruction of the Apollo 10
Lunar Module software Luminary 69/2. The now-reconstructed 
Comanche 51 source code was verified by assembling it and checking that the assembled 
code had the expected known-correct memory-bank checksums. Note that page numbers in 
the reconstructed code match those on the Comanche 55 or Luminary 69 printouts, although 
the source code would likely have different page numbers in a contemporary Comanche 51 listing.
<br><br>
Annotations that were not present in the contemporary source code have been added to 
the reconstructed code to justify each change relative to Comanche 55. Here's a guide 
to some of the Apollo documentation relevant to those annotations:<br>
<ul>
<li><a href="https://archive.org/stream/apertureCardBox467Part2NARASW_images#page/n89/mode/1up">
    MIT/IL engineering drawing 2021153D, sheet 3</a>.  Listing of the memory-bank 
    checksums for Comanche 51.</li>
<li><a href="https://archive.org/details/Comanche55J2k60">
       Comanche 55 (Apollo 11 CM final release) assembly listing</a>.</li>
<li><a href="http://www.ibiblio.org/apollo/listings/LUM69R2/MAIN.agc.html">
       Reconstructed Luminary69/2 (Apollo 10 LM final release) assembly listing</a>.</li>
<li><a href="https://archive.org/details/luminary6900miti">
       Luminary 69 (Apollo 10 LM initial release) assembly listing</a>.</li>
<li><a href="https://archive.org/details/Colossus249MartinPp15651719">
       Colossus 249 (Apollo 9 CM final release) assembly listing</a>.</li>
<li><a href="http://www.ibiblio.org/apollo/links.html#PGE_COLOSSUS2">
       <i>Programmed Guidance Equations for Colossus 2, Based on Comanche 55</i></a>. 
       A pseudocode representation of Comanche 55, showing change bars
       for differences from Comanche 45/2.</li>
</ul>
Among documentation not actually referenced in the annotations, there is 
<a href="https://github.com/virtualagc/virtualagc/pull/1080">
a short writeup about the reconstruction process in our software repository</a>
that may be helpful in understanding it from a different perspective.  There's also
<a href="https://www.ibiblio.org/apollo/Documents/E1142-61.pdf#page=33">a handy table</a>
that lists what the number of memory-words should be for each routine in Comanche 51,
which could make a nice double-check; however, we've not performed that double-check ourselves.
<br><br>
Comments expected to have been present in the original source code are prefixed with a single '#' symbol, 
whereas comments added later are prefixed by "##" or "###".  Report any errors 
noted by creating an 
issue report at <a href="https://github.com/rburkey2005/virtualagc/issues">the Virtual AGC
Project's GitHub repository</a>.
</td></tr></tbody></table>

<p class="nobreak">
<span style="font-family: monospace;">
<pre>
041740,000002:                                                                                                  <span class="co">## Copyright:   Public domain.</span>
041741,000003:                                                                                                  <span class="co">## Filename:    TVCRESTARTS.agc</span>
041742,000004:                                                                                                  <span class="co">## Purpose:     A section of Comanche revision 051.</span>
041743,000005:                                                                                                  <span class="co">##              It is part of the reconstructed source code for the</span>
041744,000006:                                                                                                  <span class="co">##              original release of the flight software for the Command</span>
041745,000007:                                                                                                  <span class="co">##              Module's (CM) Apollo Guidance Computer (AGC) for Apollo 11.</span>
041746,000008:                                                                                                  <span class="co">##              The code has been recreated from a copy of Comanche 055. It</span>
041747,000009:                                                                                                  <span class="co">##              has been adapted such that the resulting bugger words</span>
041748,000010:                                                                                                  <span class="co">##              exactly match those specified for Comanche 51 in NASA drawing</span>
041749,000011:                                                                                                  <span class="co">##              2021153D, which gives relatively high confidence that the</span>
041750,000012:                                                                                                  <span class="co">##              reconstruction is correct.</span>
041751,000013:                                                                                                  <span class="co">## Reference:   pp. 956-960</span>
041752,000014:                                                                                                  <span class="co">## Assembler:   yaYUL</span>
041753,000015:                                                                                                  <span class="co">## Contact:     Ron Burkey &lt;info@sandroid.org>.</span>
041754,000016:                                                                                                  <span class="co">## Website:     www.ibiblio.org/apollo/index.html</span>
041755,000017:                                                                                                  <span class="co">## Mod history: 2019-07-30 MAS  Created from Comanche 55.</span>
041756,000018: 
</pre>
</span>
</p>
<table style="text-align: left;" border="1" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<td style="white-space: nowrap; vertical-align: middle;">
<img alt="" src="Apollo32.png" style="width: 32px; height: 32px;" align="left">
</td>
<td style="vertical-align: middle;">
Page 956
</td></tr></tbody></table>
<p class="nobreak">
<span style="font-family: monospace;">
<pre>
041758,000020:                                                                                                  <span class="co">#  NAME....TVCRESTART PACKAGE, CONSISTING OF REDOTVC, ENABL1, 2, CMDSOUT, PHSCHK2, ETC.</span>
041759,000021:                                                                                                  <span class="co">#  LOG SECTION...TVCRESTARTS                     SUBROUTINE...DAPCSM</span>
041760,000022:                                                                                                  <span class="co">#  MODIFIED BY SCHLUNDT                          21 OCTOBER 1968</span>
041761,000023: 
041762,000024:                                                                                                  <span class="co">#  FUNCTIONAL DESCRIPTION....</span>
041763,000025: 
041764,000026:                                                                                                  <span class="co">#       *RESTART-PROOFS THE TVC DAPS, INCLUDING PITCHDAP, YAWDAP,</span>
041765,000027:                                                                                                  <span class="co">#        TVCEXECUTIVE, ROLLDAP, TVCINIT4, TVCDAPON, AND CSM/.M V46 SWTCHOVR.</span>
041766,000028: 
041767,000029:                                                                                                  <span class="co">#       *TVC RESTARTS DESERVE SPECIAL CONSIDERATION IN SEVERAL AREAS.</span>
041768,000030:                                                                                                  <span class="co">#        RESTART DOWN-TIME IS IMPORTANT BECAUSE OF THE TRANSIENTS INTRODUCED</span>
041769,000031:                                                                                                  <span class="co">#        BY THE THRUST VECTOR RETURN TO THE ACTUATOR MECHANICAL NULLS</span>
041770,000032:                                                                                                  <span class="co">#        FOLLOWING TVC- AND OPTICS-ERROR-COUNTER-DISENABLES (CHANNEL 12).</span>
041771,000033:                                                                                                  <span class="co">#        TVC USES A MIXTURE OF WAITLIST, T5, T6, AND JOB CALLS.  THERE IS</span>
041772,000034:                                                                                                  <span class="co">#        FILTER MEMORY (UP TO 6TH ORDER) TO BE PROTECTED IF WILD TRANSIENTS</span>
041773,000035:                                                                                                  <span class="co">#        ARE TO BE AVOIDED.  COUNTERS ARE INVOLVED FOR ONE-SHOT</span>
041774,000036:                                                                                                  <span class="co">#        CORRECTIONS AND GAIN UPDATES.  THE GIMBAL TRIM ESTIMATORS AND THE</span>
041775,000037:                                                                                                  <span class="co">#        BODY AXIS ATTITUDE ERROR INTEGRATORS INVOLVE DIGITAL SUMMATION.</span>
041776,000038:                                                                                                  <span class="co">#        DIGITAL DIFFERENTIATORS ARE INVOLVED IN THE BODY AXIS RATE ESTIMA-</span>
041777,000039:                                                                                                  <span class="co">#        TIONS AND IN THE OUTPUTTING OF ACTUATOR COMMANDS.  THERE IS AN</span>
041778,000040:                                                                                                  <span class="co">#        OFFSET-TRACKER-FILTER TO PROTECT.  ETC., ETC.</span>
041779,000041: 
041780,000042:                                                                                                  <span class="co">#       *THOSE QUANTITIES WHICH MUST BE PROTECTED ARE STORED IN TEMPORARY</span>
041781,000043:                                                                                                  <span class="co">#        REGISTERS AS THEY ARE COMPUTED, FOR UPDATING THE REAL REGISTERS</span>
041782,000044:                                                                                                  <span class="co">#        DURING COPYCYCLES.</span>
041783,000045: 
041784,000046:                                                                                                  <span class="co">#       *THE SEVERAL COPYCYCLES ARE EACH PROTECTED BY PHASE POINTS AT THEIR</span>
041785,000047:                                                                                                  <span class="co">#        BEGINNING AND AT THEIR TERMINATION.  THE PHASE POINTS ARE SIMPLY</span>
041786,000048:                                                                                                  <span class="co">#        ..INCR.. INSTRUCTIONS, EITHER ..INCR TVCEXPHS.. FOR COPYCYCLES</span>
041787,000049:                                                                                                  <span class="co">#        IN THE TVCEXECUTIVE, OR ..INCR TVCPHASE.. FOR THE PITCH AND YAW</span>
041788,000050:                                                                                                  <span class="co">#        COPYCYCLES.  INDEXING ON EACH OF THESE POINTERS THEN PERMITS A</span>
041789,000051:                                                                                                  <span class="co">#        RETURN TO THE APPROPRIATE RESTART POINTS.</span>
041790,000052: 
041791,000053:                                                                                                  <span class="co">#       *IF A RESTART OCCURS DURING EITHER COPYCYCLE, THAT COPYCYCLE IS</span>
041792,000054:                                                                                                  <span class="co">#        COMPLETED.  THEN THE NORMAL TVCINIT4....DAPINIT....PITCHDAP STARTUP</span>
041793,000055:                                                                                                  <span class="co">#        SEQUENCE IS CALLED UPON TO GET THINGS GOING AGAIN.</span>
041794,000056: 
041795,000057:                                                                                                  <span class="co">#       *TVC-ENABLE AND OPTICS-ERROR-COUNTER ENABLE MUST BE SET ASAP</span>
041796,000058:                                                                                                  <span class="co">#        (ALLOWING FOR PROCEDURAL DELAYS).  THEN THE ENGINES ARE COMMANDED</span>
041797,000059:                                                                                                  <span class="co">#        TO THE P,YACTOFF TRIM VALUES.  THE DAPS ARE THEN READY TO GO ON THE</span>
041798,000060:                                                                                                  <span class="co">#        AIR, WITH THE REGULAR STARTUP SEQUENCE, EITHER AT MRCLEAN FOR A</span>
041799,000061:                                                                                                  <span class="co">#        COMPLETE INITIALIZATION OR AT TVCINIT4 FOR A PARTIAL INITIALIZATION</span>
041800,000062: 
041801,000063:                                                                                                  <span class="co">#       *FOR RESTARTS PRIOR TO THE SETTING OF THE T5 BITS AT DOTVCON THE</span>
041802,000064:                                                                                                  <span class="co">#        PRE40.6 SECTION OF S40.6 TAKES CARE OF RE-ESTABLISHING TRIMS.</span>
041803,000065: 
041804,000066:                                                                                                  <span class="co">#       *IF A RESTART OCCURS DURING THE TVCEXEC....TVCEXFIN SEQUENCE THE</span>
041805,000067:                                                                                                  <span class="co">#        COMPUTATIONS WILL BE COMPLETED, STARTING AT THE APPROPRIATE RESTART</span>
041806,000068:                                                                                                  <span class="co">#        POINT, AFTER THE DAPS ARE READY TO GO ON THE AIR.</span>
041807,000069: 
041808,000070:                                                                                                  <span class="co">#       *IF A RESTART OCCURS PRIOR TO TVCINIT4 (TVCPHASE = -1) E.G. DURING</span>
041809,000071:                                                                                                  <span class="co">#        THE EARLY DAP INITIALIZATION PHASE, THE DAP STARTUP SEQUENCE IS</span>
041810,000072:                                                                                                  <span class="co">#        ENTERED AT MRCLEAN FOR A FULL INITIALIZATION.</span>
041811,000073: 
041812,000074:                                                                                                  <span class="co">#       *FOR RESTARTS DURING CSM/LM V46 SWITCH-OVER, TVCPHASE IS SET TO -2.</span>
041813,000075:                                                                                                  <span class="co">#        AND THE RESTART LOGIC GOES BACK TO REDO SWITCH-OVER (AFTER THE</span>
041814,000076:                                                                                                  <span class="co">#        NORMAL DAP RESTART SEQUENCE IS FOLLOWED).</span>
041815,000077: 
041816,000078:                                                                                                  <span class="co">#       *RESTARTS ARE NOT CRITICAL TO THE ROLL DAP PERFORMANCES HENCE THE</span>
041817,000079:                                                                                                  <span class="co">#        THE ROLL DAP IS MERELY RESTARTED.</span>
041818,000080: 
041819,000081:                                                                                                  <span class="co">#       *RESTARTS DURING A STROKE TEST (STROKER IS NON-ZERO) WILL CAUSE THE</span>
</pre>
</span>
</p>
<table style="text-align: left;" border="1" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<td style="white-space: nowrap; vertical-align: middle;">
<img alt="" src="Apollo32.png" style="width: 32px; height: 32px;" align="left">
</td>
<td style="vertical-align: middle;">
Page 957
</td></tr></tbody></table>
<p class="nobreak">
<span style="font-family: monospace;">
<pre>
041821,000083:                                                                                                  <span class="co">#        STROKE TEST TO BE TERMINATED.  A NEW V68 ENTRY WILL BE REQUIRED</span>
041822,000084:                                                                                                  <span class="co">#        TO GET IT GOING AGAIN (NO AUTOMATIC RESTART).</span>
041823,000085:                                                                                                  <span class="co">#   </span>
041824,000086:                                                                                                  <span class="co">#       *REDOTVC IS REACHED FOLLOWING ANY RESTART WHICH FINDS THE T5 BITS</span>
041825,000087:                                                                                                  <span class="co">#        (BITS 15,14 OF FLAGWRD6) SET FOR TVC.  DOTVCON SETS TVCPHASE = -1</span>
041826,000088:                                                                                                  <span class="co">#        AND TVC EXPHS = 0 JUST BEFORE SETTING THESE BITS, JUST BEFORE</span>
041827,000089:                                                                                                  <span class="co">#        MAKING THE T5 CALL TO TVCDAPON.  ON A NORMAL SHUTDOWN DOTVCRCS</span>
041828,000090:                                                                                                  <span class="co">#        CALLS RCSDAPON, WHICH RESETS THE T5 BITS FOR RCS.</span>
041829,000091: 
041830,000092:                                                                                                  <span class="co">#  CALLING SEQUENCE....T5, IN PARTICULAR BY ELRSKIP OF FRESH START/RESTART</span>
041831,000093: 
041832,000094:                                                                                                  <span class="co">#  NORMAL EXIT MODES....RESUME, NOQRSM, POSTJUMP (TO TVCINIT4 OR MRCLEAN)</span>
041833,000095: 
041834,000096:                                                                                                  <span class="co">#  ALARM OR ABORT EXIT MODES....NONE</span>
041835,000097: 
041836,000098:                                                                                                  <span class="co">#  SUBROUTINES CALLED....</span>
041837,000099: 
041838,000100:                                                                                                  <span class="co">#       *PCOPY+1, YCOPY+1 (PITCH AND YAW COPYCYCLES)</span>
041839,000101:                                                                                                  <span class="co">#       *ENABLE1,2, CMDSOUT (RE-ESTABLISH ACTUATOR TRIMS)</span>
041840,000102:                                                                                                  <span class="co">#       *MRCLEAN OR TVCINIT4 (TVCDAP INITIALIZATIONS)</span>
041841,000103:                                                                                                  <span class="co">#       *SWICHOVR +5 (CSM/LM V46 SWITCH-OVER)</span>
041842,000104:                                                                                                  <span class="co">#       *EXRSTRT AND TVCEXECUTIVE PHASE POINTS 1 THRU 6</span>
041843,000105:                                                                                                  <span class="co">#       *WAITLIST, IBNKCALL, POSTJUMP, ISWCALL</span>
041844,000106: 
041845,000107:                                                                                                  <span class="co">#  OTHER INTERFACES....DOTVCON AND RCSDAPON (T5 BITS), ELRSKIP (CALLS IT)</span>
041846,000108: 
041847,000109:                                                                                                  <span class="co">#  ERASABLE INITIALIZATION REQUIRED....</span>
041848,000110: 
041849,000111:                                                                                                  <span class="co">#       *T5 BITS (1,0), TVCPHASE (-2,-1,0,1,2,3), TVCEXPHS (1 THRU 6)</span>
041850,000112:                                                                                                  <span class="co">#       *TVC DAP VARIABLES</span>
041851,000113:                                                                                                  <span class="co">#       *OPERATIONS PERFORMED BY REDOTVC ARE BASED ON THE ASSUMPTION THAT</span>
041852,000114:                                                                                                  <span class="co">#        THE TVC DAPS ARE RUNNING NORMALLY</span>
041853,000115: 
041854,000116:                                                                                                  <span class="co">#  OUTPUT....</span>
041855,000117: 
041856,000118:                                                                                                  <span class="co">#       *PITCH AND YAW TVC DAP COPYCYCLES COMPLETED IF INTERUPTED</span>
041857,000119:                                                                                                  <span class="co">#       *TVCEXECUTIVE COMPLETED IF INTERUPTED</span>
041858,000120:                                                                                                  <span class="co">#       *STROKE TEST TERMINATED IF INTERRUPTED</span>
041859,000121:                                                                                                  <span class="co">#       *CSM/LM V46 SWITCH-OVER REPEATED IF INTERRUPTED</span>
041860,000122:                                                                                                  <span class="co">#       *ACTUATOR TRIMS RE-ESTABLISHED (ACTUATORS BACK ON THE AIR)</span>
041861,000123:                                                                                                  <span class="co">#       *TVC DAP INITIALIZATION AS REQUIRED</span>
041862,000124:                                                                                                  <span class="co">#       *ALL TVC DAP OPERATIONS ON THE AIR</span>
041863,000125: 
041864,000126:                                                                                                  <span class="co">#  DEBRIS....TVC TEMPORARIES IN EBANK6</span>
041865,000127: 
</pre>
</span>
</p>
<table style="text-align: left;" border="1" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<td style="white-space: nowrap; vertical-align: middle;">
<img alt="" src="Apollo32.png" style="width: 32px; height: 32px;" align="left">
</td>
<td style="vertical-align: middle;">
Page 958
</td></tr></tbody></table>
<p class="nobreak">
<span style="font-family: monospace;">
<pre>
041867,000129: 
041868,000130: 16,3140                                           <span class="ps">BANK    </span> 16                                    
041869,000131: 16,2000                                           <span class="ps">SETLOC  </span> <a href="TAGS_FOR_RELATIVE_SETLOC_AND_BLANK_BANK_CARDS.agc.html#444150524F4C4C">DAPROLL</a>                               
041870,000132: 16,2000                                           <span class="ps">BANK    </span>                                       
041871,000133: 16,3140  E6,1644                                  <span class="ps">EBANK=  </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#5456435048415345">TVCPHASE</a>                              
041872,000134: 16,3140                                           <span class="ps">COUNT*  </span> $$/RSRT                               
041873,000135: 
<a name="5245444F545643"></a>041874,000136: 16,3140           22016        <span class="sm">REDOTVC </span>           <span class="op">LXCH    </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#42414E4B52555054">BANKRUPT</a>                              <span class="co">#  TVC RESTART PACKAGE</span>
041875,000137: 16,3141           00006                           <span class="op">EXTEND  </span>                                       
041876,000138: 16,3142           22012                           <span class="op">QXCH    </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#5152555054">QRUPT</a>                                 <span class="co">#  (..TCR.. IN ..FINCOPY..)</span>
041877,000139: 
<a name="45584543504853"></a>041878,000140: 16,3143           11651        <span class="sm">EXECPHS </span>           <span class="op">CCS     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#5456434558504853">TVCEXPHS</a>                              <span class="co">#  CHECK TVCEXECUTIVE PHASE</span>
041879,000141: 16,3144           13146                           <span class="op">TCF     </span> +2                                    <span class="co">#        MUST RESTART TVCEXECUTIVE</span>
041880,000142: 16,3145           13152                           <span class="op">TCF     </span> <a href="#5456434441504853">TVCDAPHS</a>                              <span class="co">#        NO NEED TO RESTART TVCEXECUTIVE</span>
041881,000143: 
041882,000144: 16,3146           34334                           <span class="op">CAF     </span> <a href="FIXED-FIXED_CONSTANT_POOL.agc.html#4E494E45">NINE</a>                                  <span class="co">#  9CS DELAY TO FORCE EXRSTRT TO OCCUR</span>
041883,000145: 16,3147           05245                           <span class="op">TC      </span> <a href="WAITLIST.agc.html#574149544C495354">WAITLIST</a>                              <span class="co">#        BEFORE PITCHDAP, AFTER CMDSOUT</span>
041884,000146: 16,3150  E6,1651                                  <span class="ps">EBANK=  </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#5456434558504853">TVCEXPHS</a>                              
041885,000147: 16,3150           03253 34066                     <span class="ps">2CADR   </span> <a href="#45585253545254">EXRSTRT</a>                               
041886,000148: 
<a name="5456434441504853"></a>041887,000149: 16,3152           47700        <span class="sm">TVCDAPHS</span>           <span class="op">CS      </span> <a href="FIXED-FIXED_CONSTANT_POOL.agc.html#4F43543337373736">OCT37776</a>                              <span class="co">#  CHECK BITS 15 AND 1 OF TVCPHASE TO SEE</span>
041888,000150: 16,3153           71644                           <span class="op">MASK    </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#5456435048415345">TVCPHASE</a>                              <span class="co">#        DAP RESTART LOCATION (-1,1,2,3)</span>
041889,000151: 16,3154           10000                           <span class="op">CCS     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#41">A</a>                                     
041890,000152: 16,3155           13240                           <span class="op">TCF     </span> <a href="#46494E434F5059">FINCOPY</a>                               <span class="co">#        FINISH THE COPYCYCLE FIRST</span>
041891,000153: 16,3156           13163                           <span class="op">TCF     </span> <a href="#454E41424C31">ENABL1</a>                                <span class="co">#        JUST PREPARE THE OUTCOUNTERS AND GO</span>
041892,000154: 
041893,000155: 16,3157           41644                           <span class="op">CS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#5456435048415345">TVCPHASE</a>                              <span class="co">#  TEST FOR TVCPHASE = -2</span>
041894,000156: 16,3160           75016                           <span class="op">MASK    </span> <a href="FIXED-FIXED_CONSTANT_POOL.agc.html#42495432">BIT2</a>                                  <span class="co">#        (THIS INDICATES RESTART OCCURRED</span>
041895,000157: 16,3161           00006                           <span class="op">EXTEND  </span>                                       <span class="co">#         DURING CSM/LM V46 SWITCH-OVER)</span>
041896,000158: 16,3162           13244                           <span class="op">BZF     </span> <a href="#5452494D2F434D44">TRIM/CMD</a>                              <span class="co">#  NO, TVCPHASE = -1, RSTRT WAS IN TVCINIT</span>
041897,000159: 
<a name="454E41424C31"></a>041898,000160: 16,3163           35010        <span class="sm">ENABL1  </span>           <span class="op">CAF     </span> <a href="FIXED-FIXED_CONSTANT_POOL.agc.html#42495438">BIT8</a>                                  <span class="co">#  TVC ENABLE, FOLLOWED BY 40 MS (MIN) WAIT</span>
041899,000161: 16,3164           65005                           <span class="op">AD      </span> <a href="FIXED-FIXED_CONSTANT_POOL.agc.html#4249543131">BIT11</a>                                 <span class="co">#        SET BIT FOR OPTICS-DAC-ENABLE ALSO</span>
041900,000162: 16,3165           00006                           <span class="op">EXTEND  </span>                                       <span class="co">#        (ENABL1 ENTERED FROM TVCDAPHS / FINCOPY)</span>
041901,000163: 16,3166           05012                           <span class="op">WOR     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4348414E3132">CHAN12</a>                                
041902,000164: 16,3167           33257                           <span class="op">CAF     </span> <a href="#54564341444452">TVCADDR</a>                               <span class="co">#  WAIT, CALLING ENABL2 (BBCON THERE)</span>
041903,000165: 16,3170           55312                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#54354C4F43">T5LOC</a>                                 
041904,000166: 16,3171           33263                           <span class="op">CAF     </span> <a href="#54564341444452">TVCADDR</a>    +4                         <span class="co">#        60 MS (TVCEXADR)</span>
041905,000167: 16,3172           54030                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#54494D4535">TIME5</a>                                 
041906,000168: 
041907,000169: 16,3173           15333                           <span class="op">TCF     </span> <a href="WAITLIST.agc.html#524553554D45">RESUME</a>                                
041908,000170: 
<a name="454E41424C32"></a>041909,000171: 16,3174           22016        <span class="sm">ENABL2  </span>           <span class="op">LXCH    </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#42414E4B52555054">BANKRUPT</a>                              <span class="co">#  CONTINUE PREPARATION OF OUTCOUNTERS</span>
041910,000172: 
041911,000173: 16,3175           35016                           <span class="op">CAF     </span> <a href="FIXED-FIXED_CONSTANT_POOL.agc.html#42495432">BIT2</a>                                  <span class="co">#  OPTICS ERROR CNTR ENABLE, 4MS MIN WAIT</span>
041912,000174: 16,3176           00006                           <span class="op">EXTEND  </span>                                       
041913,000175: 16,3177           05012                           <span class="op">WOR     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4348414E3132">CHAN12</a>                                
</pre>
</span>
</p>
<table style="text-align: left;" border="1" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<td style="white-space: nowrap; vertical-align: middle;">
<img alt="" src="Apollo32.png" style="width: 32px; height: 32px;" align="left">
</td>
<td style="vertical-align: middle;">
Page 959		
</td></tr></tbody></table>
<p class="nobreak">
<span style="font-family: monospace;">
<pre>
041915,000177: 16,3200           33261                           <span class="op">CAF     </span> <a href="#54564341444452">TVCADDR</a>    +2                         <span class="co">#  WAIT, CALLING CMDSOUT (BBCON THERE)</span>
041916,000178: 16,3201           55312                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#54354C4F43">T5LOC</a>                                 
041917,000179: 16,3202           37700                           <span class="op">CAF     </span> <a href="FIXED-FIXED_CONSTANT_POOL.agc.html#4F43543337373736">OCT37776</a>                              <span class="co">#        20MS</span>
041918,000180: 16,3203           54030                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#54494D4535">TIME5</a>                                 
041919,000181: 
041920,000182: 16,3204           15335                           <span class="op">TCF     </span> <a href="WAITLIST.agc.html#4E4F5152534D">NOQRSM</a>                                
041921,000183: 
<a name="434D44534F5554"></a>041922,000184: 16,3205           22016        <span class="sm">CMDSOUT </span>           <span class="op">LXCH    </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#42414E4B52555054">BANKRUPT</a>                              <span class="co">#  CONTINUE PREPARATION OF OUTCOUNTERS</span>
041923,000185: 16,3206           00006                           <span class="op">EXTEND  </span>                                       
041924,000186: 16,3207           22012                           <span class="op">QXCH    </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#5152555054">QRUPT</a>                                 
041925,000187: 
041926,000188: 16,3210           45021                           <span class="op">CS      </span> <a href="FIXED-FIXED_CONSTANT_POOL.agc.html#5A45524F">ZERO</a>                                  <span class="co">#  MOST RECENT ACTUATOR COMMANDS</span>
041927,000189: 16,3211           61623                           <span class="op">AD      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#50434D44">PCMD</a>                                  <span class="co">#        (AVOID +0)</span>
041928,000190: 16,3212           54054                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#5456435049544348">TVCPITCH</a>                              
041929,000191: 16,3213           45021                           <span class="op">CS      </span> <a href="FIXED-FIXED_CONSTANT_POOL.agc.html#5A45524F">ZERO</a>                                  
041930,000192: 16,3214           61624                           <span class="op">AD      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#59434D44">YCMD</a>                                  
041931,000193: 16,3215           54053                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#545643594157">TVCYAW</a>                                
041932,000194: 
041933,000195: 16,3216           35062                           <span class="op">CAF     </span> <a href="FIXED-FIXED_CONSTANT_POOL.agc.html#5052494F36">PRIO6</a>                                 <span class="co">#  RELEASE THE COUNTERS (BITS 11,12)</span>
041934,000196: 16,3217           00006                           <span class="op">EXTEND  </span>                                       
041935,000197: 16,3220           05014                           <span class="op">WOR     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4348414E3134">CHAN14</a>                                
041936,000198: 
<a name="50485343484B32"></a>041937,000199: 16,3221           11644        <span class="sm">PHSCHK2 </span>           <span class="op">CCS     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#5456435048415345">TVCPHASE</a>                              <span class="co">#  CHECK TVCPHASE AGAIN</span>
041938,000200: 16,3222           13232                           <span class="op">TCF     </span> <a href="#43484B5354524B">CHKSTRK</a>                               
041939,000201: 16,3223           13232                           <span class="op">TCF     </span> <a href="#43484B5354524B">CHKSTRK</a>                               
041940,000202: 16,3224           10000                           <span class="op">CCS     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#41">A</a>                                     <span class="co">#  A CONTAINS THE DIMINISHED ABSOLUTE OF</span>
041941,000203: 16,3225           03230                           <span class="op">TC      </span> +3                                    <span class="co">#  TVCPHASE (-2 BECOMES +1. -1 BECOMES +0)</span>
041942,000204: 
041943,000205: 16,3226           04701                           <span class="op">TC      </span> <a href="INTER-BANK_COMMUNICATION.agc.html#504F53544A554D50">POSTJUMP</a>                              <span class="co">#        REPEAT TVC INITIALIZATION</span>
041944,000206: 16,3227           36152                           <span class="ps">CADR    </span> <a href="TVCINITIALIZE.agc.html#4D52434C45414E">MRCLEAN</a>                               <span class="co">#        (DO NOT RETURN)</span>
041945,000207: 
041946,000208: 16,3230           04740                 +3        <span class="op">TC      </span> <a href="INTER-BANK_COMMUNICATION.agc.html#49424E4B43414C4C">IBNKCALL</a>                              <span class="co">#        REPEAT CSM/LM V46 SWITCH-OVER</span>
041947,000209: 16,3231           36361                           <span class="ps">CADR    </span> <a href="TVCINITIALIZE.agc.html#53574943484F5652">SWICHOVR</a>   +5                         <span class="co">#        (RETURN TO CHECK FOR STROKE TEST)</span>
041948,000210: 
<a name="43484B5354524B"></a>041949,000211: 16,3232           11574        <span class="sm">CHKSTRK </span>           <span class="op">CCS     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#5354524F4B4552">STROKER</a>                               <span class="co">#  CHECK FOR STROKE TEST IN PROGRESS</span>
041950,000212: 16,3233           13250                           <span class="op">TCF     </span> <a href="#545354494E49544A">TSTINITJ</a>                              <span class="co">#  YES, KILL IT</span>
041951,000213: 16,3234           13236                           <span class="op">TCF     </span> +2                                    <span class="co">#  NO, PROCEED</span>
041952,000214: 16,3235           13250                           <span class="op">TCF     </span> <a href="#545354494E49544A">TSTINITJ</a>                              <span class="co">#  YES, KILL IT</span>
041953,000215: 
041954,000216: 16,3236           04701                 +4        <span class="op">TC      </span> <a href="INTER-BANK_COMMUNICATION.agc.html#504F53544A554D50">POSTJUMP</a>                              <span class="co">#        IF POSITIVE OR ZERO, RESTART AT</span>
041955,000217: 16,3237           36324                           <span class="ps">CADR    </span> <a href="TVCINITIALIZE.agc.html#545643494E495434">TVCINIT4</a>                              <span class="co">#                TVCINIT4 (ZEROS TVCPHASE, AND</span>
041956,000218:                                                                                                  <span class="co">#                CALLS TVC DAPS VIA DAPINIT)</span>
<a name="46494E434F5059"></a>041957,000219: 16,3240           51644        <span class="sm">FINCOPY </span>           <span class="op">INDEX   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#5456435048415345">TVCPHASE</a>                              <span class="co">#  PICK UP THE APPROPRIATE COPYCYCLE</span>
041958,000220: 16,3241           33257                           <span class="op">CAF     </span> <a href="#54564343414452">TVCCADR</a>                               
041959,000221: 16,3242           04744                           <span class="op">TCR     </span> <a href="INTER-BANK_COMMUNICATION.agc.html#49535743414C4C">ISWCALL</a>                               <span class="co">#  RE-ENTER THE COPYCYCLE, RETURN AT END</span>
041960,000222: 16,3243           13163                           <span class="op">TCF     </span> <a href="#454E41424C31">ENABL1</a>                                <span class="co">#  NOW PREPARE THE OUTCOUNTERS</span>
041961,000223: 
<a name="5452494D2F434D44"></a>041962,000224: 16,3244           00006        <span class="sm">TRIM/CMD</span>           <span class="op">EXTEND  </span>                                       <span class="co">#  TVCDAPON INITIALIZATION NOT COMPLETED,</span>
</pre>
</span>
</p>
<table style="text-align: left;" border="1" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<td style="white-space: nowrap; vertical-align: middle;">
<img alt="" src="Apollo32.png" style="width: 32px; height: 32px;" align="left">
</td>
<td style="vertical-align: middle;">
Page 960
</td></tr></tbody></table>
<p class="nobreak">
<span style="font-family: monospace;">
<pre>
041964,000226: 16,3245           31424                           <span class="op">DCA     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#504143544F4646">PACTOFF</a>                               <span class="co">#        EG. P,YCMD MAY NOT BE SET.  SET...</span>
041965,000227: 16,3246           53624                           <span class="op">DXCH    </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#50434D44">PCMD</a>                                  
041966,000228: 16,3247           13163                           <span class="op">TCF     </span> <a href="#454E41424C31">ENABL1</a>                                <span class="co">#  NOW PREPARE THE OUTCOUNTERS</span>
041967,000229: 
<a name="545354494E49544A"></a>041968,000230: 16,3250           35021        <span class="sm">TSTINITJ</span>           <span class="op">CAF     </span> <a href="FIXED-FIXED_CONSTANT_POOL.agc.html#5A45524F">ZERO</a>                                  <span class="co">#  DISABLE STROKE TEST (-0 SHOWS PRIOR V68)</span>
041969,000231: 16,3251           55574                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#5354524F4B4552">STROKER</a>                               <span class="co">#  (+0 MEANS NEW V68 REQUIRED FOR STARTUP)</span>
041970,000232: 
041971,000233: 16,3252           13236                           <span class="op">TCF     </span> <a href="#43484B5354524B">CHKSTRK</a>    +4                         
041972,000234: 
<a name="45585253545254"></a>041973,000235: 16,3253           51651        <span class="sm">EXRSTRT </span>           <span class="op">INDEX   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#5456434558504853">TVCEXPHS</a>                              <span class="co">#  TVCEXECUTIVE RESTARTS....GO TO</span>
041974,000236: 16,3254           33263                           <span class="op">CAF     </span> <a href="#5456434558414452">TVCEXADR</a>                              <span class="co">#        APPROPRIATE RESTART POINT</span>
041975,000237: 16,3255           50000                           <span class="op">INDEX   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#41">A</a>                                     
041976,000238: 16,3256           10000                           <span class="op">TCF     </span> 0                                     
041977,000239: 
041978,000240:                                                                                                  <span class="co">#  TVC RESTART TABLES.... ORDER IS REQUIRED.  HI-ORDER WORDS ONLY, OF 2CADRS, SINCE BBCON IS ALREADY THERE.</span>
041979,000241: 
<a name="54564341444452"></a>041980,000242: 16,3257  16,3257               <span class="sm">TVCADDR </span>           <span class="ps">=       </span> <a href="#54564343414452">TVCCADR</a>                               <span class="co">#  TABLE OF CADRS, UNUSED LOCS FOR GENADRS</span>
<a name="54564343414452"></a>041981,000243: 16,3257           03174        <span class="sm">TVCCADR </span>           <span class="ps">GENADR  </span> <a href="#454E41424C32">ENABL2</a>                                <span class="co">#  (FOR T5 CALL, UNUSED TABLE LOC)</span>
041982,000244: 16,3260           40675                 +1        <span class="ps">CADR    </span> <a href="TVCDAPS.agc.html#50434F5059">PCOPY</a>      +1                         <span class="co">#  PITCH COPYCYCLE</span>
041983,000245: 16,3261           03205                 +2        <span class="ps">GENADR  </span> <a href="#434D44534F5554">CMDSOUT</a>                               <span class="co">#  (FOR T5 CALL, UNUSED TABLE LOC)</span>
041984,000246: 16,3262           41051                 +3        <span class="ps">CADR    </span> <a href="TVCDAPS.agc.html#59434F5059">YCOPY</a>      +1                         <span class="co">#  YAW COPYCYCLE</span>
<a name="5456434558414452"></a>041985,000247: 16,3263           37772        <span class="sm">TVCEXADR</span>           <span class="ps">OCT     </span> 37772                                 <span class="co">#  (UNUSED TABLE LOC, FILL WITH 60MS, T5)</span>
041986,000248: 16,3264           03003                 +1        <span class="ps">GENADR  </span> <a href="TVCEXECUTIVE.agc.html#45584543434F5059">EXECCOPY</a>   +1                         <span class="co">#  TVCEXECUTIVE RESTART POINTS (ORDERED)</span>
041987,000249: 16,3265           03011                 +2        <span class="ps">GENADR  </span> <a href="TVCEXECUTIVE.agc.html#3153484F5443484B">1SHOTCHK</a>                              
041988,000250: 16,3266           03040                 +3        <span class="ps">GENADR  </span> <a href="TVCEXECUTIVE.agc.html#54454D50534554">TEMPSET</a>                               
041989,000251: 16,3267           03043                 +4        <span class="ps">GENADR  </span> <a href="TVCEXECUTIVE.agc.html#434F525345545550">CORSETUP</a>                              
041990,000252: 16,3270           03121                 +5        <span class="ps">GENADR  </span> <a href="TVCEXECUTIVE.agc.html#434F52434F5059">CORCOPY</a>    +1                         
041991,000253: 16,3271           03132                 +6        <span class="ps">GENADR  </span> <a href="TVCEXECUTIVE.agc.html#434E5452434F5059">CNTRCOPY</a>                              

End of include-file TVCRESTARTS.agc.  Parent file is <a href="MAIN.agc.html">MAIN.agc</a>
</pre>
</span>
</p>
</body>
</html>
