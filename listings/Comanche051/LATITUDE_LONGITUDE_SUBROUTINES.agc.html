<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta content="text/html;charset=ISO-8859-1" http-equiv="Content-Type">
<title>Assembly listing generated by yaYUL</title>
<style type="text/css">
p.nobreak { white-space:nowrap; }
a { text-decoration:none; }
</style>
<style type="text/css">
.op{
font-weight: bold;
color: #993300;
}
</style>
<style type="text/css">
.dn{
color: #009900;
}
</style>
<style type="text/css">
.fe{
color: #FF0000;
}
</style>
<style type="text/css">
.in{
color: #FF6600;
}
</style>
<style type="text/css">
.ps{
color: #336600;
}
</style>
<style type="text/css">
.sm{
color: #0000FF;
}
</style>
<style type="text/css">
.wn{
color: #FF9900;
}
</style>
<style type="text/css">
.co{
font-style: italic;
color: #993399;
}
</style>
</head>
<body>
<p class="nobreak">
<span style="font-family: monospace;">
<pre>
<h1>Source Code</h1>
</pre>
</span>
</p>
<table style="text-align: left;" border="1" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<td style="white-space: nowrap; vertical-align: middle;">
<img alt="" src="Apollo32.png" style="width: 32px; height: 32px;" align="left">
</td>
<td style="vertical-align: middle;">
These source-code files are part of a reconstructed copy of Comanche 51, the
initial release (though not the final mission release) of the Apollo 11 
Command Module (CM) Apollo Guidance Computer (AGC) software.  The flown, final
release was Comanche 55. The reconstruction is believed to be exactly accurate, 
but in the absence of an actual Apollo-era listing of Comanche 51, some 
explanation of the reconstruction process is needed to insure confidence in 
that accuracy. 
<br><br>
The starting point was the source code of Comanche 55, whose original source code
is available. Comanche 55 source code was then modified by undoing changes known 
to have been made between revisions 51 and 55. The most-significant steps involved 
reverting changes related to the R-2 lunar potential model, the details of which
were known from the previous, separate, independent reconstruction of the Apollo 10
Lunar Module software Luminary 69/2. The now-reconstructed 
Comanche 51 source code was verified by assembling it and checking that the assembled 
code had the expected known-correct memory-bank checksums. Note that page numbers in 
the reconstructed code match those on the Comanche 55 or Luminary 69 printouts, although 
the source code would likely have different page numbers in a contemporary Comanche 51 listing.
<br><br>
Annotations that were not present in the contemporary source code have been added to 
the reconstructed code to justify each change relative to Comanche 55. Here's a guide 
to some of the Apollo documentation relevant to those annotations:<br>
<ul>
<li><a href="https://archive.org/stream/apertureCardBox467Part2NARASW_images#page/n89/mode/1up">
    MIT/IL engineering drawing 2021153D, sheet 3</a>.  Listing of the memory-bank 
    checksums for Comanche 51.</li>
<li><a href="https://archive.org/details/Comanche55J2k60">
       Comanche 55 (Apollo 11 CM final release) assembly listing</a>.</li>
<li><a href="http://www.ibiblio.org/apollo/listings/LUM69R2/MAIN.agc.html">
       Reconstructed Luminary69/2 (Apollo 10 LM final release) assembly listing</a>.</li>
<li><a href="https://archive.org/details/luminary6900miti">
       Luminary 69 (Apollo 10 LM initial release) assembly listing</a>.</li>
<li><a href="https://archive.org/details/Colossus249MartinPp15651719">
       Colossus 249 (Apollo 9 CM final release) assembly listing</a>.</li>
<li><a href="http://www.ibiblio.org/apollo/links.html#PGE_COLOSSUS2">
       <i>Programmed Guidance Equations for Colossus 2, Based on Comanche 55</i></a>. 
       A pseudocode representation of Comanche 55, showing change bars
       for differences from Comanche 45/2.</li>
</ul>
Among documentation not actually referenced in the annotations, there is 
<a href="https://github.com/virtualagc/virtualagc/pull/1080">
a short writeup about the reconstruction process in our software repository</a>
that may be helpful in understanding it from a different perspective.  There's also
<a href="https://www.ibiblio.org/apollo/Documents/E1142-61.pdf#page=33">a handy table</a>
that lists what the number of memory-words should be for each routine in Comanche 51,
which could make a nice double-check; however, we've not performed that double-check ourselves.
<br><br>
Comments expected to have been present in the original source code are prefixed with a single '#' symbol, 
whereas comments added later are prefixed by "##" or "###".  Report any errors 
noted by creating an 
issue report at <a href="https://github.com/rburkey2005/virtualagc/issues">the Virtual AGC
Project's GitHub repository</a>.
</td></tr></tbody></table>

<p class="nobreak">
<span style="font-family: monospace;">
<pre>
052485,000002:                                                                                                  <span class="co">## Copyright:   Public domain.</span>
052486,000003:                                                                                                  <span class="co">## Filename:    LATITUDE_LONGITUDE_SUBROUTINES.agc</span>
052487,000004:                                                                                                  <span class="co">## Purpose:     A section of Comanche revision 051.</span>
052488,000005:                                                                                                  <span class="co">##              It is part of the reconstructed source code for the</span>
052489,000006:                                                                                                  <span class="co">##              original release of the flight software for the Command</span>
052490,000007:                                                                                                  <span class="co">##              Module's (CM) Apollo Guidance Computer (AGC) for Apollo 11.</span>
052491,000008:                                                                                                  <span class="co">##              The code has been recreated from a copy of Comanche 055. It</span>
052492,000009:                                                                                                  <span class="co">##              has been adapted such that the resulting bugger words</span>
052493,000010:                                                                                                  <span class="co">##              exactly match those specified for Comanche 51 in NASA drawing</span>
052494,000011:                                                                                                  <span class="co">##              2021153D, which gives relatively high confidence that the</span>
052495,000012:                                                                                                  <span class="co">##              reconstruction is correct.</span>
052496,000013:                                                                                                  <span class="co">## Reference:   pp. 1236-1242</span>
052497,000014:                                                                                                  <span class="co">## Assembler:   yaYUL</span>
052498,000015:                                                                                                  <span class="co">## Contact:     Ron Burkey &lt;info@sandroid.org>.</span>
052499,000016:                                                                                                  <span class="co">## Website:     www.ibiblio.org/apollo/index.html</span>
052500,000017:                                                                                                  <span class="co">## Mod history: 2019-07-30 MAS  Created from Comanche 55.</span>
052501,000018: 
</pre>
</span>
</p>
<table style="text-align: left;" border="1" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<td style="white-space: nowrap; vertical-align: middle;">
<img alt="" src="Apollo32.png" style="width: 32px; height: 32px;" align="left">
</td>
<td style="vertical-align: middle;">
Page 1236
</td></tr></tbody></table>
<p class="nobreak">
<span style="font-family: monospace;">
<pre>
052503,000020:                                                                                                  <span class="co">#  SUBROUTINE TO CONVERT RAD VECTOR AT GIVEN TIME TO LAT,LONG AND ALT</span>
052504,000021: 
052505,000022:                                                                                                  <span class="co">#  CALLING SEQUENCE</span>
052506,000023:                                                                                                  <span class="co">#        L-1     CALL</span>
052507,000024:                                                                                                  <span class="co">#        L               LAT-LONG</span>
052508,000025: 
052509,000026:                                                                                                  <span class="co">#  SUBROUTINES USED</span>
052510,000027:                                                                                                  <span class="co">#        R-TO-RP, ARCTAN, SETGAMMA, SETRE</span>
052511,000028: 
052512,000029:                                                                                                  <span class="co">#  ERASABLE INIT. REQ.</span>
052513,000030:                                                                                                  <span class="co">#        AXO, -AYO, AZO, TEPHEM (SET AT LAUNCH TIME)</span>
052514,000031:                                                                                                  <span class="co">#        ALPHAV = POSITION VECTOR METERS B-29</span>
052515,000032:                                                                                                  <span class="co">#        MPAC -- TIME (CSECS B-28)</span>
052516,000033:                                                                                                  <span class="co">#        ERADFLAG =1, TO COMPUTE EARTH RADIUS, =0 FOR FIXED EARTH RADIUS</span>
052517,000034:                                                                                                  <span class="co">#        LUNAFLAG=0 FOR EARTH, 1 FOR MOON</span>
052518,000035: 
052519,000036:                                                                                                  <span class="co">#  OUTPUT</span>
052520,000037:                                                                                                  <span class="co">#        LATITUDE IN LAT         (REVS. B-0)</span>
052521,000038:                                                                                                  <span class="co">#        LONGITUDE IN LONG       (REVS. B-0)</span>
052522,000039:                                                                                                  <span class="co">#        ALTITUDE IN ALT METERS  B-29</span>
052523,000040: 
052524,000041: 30,3750                                           <span class="ps">BANK    </span> 30                                    
052525,000042: 13,2000                                           <span class="ps">SETLOC  </span> <a href="TAGS_FOR_RELATIVE_SETLOC_AND_BLANK_BANK_CARDS.agc.html#4C41544C4F4E47">LATLONG</a>                               
052526,000043: 13,2000                                           <span class="ps">BANK    </span>                                       
052527,000044: 
052528,000045: 13,2370                                           <span class="ps">COUNT   </span> 13/LT-LG                              
052529,000046: 
052530,000047: 13,2370  E4,1551                                  <span class="ps">EBANK=  </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#414C50484156">ALPHAV</a>                                
<a name="4C41542D4C4F4E47"></a>052531,000048: 13,2370           40220        <span class="sm">LAT-LONG</span>           <span class="in">STQ     </span> <span class="in">SETPD     </span>                            
052532,000049: 13,2371           02242                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#494E434F52504558">INCORPEX</a>                              
052533,000050: 13,2372           00001                                    0D                                    
052534,000051: 13,2373           24007                           <span class="in">STOVL   </span> 6D                                    <span class="co">#  SAVE TIME IN 6-7D FOR R-TO-RP</span>
052535,000052: 13,2374           02152                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#414C50484156">ALPHAV</a>                                
052536,000053: 13,2375           51406                           <span class="in">PUSH    </span> <span class="in">ABVAL     </span>                            <span class="co">#  0-5D= R FOR R-TO-RP</span>
052537,000054: 13,2376           16310                           <span class="in">STODL   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#414C5048414D">ALPHAM</a>                                <span class="co">#  ABS. VALUE OF R FOR ALT FORMULA BELOW</span>
052538,000055: 13,2377           11566                                    <a href="INTERPRETIVE_CONSTANTS.agc.html#5A45524F564543">ZEROVEC</a>                               <span class="co">#  SET MPAC=0 FOR EARTH, NON-ZERO FOR MOON</span>
052539,000056: 13,2400           71414                           <span class="in">BOFF    </span> <span class="in">COS       </span>                            <span class="co">#  USE COS(0) TO GET NON-ZERO IN MPAC</span>
052540,000057: 13,2401           01743                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#4C554E41464C4147">LUNAFLAG</a>                              <span class="co">#  0=EARTH, 1=MOON</span>
052541,000058: 13,2402           26403                                    <a href="#43414C4C52545250">CALLRTRP</a>                              
<a name="43414C4C52545250"></a>052542,000059: 13,2403           77624        <span class="sm">CALLRTRP</span>           <span class="in">CALL    </span>                                       
052543,000060: 13,2404           55371                                    <a href="PLANETARY_INERTIAL_ORIENTATION.agc.html#522D544F2D5250">R-TO-RP</a>                               <span class="co">#  RP VECTOR CONVERTED FROM R B-29</span>
052544,000061: 13,2405           77656                           <span class="in">UNIT    </span>                                       <span class="co">#  UNIT RP B-1</span>
052545,000062: 13,2406           36152                           <span class="in">STCALL  </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#414C50484156">ALPHAV</a>                                <span class="co">#  U2= 1/2 SINL FOR SETRE SUBR BELOW</span>
052546,000063: 13,2407           26571                                    <a href="#53455447414D4D41">SETGAMMA</a>                              <span class="co">#        SET GAMMA=B2/A2 FOR EARTH, =1 FOR MOON</span>
052547,000064: 13,2410           77624                           <span class="in">CALL    </span>                                       <span class="co">#        SCALED B-1</span>
052548,000065: 13,2411           26601                                    <a href="#5345545245">SETRE</a>                                 <span class="co">#  CALC RE METERS B-29</span>
052549,000066: 13,2412           63545                           <span class="in">DLOAD   </span> <span class="in">DSQ       </span>                            
052550,000067: 13,2413           02152                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#414C50484156">ALPHAV</a>                                
052551,000068: 13,2414           63525                           <span class="in">PDDL    </span> <span class="in">DSQ       </span>                            
052552,000069: 13,2415           02154                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#414C50484156">ALPHAV</a>     +2                         
</pre>
</span>
</p>
<table style="text-align: left;" border="1" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<td style="white-space: nowrap; vertical-align: middle;">
<img alt="" src="Apollo32.png" style="width: 32px; height: 32px;" align="left">
</td>
<td style="vertical-align: middle;">
Page 1237
</td></tr></tbody></table>
<p class="nobreak">
<span style="font-family: monospace;">
<pre>
052554,000071: 13,2416           75415                           <span class="in">DAD     </span> <span class="in">SQRT      </span>                            
052555,000072: 13,2417           76405                           <span class="in">DMP     </span> <span class="in">SL1R      </span>                            
052556,000073: 13,2420           00011                                    <a href="#47414D5250">GAMRP</a>                                 
052557,000074: 13,2421           14021                           <span class="in">STODL   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#434F535448">COSTH</a>                                 <span class="co">#  COS(LAT) B-1</span>
052558,000075: 13,2422           02156                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#414C50484156">ALPHAV</a>     +4                         
052559,000076: 13,2423           34023                           <span class="in">STCALL  </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#53494E5448">SINTH</a>                                 <span class="co">#  SIN(LAT) B-1</span>
052560,000077: 13,2424           26531                                    <a href="#41524354414E">ARCTAN</a>                                
052561,000078: 13,2425           15104                           <span class="in">STODL   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4C4154">LAT</a>                                   <span class="co">#  LAT B0</span>
052562,000079: 13,2426           02152                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#414C50484156">ALPHAV</a>                                
052563,000080: 13,2427           14021                           <span class="in">STODL   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#434F535448">COSTH</a>                                 <span class="co">#  COS(LONG) B-1</span>
052564,000081: 13,2430           02154                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#414C50484156">ALPHAV</a>     +2                         
052565,000082: 13,2431           34023                           <span class="in">STCALL  </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#53494E5448">SINTH</a>                                 <span class="co">#  SIN(LONG) B-1</span>
052566,000083: 13,2432           26531                                    <a href="#41524354414E">ARCTAN</a>                                
052567,000084: 13,2433           15106                           <span class="in">STODL   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4C4F4E47">LONG</a>                                  <span class="co">#  LONG. REVS B-0 IN RANGE -1/2 TO 1/2</span>
052568,000085: 13,2434           02310                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#414C5048414D">ALPHAM</a>                                
052569,000086: 13,2435           77625                           <span class="in">DSU     </span>                                       <span class="co">#  ALT= R-RE METERS B-29</span>
052570,000087: 13,2436           02241                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#455241444D">ERADM</a>                                 
052571,000088: 13,2437           35110                           <span class="in">STCALL  </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#414C54">ALT</a>                                   <span class="co">#  EXIT WITH ALT METERS B-29</span>
052572,000089: 13,2440           02242                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#494E434F52504558">INCORPEX</a>                              
</pre>
</span>
</p>
<table style="text-align: left;" border="1" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<td style="white-space: nowrap; vertical-align: middle;">
<img alt="" src="Apollo32.png" style="width: 32px; height: 32px;" align="left">
</td>
<td style="vertical-align: middle;">
Page 1238
</td></tr></tbody></table>
<p class="nobreak">
<span style="font-family: monospace;">
<pre>
052574,000091:                                                                                                  <span class="co">#  SUBROUTINE TO CONVERT LAT,LONG,ALT AT GIVEN TIME TO RADIUS VECTOR</span>
052575,000092: 
052576,000093:                                                                                                  <span class="co">#  CALLING SEQUENCE</span>
052577,000094:                                                                                                  <span class="co">#        L-1     CALL</span>
052578,000095:                                                                                                  <span class="co">#        L               LALOTORV</span>
052579,000096: 
052580,000097:                                                                                                  <span class="co">#  SUBROUTINES USED</span>
052581,000098:                                                                                                  <span class="co">#        SETGAMMA, SETRE, RP-TO-R</span>
052582,000099: 
052583,000100:                                                                                                  <span class="co">#  ERASABLE INIT. REQ.</span>
052584,000101:                                                                                                  <span class="co">#        AXO, AYO, AZO, TEPHEM SET AT LAUNCH TIME</span>
052585,000102:                                                                                                  <span class="co">#        LAT -- LATITUDE         (REVS B0)</span>
052586,000103:                                                                                                  <span class="co">#        LONG -- LONGITUDE       (REVS B0)</span>
052587,000104:                                                                                                  <span class="co">#        ALT -- ALTITUDE         (METERS) B-29</span>
052588,000105:                                                                                                  <span class="co">#        MPAC -- TIME            (CSECS B-28)</span>
052589,000106:                                                                                                  <span class="co">#        ERADFLAG =1 TO COMPUTE EARTH RADIUS, =0 FOR FIXED EARTH RADIUS</span>
052590,000107:                                                                                                  <span class="co">#        LUNAFLAG=0 FOR EARTH, 1 FOR MOON</span>
052591,000108: 
052592,000109:                                                                                                  <span class="co">#  OUTPUT</span>
052593,000110:                                                                                                  <span class="co">#        R-VECTOR IN ALPHAV      (METERS B-29)</span>
052594,000111: 
<a name="4C414C4F544F5256"></a>052595,000112: 13,2441           40220        <span class="sm">LALOTORV</span>           <span class="in">STQ     </span> <span class="in">SETPD     </span>                            <span class="co">#  LAT,LONG,ALT TO R VECTOR</span>
052596,000113: 13,2442           02242                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#494E434F52504558">INCORPEX</a>                              
052597,000114: 13,2443           00001                                    0D                                    
052598,000115: 13,2444           34007                           <span class="in">STCALL  </span> 6D                                    <span class="co">#      6-7D = TIME FOR RP-TO-R</span>
052599,000116: 13,2445           26571                                    <a href="#53455447414D4D41">SETGAMMA</a>                              <span class="co">#     GAMMA = B2/A2 FOR EARTH, 1 FOR MOON B-1</span>
052600,000117: 13,2446           73545                           <span class="in">DLOAD   </span> <span class="in">SIN       </span>                            <span class="co">#            COS(LONG)COS(LAT) IN MPAC</span>
052601,000118: 13,2447           01104                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#4C4154">LAT</a>                                   <span class="co">#  UNIT  RP = SIN(LONG)COS(LAT)    2-3D</span>
052602,000119: 13,2450           65275                           <span class="in">DMPR    </span> <span class="in">PDDL      </span>                            <span class="co">#  PD 2      GAMMA*SIN(LAT)       0-1D</span>
052603,000120: 13,2451           00011                                    <a href="#47414D5250">GAMRP</a>                                 
052604,000121: 13,2452           01104                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#4C4154">LAT</a>                                   <span class="co">#      0-1D = GAMMA*SIN(LAT) B-2</span>
052605,000122: 13,2453           65346                           <span class="in">COS     </span> <span class="in">PDDL      </span>                            <span class="co">#  PD4 2-3D= COS(LAT) B-1 TEMPORARILY</span>
052606,000123: 13,2454           01106                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#4C4F4E47">LONG</a>                                  
052607,000124: 13,2455           57356                           <span class="in">SIN     </span> <span class="in">DMPR      </span>                            <span class="co">#  PD 2</span>
052608,000125: 13,2456           71525                           <span class="in">PDDL    </span> <span class="in">COS       </span>                            <span class="co">#  PD 4 2-3D= SIN(LONG)COS(LAT) B-2</span>
052609,000126: 13,2457           01104                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#4C4154">LAT</a>                                   
052610,000127: 13,2460           71525                           <span class="in">PDDL    </span> <span class="in">COS       </span>                            <span class="co">#  PD 6 4-5D= COS(LAT) B-1 TEMPORARILY</span>
052611,000128: 13,2461           01106                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#4C4F4E47">LONG</a>                                  
052612,000129: 13,2462           55475                           <span class="in">DMPR    </span> <span class="in">VDEF      </span>                            <span class="co">#  PD4 MPAC = COS(LONG)COS(LAT) B-2</span>
052613,000130: 13,2463           41456                           <span class="in">UNIT    </span> <span class="in">PUSH      </span>                            <span class="co">#      0-5D = UNIT RP FOR RP-TO-R SUBR.</span>
052614,000131: 13,2464           36152                           <span class="in">STCALL  </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#414C50484156">ALPHAV</a>                                <span class="co">#  ALPHAV +4= SINL FOR SETRE SUBR.</span>
052615,000132: 13,2465           26601                                    <a href="#5345545245">SETRE</a>                                 <span class="co">#  RE METERS B-29</span>
052616,000133: 13,2466           43145                           <span class="in">DLOAD   </span> <span class="in">BOFF      </span>                            <span class="co">#  SET MPAC = 0 FOR EARTH, NON-ZERO FOR MOON</span>
052617,000134: 13,2467           11566                                    <a href="INTERPRETIVE_CONSTANTS.agc.html#5A45524F564543">ZEROVEC</a>                               
052618,000135: 13,2470           01743                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#4C554E41464C4147">LUNAFLAG</a>                              
052619,000136: 13,2471           26473                                    <a href="#43414C4C52505254">CALLRPRT</a>                              
052620,000137: 13,2472           77746                           <span class="in">COS     </span>                                       <span class="co">#  USE COS(0) TO GET NON-ZERO IN MPAC</span>
<a name="43414C4C52505254"></a>052621,000138: 13,2473           77624        <span class="sm">CALLRPRT</span>           <span class="in">CALL    </span>                                       
052622,000139: 13,2474           55344                                    <a href="PLANETARY_INERTIAL_ORIENTATION.agc.html#52502D544F2D52">RP-TO-R</a>                               <span class="co">#  EXIT WITH UNIT R VECTOR IN MPAC</span>
052623,000140: 13,2475           16152                           <span class="in">STODL   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#414C50484156">ALPHAV</a>                                
052624,000141: 13,2476           02241                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#455241444D">ERADM</a>                                 
</pre>
</span>
</p>
<table style="text-align: left;" border="1" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<td style="white-space: nowrap; vertical-align: middle;">
<img alt="" src="Apollo32.png" style="width: 32px; height: 32px;" align="left">
</td>
<td style="vertical-align: middle;">
Page 1239
</td></tr></tbody></table>
<p class="nobreak">
<span style="font-family: monospace;">
<pre>
052626,000143: 13,2477           74215                           <span class="in">DAD     </span> <span class="in">VXSC      </span>                            <span class="co">#  (RE + ALT)(UNIT R) METERS B-30</span>
052627,000144: 13,2500           01110                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#414C54">ALT</a>                                   
052628,000145: 13,2501           02152                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#414C50484156">ALPHAV</a>                                
052629,000146: 13,2502           77772                           <span class="in">VSL1    </span>                                       <span class="co">#  R METERS B-29</span>
052630,000147: 13,2503           36152                           <span class="in">STCALL  </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#414C50484156">ALPHAV</a>                                <span class="co">#  EXIT WITH R IN METERS B-29</span>
052631,000148: 13,2504           02242                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#494E434F52504558">INCORPEX</a>                              
052632,000149: 
052633,000150:                                                                                                  <span class="co">#  SUBROUTINE TO COMPUTE EARTH RADIUS</span>
052634,000151: 
052635,000152:                                                                                                  <span class="co">#  INPUT</span>
052636,000153:                                                                                                  <span class="co">#        1/2 SIN LAT IN ALPHAV +4</span>
052637,000154: 
052638,000155:                                                                                                  <span class="co">#  OUTPUT</span>
052639,000156:                                                                                                  <span class="co">#        EARTH RADIUS IN ERADM AND MPAC (METERS B-29)</span>
052640,000157: 
<a name="47455445524144"></a>052641,000158: 13,2505           63545        <span class="sm">GETERAD </span>           <span class="in">DLOAD   </span> <span class="in">DSQ       </span>                            
052642,000159: 13,2506           02156                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#414C50484156">ALPHAV</a>     +4                         <span class="co">#  SIN**2(L)</span>
052643,000160: 13,2507           44352                           <span class="in">SL1     </span> <span class="in">BDSU      </span>                            
052644,000161: 13,2510           11564                                    <a href="#4450312F32">DP1/2</a>                                 <span class="co">#  COS**2(L)</span>
052645,000162: 13,2511           44275                           <span class="in">DMPR    </span> <span class="in">BDSU      </span>                            
052646,000163: 13,2512           26526                                    <a href="#4545">EE</a>                                    
052647,000164: 13,2513           11564                                    <a href="#4450312F32">DP1/2</a>                                 
052648,000165: 13,2514           75465                           <span class="in">BDDV    </span> <span class="in">SQRT      </span>                            
052649,000166: 13,2515           26522                                    <a href="#4232585343">B2XSC</a>                                 
052650,000167: 13,2516           77622                           <span class="in">SR4R    </span>                                       
052651,000168: 13,2517           02241                           <span class="in">STORE   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#455241444D">ERADM</a>                                 
052652,000169: 13,2520           77616                           <span class="in">RVQ     </span>                                       
052653,000170: 
052654,000171:                                                                                                  <span class="co">#  THE FOLLOWING CONSTANTS WERE COMPUTED WITH A=6378166, B=6356784 METERS</span>
052655,000172:                                                                                                  <span class="co">#  B2XSC = B**2 SCALED B-51</span>
052656,000173:                                                                                                  <span class="co">#  B2/A2 = B**2/A**2 SCALED B-1</span>
052657,000174:                                                                                                  <span class="co">#  EE = (1-B**2/A**2) SCALED B-0</span>
052658,000175: 
<a name="4232585343"></a>052659,000176: 13,2521           00446 00305  <span class="sm">B2XSC   </span>           <span class="ps">2DEC    </span> .0179450689                            <span class="co">#  B**2 SCALED B-51</span>
052660,000177: 
<a name="4450312F32"></a>052661,000178: 13,2523  04,3563               <span class="sm">DP1/2   </span>           <span class="ps">=       </span> <a href="INTERPRETIVE_CONSTANTS.agc.html#58554E4954">XUNIT</a>                                 
<a name="42322F4132"></a>052662,000179: 13,2523           17711 05254  <span class="sm">B2/A2   </span>           <span class="ps">2DEC    </span> .9933064884 B-1                        <span class="co">#  GAMMA= B**2/A**2 B-1</span>
052663,000180: 
<a name="4545"></a>052664,000181: 13,2525           00155 25250  <span class="sm">EE      </span>           <span class="ps">2DEC    </span> 6.6935116  E-3                        <span class="co">#  (1-B**2/A**2) B-0</span>
052665,000182: 
<a name="45524144"></a>052666,000183: 13,2527           00302 17755  <span class="sm">ERAD    </span>           <span class="ps">2DEC    </span> 6373338    B-29                       <span class="co">#  PAD RADIUS</span>
052667,000184: 
</pre>
</span>
</p>
<table style="text-align: left;" border="1" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<td style="white-space: nowrap; vertical-align: middle;">
<img alt="" src="Apollo32.png" style="width: 32px; height: 32px;" align="left">
</td>
<td style="vertical-align: middle;">
Page 1240
</td></tr></tbody></table>
<p class="nobreak">
<span style="font-family: monospace;">
<pre>
052669,000186:                                                                                                  <span class="co">#  ARCTAN SUBROUTINE</span>
052670,000187: 
052671,000188:                                                                                                  <span class="co">#  CALLING SEQUENCE</span>
052672,000189:                                                                                                  <span class="co">#        SIN THETA IN SINTH B-1</span>
052673,000190:                                                                                                  <span class="co">#        COS THETA IN COSTH B-1</span>
052674,000191:                                                                                                  <span class="co">#        CALL ARCTAN</span>
052675,000192: 
052676,000193:                                                                                                  <span class="co">#  OUTPUT</span>
052677,000194:                                                                                                  <span class="co">#        ARCTAN THETA IN MPAC AND THETA B-0 IN RANGE -1/2 TO +1/2</span>
052678,000195: 
<a name="41524354414E"></a>052679,000196: 13,2531           77600        <span class="sm">ARCTAN  </span>           <span class="in">BOV     </span>                                       
052680,000197: 13,2532           26533                                    <a href="#434C524F56464C57">CLROVFLW</a>                              
<a name="434C524F56464C57"></a>052681,000198: 13,2533           63545        <span class="sm">CLROVFLW</span>           <span class="in">DLOAD   </span> <span class="in">DSQ       </span>                            
052682,000199: 13,2534           00023                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#53494E5448">SINTH</a>                                 
052683,000200: 13,2535           63525                           <span class="in">PDDL    </span> <span class="in">DSQ       </span>                            
052684,000201: 13,2536           00021                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#434F535448">COSTH</a>                                 
052685,000202: 13,2537           77615                           <span class="in">DAD     </span>                                       
052686,000203: 13,2540           75454                           <span class="in">BZE     </span> <span class="in">SQRT      </span>                            
052687,000204: 13,2541           26557                                    <a href="#41524354414E5858">ARCTANXX</a>                              <span class="co">#  ATAN=0/0  SET THETA=0</span>
052688,000205: 13,2542           40065                           <span class="in">BDDV    </span> <span class="in">BOV       </span>                            
052689,000206: 13,2543           00023                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#53494E5448">SINTH</a>                                 
052690,000207: 13,2544           26564                                    <a href="#4154414E3D3930">ATAN=90</a>                               
052691,000208: 13,2545           67542                           <span class="in">SR1     </span> <span class="in">ASIN      </span>                            
052692,000209: 13,2546           00025                           <span class="in">STORE   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#5448455441">THETA</a>                                 
052693,000210: 13,2547           50125                           <span class="in">PDDL    </span> <span class="in">BMN       </span>                            
052694,000211: 13,2550           00021                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#434F535448">COSTH</a>                                 
052695,000212: 13,2551           26553                                    <a href="#4E4547434F53">NEGCOS</a>                                
052696,000213: 13,2552           43545                           <span class="in">DLOAD   </span> <span class="in">RVQ       </span>                            
<a name="4E4547434F53"></a>052697,000214: 13,2553           57545        <span class="sm">NEGCOS  </span>           <span class="in">DLOAD   </span> <span class="in">DCOMP     </span>                            
052698,000215: 13,2554           43244                           <span class="in">BPL     </span> <span class="in">DAD       </span>                            
052699,000216: 13,2555           26561                                    <a href="#4E45474F5554">NEGOUT</a>                                
052700,000217: 13,2556           11564                                    <a href="#4450312F32">DP1/2</a>                                 
<a name="41524354414E5858"></a>052701,000218: 13,2557           00025        <span class="sm">ARCTANXX</span>           <span class="in">STORE   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#5448455441">THETA</a>                                 
052702,000219: 13,2560           77616                           <span class="in">RVQ     </span>                                       
052703,000220: 
<a name="4E45474F5554"></a>052704,000221: 13,2561           52025        <span class="sm">NEGOUT  </span>           <span class="in">DSU     </span> <span class="in">GOTO      </span>                            
052705,000222: 13,2562           11564                                    <a href="#4450312F32">DP1/2</a>                                 
052706,000223: 13,2563           26557                                    <a href="#41524354414E5858">ARCTANXX</a>                              
<a name="4154414E3D3930"></a>052707,000224: 13,2564           75345        <span class="sm">ATAN=90 </span>           <span class="in">DLOAD   </span> <span class="in">SIGN      </span>                            
052708,000225: 13,2565           11612                                    <a href="TAGS_FOR_RELATIVE_SETLOC_AND_BLANK_BANK_CARDS.agc.html#4C4F4450312F34">LODP1/4</a>                               
052709,000226: 13,2566           00023                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#53494E5448">SINTH</a>                                 
052710,000227: 13,2567           00025                           <span class="in">STORE   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#5448455441">THETA</a>                                 
052711,000228: 13,2570           77616                           <span class="in">RVQ     </span>                                       
052712,000229: 
<a name="32445A45524F"></a>052713,000230: 13,2571  04,3565               <span class="sm">2DZERO  </span>           <span class="ps">=       </span> <a href="ORBITAL_INTEGRATION.agc.html#44505A45524F">DPZERO</a>                                
052714,000231: 
</pre>
</span>
</p>
<table style="text-align: left;" border="1" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<td style="white-space: nowrap; vertical-align: middle;">
<img alt="" src="Apollo32.png" style="width: 32px; height: 32px;" align="left">
</td>
<td style="vertical-align: middle;">
Page 1241
</td></tr></tbody></table>
<p class="nobreak">
<span style="font-family: monospace;">
<pre>
052716,000233:                                                                                                  <span class="co">#  ..... SETGAMMA SUBROUTINE .....</span>
052717,000234:                                                                                                  <span class="co">#  SUBROUTINE TO SET GAMMA FOR THE LAT-LONG AND LALOTORV SUBROUTINES</span>
052718,000235: 
052719,000236:                                                                                                  <span class="co">#  GAMMA = B**2/A**2 FOR EARTH (B-1)</span>
052720,000237:                                                                                                  <span class="co">#  GAMMA = 1 FOR MOON (B-1)</span>
052721,000238: 
052722,000239:                                                                                                  <span class="co">#  CALLING SEQUENCE</span>
052723,000240:                                                                                                  <span class="co">#        L       CALL</span>
052724,000241:                                                                                                  <span class="co">#        L+1             SETGAMMA</span>
052725,000242: 
052726,000243:                                                                                                  <span class="co">#  INPUT</span>
052727,000244:                                                                                                  <span class="co">#        LUNAFLAG=0 FOR EARTH, =1 FOR MOON</span>
052728,000245: 
052729,000246:                                                                                                  <span class="co">#  OUTPUT</span>
052730,000247:                                                                                                  <span class="co">#        GAMMA IN GAMRP (B-1)</span>
052731,000248: 
<a name="53455447414D4D41"></a>052732,000249: 13,2571           43145        <span class="sm">SETGAMMA</span>           <span class="in">DLOAD   </span> <span class="in">BOFF      </span>                            <span class="co">#  BRANCH FOR EARTH</span>
052733,000250: 13,2572           26524                                    <a href="#42322F4132">B2/A2</a>                                 <span class="co">#  EARTH GAMMA</span>
052734,000251: 13,2573           01743                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#4C554E41464C4147">LUNAFLAG</a>                              
052735,000252: 13,2574           26577                                    <a href="#534554474D4558">SETGMEX</a>                               
052736,000253: 13,2575           77735                           <span class="in">SLOAD   </span>                                       
052737,000254: 13,2576           11564                                    <a href="PLANETARY_INERTIAL_ORIENTATION.agc.html#314231">1B1</a>                                   <span class="co">#  MOON GAMMA</span>
<a name="534554474D4558"></a>052738,000255: 13,2577           00011        <span class="sm">SETGMEX </span>           <span class="in">STORE   </span> <a href="#47414D5250">GAMRP</a>                                 
052739,000256: 13,2600           77616                           <span class="in">RVQ     </span>                                       
<a name="47414D5250"></a>052740,000257: 13,2601                        <span class="sm">GAMRP   </span>           <span class="ps">=       </span> 8D                                    
052741,000258: 
</pre>
</span>
</p>
<table style="text-align: left;" border="1" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<td style="white-space: nowrap; vertical-align: middle;">
<img alt="" src="Apollo32.png" style="width: 32px; height: 32px;" align="left">
</td>
<td style="vertical-align: middle;">
Page 1242
</td></tr></tbody></table>
<p class="nobreak">
<span style="font-family: monospace;">
<pre>
052743,000260:                                                                                                  <span class="co">#  ..... SETRE SUBROUTINE .....</span>
052744,000261:                                                                                                  <span class="co">#  SUBROUTINE TO SET RE (EARTH OR MOON RADIUS)</span>
052745,000262: 
052746,000263:                                                                                                  <span class="co">#        RE = RM FOR MOON</span>
052747,000264:                                                                                                  <span class="co">#        RE = RREF FOR FIXED EARTH RADIUS OR COMPUTED RF FOR FISCHER ELLIPSOID</span>
052748,000265: 
052749,000266:                                                                                                  <span class="co">#  CALLING SEQUENCE</span>
052750,000267:                                                                                                  <span class="co">#        L       CALL</span>
052751,000268:                                                                                                  <span class="co">#        L+1             SETRE</span>
052752,000269: 
052753,000270:                                                                                                  <span class="co">#  SUBROUTINES USED</span>
052754,000271:                                                                                                  <span class="co">#        GETERAD</span>
052755,000272: 
052756,000273:                                                                                                  <span class="co">#  INPUT</span>
052757,000274:                                                                                                  <span class="co">#        ERADFLAG = 0 FOR FIXED RE, 1 FOR COMPUTED RE</span>
052758,000275:                                                                                                  <span class="co">#        ALPHAV +4 = 1/2 SINL IF GETERAD IS CALLED</span>
052759,000276:                                                                                                  <span class="co">#        LUNAFLAG = 0 FOR EARTH, =1 FOR MOON</span>
052760,000277: 
052761,000278:                                                                                                  <span class="co">#  OUTPUT</span>
052762,000279:                                                                                                  <span class="co">#        ERADM = 504RM FOR MOON (METERS B-29)</span>
052763,000280:                                                                                                  <span class="co">#        ERADM = ERAD OR COMPUTED RF FOR EARTH (METERS B-29)</span>
052764,000281: 
<a name="5345545245"></a>052765,000282: 13,2601           71220        <span class="sm">SETRE   </span>           <span class="in">STQ     </span> <span class="in">DLOAD     </span>                            
052766,000283: 13,2602           00051                                    <a href="#534554524558">SETREX</a>                                
052767,000284: 13,2603           26626                                    <a href="#353034524D">504RM</a>                                 
052768,000285: 13,2604           71214                           <span class="in">BON     </span> <span class="in">DLOAD     </span>                            <span class="co">#  BRANCH FOR MOON</span>
052769,000286: 13,2605           01703                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#4C554E41464C4147">LUNAFLAG</a>                              
052770,000287: 13,2606           26616                                    <a href="#545354524C53524D">TSTRLSRM</a>                              
052771,000288: 13,2607           26530                                    <a href="#45524144">ERAD</a>                                  
052772,000289: 13,2610           45014                           <span class="in">BOFF    </span> <span class="in">CALL      </span>                            <span class="co">#  ERADFLAG=0 FOR FIXED RE, 1 FOR COMPUTED</span>
052773,000290: 13,2611           00742                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#45524144464C4147">ERADFLAG</a>                              
052774,000291: 13,2612           26614                                    <a href="#534554525858">SETRXX</a>                                
052775,000292: 13,2613           26505                                    <a href="#47455445524144">GETERAD</a>                               
<a name="534554525858"></a>052776,000293: 13,2614           36241        <span class="sm">SETRXX  </span>           <span class="in">STCALL  </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#455241444D">ERADM</a>                                 <span class="co">#  EXIT WITH RE OR RM METERS B-29</span>
052777,000294: 13,2615           00051                                    <a href="#534554524558">SETREX</a>                                
<a name="545354524C53524D"></a>052778,000295: 13,2616           77214        <span class="sm">TSTRLSRM</span>           <span class="in">BON     </span> <span class="in">VLOAD     </span>                            <span class="co">#  ERADFLAG=0, SET R0=RLS</span>
052779,000296: 13,2617           00702                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#45524144464C4147">ERADFLAG</a>                              <span class="co">#          =1      R0=RM</span>
052780,000297: 13,2620           26614                                    <a href="#534554525858">SETRXX</a>                                
052781,000298: 13,2621           02026                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#524C53">RLS</a>                                   
052782,000299: 13,2622           64446                           <span class="in">ABVAL   </span> <span class="in">SR2R      </span>                            <span class="co">#  SCALE FROM B-27 TO B-29</span>
052783,000300: 13,2623           77650                           <span class="in">GOTO    </span>                                       
052784,000301: 13,2624           26614                                    <a href="#534554525858">SETRXX</a>                                
<a name="534554524558"></a>052785,000302: 13,2625  0000051               <span class="sm">SETREX  </span>           <span class="ps">=       </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#5332">S2</a>                                    
<a name="353034524D"></a>052786,000303: 13,2625           00065 01265  <span class="sm">504RM   </span>           <span class="ps">2DEC    </span> 1738090    B-29                       <span class="co">#  METERS B-29 (MOON RADIUS)</span>
052787,000304: 
052788,000305: 
052789,000306: 
052790,000307: 

End of include-file LATITUDE_LONGITUDE_SUBROUTINES.agc.  Parent file is <a href="MAIN.agc.html">MAIN.agc</a>
</pre>
</span>
</p>
</body>
</html>
