<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta content="text/html;charset=ISO-8859-1" http-equiv="Content-Type">
<title>Assembly listing generated by yaYUL</title>
<style type="text/css">
p.nobreak { white-space:nowrap; }
a { text-decoration:none; }
</style>
<style type="text/css">
.op{
font-weight: bold;
color: #993300;
}
</style>
<style type="text/css">
.dn{
color: #009900;
}
</style>
<style type="text/css">
.fe{
color: #FF0000;
}
</style>
<style type="text/css">
.in{
color: #FF6600;
}
</style>
<style type="text/css">
.ps{
color: #336600;
}
</style>
<style type="text/css">
.sm{
color: #0000FF;
}
</style>
<style type="text/css">
.wn{
color: #FF9900;
}
</style>
<style type="text/css">
.co{
font-style: italic;
color: #993399;
}
</style>
</head>
<body>
<p class="nobreak">
<span style="font-family: monospace;">
<pre>
<h1>Source Code</h1>
</pre>
</span>
</p>
<table style="text-align: left;" border="1" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<td style="white-space: nowrap; vertical-align: middle;">
<img alt="" src="Apollo32.png" style="width: 32px; height: 32px;" align="left">
</td>
<td style="vertical-align: middle;">
These source-code files are part of a reconstructed copy of Comanche 45, the
second release, though not the final mission release, of the Apollo 10 
Command Module (CM) Apollo Guidance Computer (AGC) software. Comanche 45 was
preceded by Comanche 44 and followed by Comanche 45/2 (the flown release). The reconstruction
is believed to be exactly accurate, but in the absence of an actual Apollo-era
listing of Comanche 45, some explanation of the reconstruction process is needed
to insure confidence in that accuracy. 
<br><br>
The starting point was the source code of Comanche 44 (itself previously accurately 
reconstructed).  Comanche 44 source code was then modified 
by incorporating changes known from contemporary documentation to have been 
made between revisions 44 and 45. The now-reconstructed Comanche 45 source code was 
verified by assembling it and checking that the assembled code had
the expected known-correct memory-bank checksums. 
Note that page numbers in the reconstructed code tend to match those in the Comanche 55, the
most-similar revision of Comanche for which we have access to an actual non-reconstructed hardcopy;
the source code would likely have different page numbers in a contemporary
Comanche 45 listing.
<br><br>
Annotations that were not present in the contemporary source code have been added to the reconstructed
code to justify each change relative to Comanche 44. Here's a guide to the Apollo documentation referenced
in those annotations:<br>
<ul>
<li><a href="https://archive.org/stream/apertureCardBox467Part2NARASW_images#page/n89/mode/1up">
    MIT/IL engineering drawing 2021153D, sheet 3</a>.  Listing of the memory-bank 
    checksums for Comanche 45.</li>
<li><a href="http://www.ibiblio.org/apollo/listings/Comanche044/MAIN.agc.html">
       Reconstructed Comanche 44 (Apollo 10 CM initial release) assembly listing</a>.</li>
<li><a href="http://www.ibiblio.org/apollo/listings/Comanche051/MAIN.agc.html">
       Reconstructed Comanche 51 (Apollo 11 CM initial release) assembly listing</a>.</li>
<li><a href="http://www.ibiblio.org/apollo/Documents/Colossus%202(A)%20Software%20Changes.pdf#view=FitH">
       Collection of Colossus 2 software anomaly reports</a>.</li>
</ul>
There is also 
<a href="https://github.com/virtualagc/virtualagc/issues/1136">
a detailed commentary about the reconstruction process</a>.
<br><br>
Comments expected to have been present in the original source code are prefixed with a single '#' symbol, 
whereas comments added later are prefixed by "##" or "###".  Report any errors 
noted by creating an 
issue report at <a href="https://github.com/rburkey2005/virtualagc/issues">the Virtual AGC
Project's GitHub repository</a>.
</td></tr></tbody></table>

<p class="nobreak">
<span style="font-family: monospace;">
<pre>
041783,000002:                                                                                                  <span class="co">## Copyright:   Public domain.</span>
041784,000003:                                                                                                  <span class="co">## Filename:    TVCRESTARTS.agc</span>
041785,000004:                                                                                                  <span class="co">## Purpose:     A section of Comanche revision 045.</span>
041786,000005:                                                                                                  <span class="co">##              It is part of the reconstructed source code for the</span>
041787,000006:                                                                                                  <span class="co">##              second release of the flight software for the Command</span>
041788,000007:                                                                                                  <span class="co">##              Module's (CM) Apollo Guidance Computer (AGC) for Apollo 10.</span>
041789,000008:                                                                                                  <span class="co">##              The code has been recreated from a copy of Comanche 055. It</span>
041790,000009:                                                                                                  <span class="co">##              has been adapted such that the resulting bugger words</span>
041791,000010:                                                                                                  <span class="co">##              exactly match those specified for Comanche 45 in NASA drawing</span>
041792,000011:                                                                                                  <span class="co">##              2021153D, which gives relatively high confidence that the</span>
041793,000012:                                                                                                  <span class="co">##              reconstruction is correct.</span>
041794,000013:                                                                                                  <span class="co">## Assembler:   yaYUL</span>
041795,000014:                                                                                                  <span class="co">## Contact:     Ron Burkey &lt;info@sandroid.org>.</span>
041796,000015:                                                                                                  <span class="co">## Website:     www.ibiblio.org/apollo/index.html</span>
041797,000016:                                                                                                  <span class="co">## Mod history: 2020-12-06 MAS  Created from Comanche 44.</span>
041798,000017: 
</pre>
</span>
</p>
<table style="text-align: left;" border="1" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<td style="white-space: nowrap; vertical-align: middle;">
<img alt="" src="Apollo32.png" style="width: 32px; height: 32px;" align="left">
</td>
<td style="vertical-align: middle;">
Page 956
</td></tr></tbody></table>
<p class="nobreak">
<span style="font-family: monospace;">
<pre>
041800,000019:                                                                                                  <span class="co">#  NAME....TVCRESTART PACKAGE, CONSISTING OF REDOTVC, ENABL1, 2, CMDSOUT, PHSCHK2, ETC.</span>
041801,000020:                                                                                                  <span class="co">#  LOG SECTION...TVCRESTARTS                     SUBROUTINE...DAPCSM</span>
041802,000021:                                                                                                  <span class="co">#  MODIFIED BY SCHLUNDT                          21 OCTOBER 1968</span>
041803,000022: 
041804,000023:                                                                                                  <span class="co">#  FUNCTIONAL DESCRIPTION....</span>
041805,000024: 
041806,000025:                                                                                                  <span class="co">#       *RESTART-PROOFS THE TVC DAPS, INCLUDING PITCHDAP, YAWDAP,</span>
041807,000026:                                                                                                  <span class="co">#        TVCEXECUTIVE, ROLLDAP, TVCINIT4, TVCDAPON, AND CSM/.M V46 SWTCHOVR.</span>
041808,000027: 
041809,000028:                                                                                                  <span class="co">#       *TVC RESTARTS DESERVE SPECIAL CONSIDERATION IN SEVERAL AREAS.</span>
041810,000029:                                                                                                  <span class="co">#        RESTART DOWN-TIME IS IMPORTANT BECAUSE OF THE TRANSIENTS INTRODUCED</span>
041811,000030:                                                                                                  <span class="co">#        BY THE THRUST VECTOR RETURN TO THE ACTUATOR MECHANICAL NULLS</span>
041812,000031:                                                                                                  <span class="co">#        FOLLOWING TVC- AND OPTICS-ERROR-COUNTER-DISENABLES (CHANNEL 12).</span>
041813,000032:                                                                                                  <span class="co">#        TVC USES A MIXTURE OF WAITLIST, T5, T6, AND JOB CALLS.  THERE IS</span>
041814,000033:                                                                                                  <span class="co">#        FILTER MEMORY (UP TO 6TH ORDER) TO BE PROTECTED IF WILD TRANSIENTS</span>
041815,000034:                                                                                                  <span class="co">#        ARE TO BE AVOIDED.  COUNTERS ARE INVOLVED FOR ONE-SHOT</span>
041816,000035:                                                                                                  <span class="co">#        CORRECTIONS AND GAIN UPDATES.  THE GIMBAL TRIM ESTIMATORS AND THE</span>
041817,000036:                                                                                                  <span class="co">#        BODY AXIS ATTITUDE ERROR INTEGRATORS INVOLVE DIGITAL SUMMATION.</span>
041818,000037:                                                                                                  <span class="co">#        DIGITAL DIFFERENTIATORS ARE INVOLVED IN THE BODY AXIS RATE ESTIMA-</span>
041819,000038:                                                                                                  <span class="co">#        TIONS AND IN THE OUTPUTTING OF ACTUATOR COMMANDS.  THERE IS AN</span>
041820,000039:                                                                                                  <span class="co">#        OFFSET-TRACKER-FILTER TO PROTECT.  ETC., ETC.</span>
041821,000040: 
041822,000041:                                                                                                  <span class="co">#       *THOSE QUANTITIES WHICH MUST BE PROTECTED ARE STORED IN TEMPORARY</span>
041823,000042:                                                                                                  <span class="co">#        REGISTERS AS THEY ARE COMPUTED, FOR UPDATING THE REAL REGISTERS</span>
041824,000043:                                                                                                  <span class="co">#        DURING COPYCYCLES.</span>
041825,000044: 
041826,000045:                                                                                                  <span class="co">#       *THE SEVERAL COPYCYCLES ARE EACH PROTECTED BY PHASE POINTS AT THEIR</span>
041827,000046:                                                                                                  <span class="co">#        BEGINNING AND AT THEIR TERMINATION.  THE PHASE POINTS ARE SIMPLY</span>
041828,000047:                                                                                                  <span class="co">#        ..INCR.. INSTRUCTIONS, EITHER ..INCR TVCEXPHS.. FOR COPYCYCLES</span>
041829,000048:                                                                                                  <span class="co">#        IN THE TVCEXECUTIVE, OR ..INCR TVCPHASE.. FOR THE PITCH AND YAW</span>
041830,000049:                                                                                                  <span class="co">#        COPYCYCLES.  INDEXING ON EACH OF THESE POINTERS THEN PERMITS A</span>
041831,000050:                                                                                                  <span class="co">#        RETURN TO THE APPROPRIATE RESTART POINTS.</span>
041832,000051: 
041833,000052:                                                                                                  <span class="co">#       *IF A RESTART OCCURS DURING EITHER COPYCYCLE, THAT COPYCYCLE IS</span>
041834,000053:                                                                                                  <span class="co">#        COMPLETED.  THEN THE NORMAL TVCINIT4....DAPINIT....PITCHDAP STARTUP</span>
041835,000054:                                                                                                  <span class="co">#        SEQUENCE IS CALLED UPON TO GET THINGS GOING AGAIN.</span>
041836,000055: 
041837,000056:                                                                                                  <span class="co">#       *TVC-ENABLE AND OPTICS-ERROR-COUNTER ENABLE MUST BE SET ASAP</span>
041838,000057:                                                                                                  <span class="co">#        (ALLOWING FOR PROCEDURAL DELAYS).  THEN THE ENGINES ARE COMMANDED</span>
041839,000058:                                                                                                  <span class="co">#        TO THE P,YACTOFF TRIM VALUES.  THE DAPS ARE THEN READY TO GO ON THE</span>
041840,000059:                                                                                                  <span class="co">#        AIR, WITH THE REGULAR STARTUP SEQUENCE, EITHER AT MRCLEAN FOR A</span>
041841,000060:                                                                                                  <span class="co">#        COMPLETE INITIALIZATION OR AT TVCINIT4 FOR A PARTIAL INITIALIZATION</span>
041842,000061: 
041843,000062:                                                                                                  <span class="co">#       *FOR RESTARTS PRIOR TO THE SETTING OF THE T5 BITS AT DOTVCON THE</span>
041844,000063:                                                                                                  <span class="co">#        PRE40.6 SECTION OF S40.6 TAKES CARE OF RE-ESTABLISHING TRIMS.</span>
041845,000064: 
041846,000065:                                                                                                  <span class="co">#       *IF A RESTART OCCURS DURING THE TVCEXEC....TVCEXFIN SEQUENCE THE</span>
041847,000066:                                                                                                  <span class="co">#        COMPUTATIONS WILL BE COMPLETED, STARTING AT THE APPROPRIATE RESTART</span>
041848,000067:                                                                                                  <span class="co">#        POINT, AFTER THE DAPS ARE READY TO GO ON THE AIR.</span>
041849,000068: 
041850,000069:                                                                                                  <span class="co">#       *IF A RESTART OCCURS PRIOR TO TVCINIT4 (TVCPHASE = -1) E.G. DURING</span>
041851,000070:                                                                                                  <span class="co">#        THE EARLY DAP INITIALIZATION PHASE, THE DAP STARTUP SEQUENCE IS</span>
041852,000071:                                                                                                  <span class="co">#        ENTERED AT MRCLEAN FOR A FULL INITIALIZATION.</span>
041853,000072: 
041854,000073:                                                                                                  <span class="co">#       *FOR RESTARTS DURING CSM/LM V46 SWITCH-OVER, TVCPHASE IS SET TO -2.</span>
041855,000074:                                                                                                  <span class="co">#        AND THE RESTART LOGIC GOES BACK TO REDO SWITCH-OVER (AFTER THE</span>
041856,000075:                                                                                                  <span class="co">#        NORMAL DAP RESTART SEQUENCE IS FOLLOWED).</span>
041857,000076: 
041858,000077:                                                                                                  <span class="co">#       *RESTARTS ARE NOT CRITICAL TO THE ROLL DAP PERFORMANCES HENCE THE</span>
041859,000078:                                                                                                  <span class="co">#        THE ROLL DAP IS MERELY RESTARTED.</span>
041860,000079: 
041861,000080:                                                                                                  <span class="co">#       *RESTARTS DURING A STROKE TEST (STROKER IS NON-ZERO) WILL CAUSE THE</span>
</pre>
</span>
</p>
<table style="text-align: left;" border="1" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<td style="white-space: nowrap; vertical-align: middle;">
<img alt="" src="Apollo32.png" style="width: 32px; height: 32px;" align="left">
</td>
<td style="vertical-align: middle;">
Page 957
</td></tr></tbody></table>
<p class="nobreak">
<span style="font-family: monospace;">
<pre>
041863,000082:                                                                                                  <span class="co">#        STROKE TEST TO BE TERMINATED.  A NEW V68 ENTRY WILL BE REQUIRED</span>
041864,000083:                                                                                                  <span class="co">#        TO GET IT GOING AGAIN (NO AUTOMATIC RESTART).</span>
041865,000084:                                                                                                  <span class="co">#   </span>
041866,000085:                                                                                                  <span class="co">#       *REDOTVC IS REACHED FOLLOWING ANY RESTART WHICH FINDS THE T5 BITS</span>
041867,000086:                                                                                                  <span class="co">#        (BITS 15,14 OF FLAGWRD6) SET FOR TVC.  DOTVCON SETS TVCPHASE = -1</span>
041868,000087:                                                                                                  <span class="co">#        AND TVC EXPHS = 0 JUST BEFORE SETTING THESE BITS, JUST BEFORE</span>
041869,000088:                                                                                                  <span class="co">#        MAKING THE T5 CALL TO TVCDAPON.  ON A NORMAL SHUTDOWN DOTVCRCS</span>
041870,000089:                                                                                                  <span class="co">#        CALLS RCSDAPON, WHICH RESETS THE T5 BITS FOR RCS.</span>
041871,000090: 
041872,000091:                                                                                                  <span class="co">#  CALLING SEQUENCE....T5, IN PARTICULAR BY ELRSKIP OF FRESH START/RESTART</span>
041873,000092: 
041874,000093:                                                                                                  <span class="co">#  NORMAL EXIT MODES....RESUME, NOQRSM, POSTJUMP (TO TVCINIT4 OR MRCLEAN)</span>
041875,000094: 
041876,000095:                                                                                                  <span class="co">#  ALARM OR ABORT EXIT MODES....NONE</span>
041877,000096: 
041878,000097:                                                                                                  <span class="co">#  SUBROUTINES CALLED....</span>
041879,000098: 
041880,000099:                                                                                                  <span class="co">#       *PCOPY+1, YCOPY+1 (PITCH AND YAW COPYCYCLES)</span>
041881,000100:                                                                                                  <span class="co">#       *ENABLE1,2, CMDSOUT (RE-ESTABLISH ACTUATOR TRIMS)</span>
041882,000101:                                                                                                  <span class="co">#       *MRCLEAN OR TVCINIT4 (TVCDAP INITIALIZATIONS)</span>
041883,000102:                                                                                                  <span class="co">#       *SWICHOVR +5 (CSM/LM V46 SWITCH-OVER)</span>
041884,000103:                                                                                                  <span class="co">#       *EXRSTRT AND TVCEXECUTIVE PHASE POINTS 1 THRU 6</span>
041885,000104:                                                                                                  <span class="co">#       *WAITLIST, IBNKCALL, POSTJUMP, ISWCALL</span>
041886,000105: 
041887,000106:                                                                                                  <span class="co">#  OTHER INTERFACES....DOTVCON AND RCSDAPON (T5 BITS), ELRSKIP (CALLS IT)</span>
041888,000107: 
041889,000108:                                                                                                  <span class="co">#  ERASABLE INITIALIZATION REQUIRED....</span>
041890,000109: 
041891,000110:                                                                                                  <span class="co">#       *T5 BITS (1,0), TVCPHASE (-2,-1,0,1,2,3), TVCEXPHS (1 THRU 6)</span>
041892,000111:                                                                                                  <span class="co">#       *TVC DAP VARIABLES</span>
041893,000112:                                                                                                  <span class="co">#       *OPERATIONS PERFORMED BY REDOTVC ARE BASED ON THE ASSUMPTION THAT</span>
041894,000113:                                                                                                  <span class="co">#        THE TVC DAPS ARE RUNNING NORMALLY</span>
041895,000114: 
041896,000115:                                                                                                  <span class="co">#  OUTPUT....</span>
041897,000116: 
041898,000117:                                                                                                  <span class="co">#       *PITCH AND YAW TVC DAP COPYCYCLES COMPLETED IF INTERUPTED</span>
041899,000118:                                                                                                  <span class="co">#       *TVCEXECUTIVE COMPLETED IF INTERUPTED</span>
041900,000119:                                                                                                  <span class="co">#       *STROKE TEST TERMINATED IF INTERRUPTED</span>
041901,000120:                                                                                                  <span class="co">#       *CSM/LM V46 SWITCH-OVER REPEATED IF INTERRUPTED</span>
041902,000121:                                                                                                  <span class="co">#       *ACTUATOR TRIMS RE-ESTABLISHED (ACTUATORS BACK ON THE AIR)</span>
041903,000122:                                                                                                  <span class="co">#       *TVC DAP INITIALIZATION AS REQUIRED</span>
041904,000123:                                                                                                  <span class="co">#       *ALL TVC DAP OPERATIONS ON THE AIR</span>
041905,000124: 
041906,000125:                                                                                                  <span class="co">#  DEBRIS....TVC TEMPORARIES IN EBANK6</span>
041907,000126: 
</pre>
</span>
</p>
<table style="text-align: left;" border="1" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<td style="white-space: nowrap; vertical-align: middle;">
<img alt="" src="Apollo32.png" style="width: 32px; height: 32px;" align="left">
</td>
<td style="vertical-align: middle;">
Page 958
</td></tr></tbody></table>
<p class="nobreak">
<span style="font-family: monospace;">
<pre>
041909,000128: 
041910,000129: 16,3135                                           <span class="ps">BANK    </span> 16                                    
041911,000130: 16,2000                                           <span class="ps">SETLOC  </span> <a href="TAGS_FOR_RELATIVE_SETLOC_AND_BLANK_BANK_CARDS.agc.html#444150524F4C4C">DAPROLL</a>                               
041912,000131: 16,2000                                           <span class="ps">BANK    </span>                                       
041913,000132: 16,3135  E6,1644                                  <span class="ps">EBANK=  </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#5456435048415345">TVCPHASE</a>                              
041914,000133: 16,3135                                           <span class="ps">COUNT*  </span> $$/RSRT                               
041915,000134: 
<a name="5245444F545643"></a>041916,000135: 16,3135           22016        <span class="sm">REDOTVC </span>           <span class="op">LXCH    </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#42414E4B52555054">BANKRUPT</a>                              <span class="co">#  TVC RESTART PACKAGE</span>
041917,000136: 16,3136           00006                           <span class="op">EXTEND  </span>                                       
041918,000137: 16,3137           22012                           <span class="op">QXCH    </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#5152555054">QRUPT</a>                                 <span class="co">#  (..TCR.. IN ..FINCOPY..)</span>
041919,000138: 
<a name="45584543504853"></a>041920,000139: 16,3140           11651        <span class="sm">EXECPHS </span>           <span class="op">CCS     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#5456434558504853">TVCEXPHS</a>                              <span class="co">#  CHECK TVCEXECUTIVE PHASE</span>
041921,000140: 16,3141           13143                           <span class="op">TCF     </span> +2                                    <span class="co">#        MUST RESTART TVCEXECUTIVE</span>
041922,000141: 16,3142           13147                           <span class="op">TCF     </span> <a href="#5456434441504853">TVCDAPHS</a>                              <span class="co">#        NO NEED TO RESTART TVCEXECUTIVE</span>
041923,000142: 
041924,000143: 16,3143           34334                           <span class="op">CAF     </span> <a href="FIXED-FIXED_CONSTANT_POOL.agc.html#4E494E45">NINE</a>                                  <span class="co">#  9CS DELAY TO FORCE EXRSTRT TO OCCUR</span>
041925,000144: 16,3144           05245                           <span class="op">TC      </span> <a href="WAITLIST.agc.html#574149544C495354">WAITLIST</a>                              <span class="co">#        BEFORE PITCHDAP, AFTER CMDSOUT</span>
041926,000145: 16,3145  E6,1651                                  <span class="ps">EBANK=  </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#5456434558504853">TVCEXPHS</a>                              
041927,000146: 16,3145           03250 34066                     <span class="ps">2CADR   </span> <a href="#45585253545254">EXRSTRT</a>                               
041928,000147: 
<a name="5456434441504853"></a>041929,000148: 16,3147           47700        <span class="sm">TVCDAPHS</span>           <span class="op">CS      </span> <a href="FIXED-FIXED_CONSTANT_POOL.agc.html#4F43543337373736">OCT37776</a>                              <span class="co">#  CHECK BITS 15 AND 1 OF TVCPHASE TO SEE</span>
041930,000149: 16,3150           71644                           <span class="op">MASK    </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#5456435048415345">TVCPHASE</a>                              <span class="co">#        DAP RESTART LOCATION (-1,1,2,3)</span>
041931,000150: 16,3151           10000                           <span class="op">CCS     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#41">A</a>                                     
041932,000151: 16,3152           13235                           <span class="op">TCF     </span> <a href="#46494E434F5059">FINCOPY</a>                               <span class="co">#        FINISH THE COPYCYCLE FIRST</span>
041933,000152: 16,3153           13160                           <span class="op">TCF     </span> <a href="#454E41424C31">ENABL1</a>                                <span class="co">#        JUST PREPARE THE OUTCOUNTERS AND GO</span>
041934,000153: 
041935,000154: 16,3154           41644                           <span class="op">CS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#5456435048415345">TVCPHASE</a>                              <span class="co">#  TEST FOR TVCPHASE = -2</span>
041936,000155: 16,3155           75016                           <span class="op">MASK    </span> <a href="FIXED-FIXED_CONSTANT_POOL.agc.html#42495432">BIT2</a>                                  <span class="co">#        (THIS INDICATES RESTART OCCURRED</span>
041937,000156: 16,3156           00006                           <span class="op">EXTEND  </span>                                       <span class="co">#         DURING CSM/LM V46 SWITCH-OVER)</span>
041938,000157: 16,3157           13241                           <span class="op">BZF     </span> <a href="#5452494D2F434D44">TRIM/CMD</a>                              <span class="co">#  NO, TVCPHASE = -1, RSTRT WAS IN TVCINIT</span>
041939,000158: 
<a name="454E41424C31"></a>041940,000159: 16,3160           35010        <span class="sm">ENABL1  </span>           <span class="op">CAF     </span> <a href="FIXED-FIXED_CONSTANT_POOL.agc.html#42495438">BIT8</a>                                  <span class="co">#  TVC ENABLE, FOLLOWED BY 40 MS (MIN) WAIT</span>
041941,000160: 16,3161           65005                           <span class="op">AD      </span> <a href="FIXED-FIXED_CONSTANT_POOL.agc.html#4249543131">BIT11</a>                                 <span class="co">#        SET BIT FOR OPTICS-DAC-ENABLE ALSO</span>
041942,000161: 16,3162           00006                           <span class="op">EXTEND  </span>                                       <span class="co">#        (ENABL1 ENTERED FROM TVCDAPHS / FINCOPY)</span>
041943,000162: 16,3163           05012                           <span class="op">WOR     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4348414E3132">CHAN12</a>                                
041944,000163: 16,3164           33254                           <span class="op">CAF     </span> <a href="#54564341444452">TVCADDR</a>                               <span class="co">#  WAIT, CALLING ENABL2 (BBCON THERE)</span>
041945,000164: 16,3165           55312                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#54354C4F43">T5LOC</a>                                 
041946,000165: 16,3166           33260                           <span class="op">CAF     </span> <a href="#54564341444452">TVCADDR</a>    +4                         <span class="co">#        60 MS (TVCEXADR)</span>
041947,000166: 16,3167           54030                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#54494D4535">TIME5</a>                                 
041948,000167: 
041949,000168: 16,3170           15333                           <span class="op">TCF     </span> <a href="WAITLIST.agc.html#524553554D45">RESUME</a>                                
041950,000169: 
<a name="454E41424C32"></a>041951,000170: 16,3171           22016        <span class="sm">ENABL2  </span>           <span class="op">LXCH    </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#42414E4B52555054">BANKRUPT</a>                              <span class="co">#  CONTINUE PREPARATION OF OUTCOUNTERS</span>
041952,000171: 
041953,000172: 16,3172           35016                           <span class="op">CAF     </span> <a href="FIXED-FIXED_CONSTANT_POOL.agc.html#42495432">BIT2</a>                                  <span class="co">#  OPTICS ERROR CNTR ENABLE, 4MS MIN WAIT</span>
041954,000173: 16,3173           00006                           <span class="op">EXTEND  </span>                                       
041955,000174: 16,3174           05012                           <span class="op">WOR     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4348414E3132">CHAN12</a>                                
</pre>
</span>
</p>
<table style="text-align: left;" border="1" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<td style="white-space: nowrap; vertical-align: middle;">
<img alt="" src="Apollo32.png" style="width: 32px; height: 32px;" align="left">
</td>
<td style="vertical-align: middle;">
Page 959		
</td></tr></tbody></table>
<p class="nobreak">
<span style="font-family: monospace;">
<pre>
041957,000176: 16,3175           33256                           <span class="op">CAF     </span> <a href="#54564341444452">TVCADDR</a>    +2                         <span class="co">#  WAIT, CALLING CMDSOUT (BBCON THERE)</span>
041958,000177: 16,3176           55312                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#54354C4F43">T5LOC</a>                                 
041959,000178: 16,3177           37700                           <span class="op">CAF     </span> <a href="FIXED-FIXED_CONSTANT_POOL.agc.html#4F43543337373736">OCT37776</a>                              <span class="co">#        20MS</span>
041960,000179: 16,3200           54030                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#54494D4535">TIME5</a>                                 
041961,000180: 
041962,000181: 16,3201           15335                           <span class="op">TCF     </span> <a href="WAITLIST.agc.html#4E4F5152534D">NOQRSM</a>                                
041963,000182: 
<a name="434D44534F5554"></a>041964,000183: 16,3202           22016        <span class="sm">CMDSOUT </span>           <span class="op">LXCH    </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#42414E4B52555054">BANKRUPT</a>                              <span class="co">#  CONTINUE PREPARATION OF OUTCOUNTERS</span>
041965,000184: 16,3203           00006                           <span class="op">EXTEND  </span>                                       
041966,000185: 16,3204           22012                           <span class="op">QXCH    </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#5152555054">QRUPT</a>                                 
041967,000186: 
041968,000187: 16,3205           45021                           <span class="op">CS      </span> <a href="FIXED-FIXED_CONSTANT_POOL.agc.html#5A45524F">ZERO</a>                                  <span class="co">#  MOST RECENT ACTUATOR COMMANDS</span>
041969,000188: 16,3206           61623                           <span class="op">AD      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#50434D44">PCMD</a>                                  <span class="co">#        (AVOID +0)</span>
041970,000189: 16,3207           54054                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#5456435049544348">TVCPITCH</a>                              
041971,000190: 16,3210           45021                           <span class="op">CS      </span> <a href="FIXED-FIXED_CONSTANT_POOL.agc.html#5A45524F">ZERO</a>                                  
041972,000191: 16,3211           61624                           <span class="op">AD      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#59434D44">YCMD</a>                                  
041973,000192: 16,3212           54053                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#545643594157">TVCYAW</a>                                
041974,000193: 
041975,000194: 16,3213           35062                           <span class="op">CAF     </span> <a href="FIXED-FIXED_CONSTANT_POOL.agc.html#5052494F36">PRIO6</a>                                 <span class="co">#  RELEASE THE COUNTERS (BITS 11,12)</span>
041976,000195: 16,3214           00006                           <span class="op">EXTEND  </span>                                       
041977,000196: 16,3215           05014                           <span class="op">WOR     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4348414E3134">CHAN14</a>                                
041978,000197: 
<a name="50485343484B32"></a>041979,000198: 16,3216           11644        <span class="sm">PHSCHK2 </span>           <span class="op">CCS     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#5456435048415345">TVCPHASE</a>                              <span class="co">#  CHECK TVCPHASE AGAIN</span>
041980,000199: 16,3217           13227                           <span class="op">TCF     </span> <a href="#43484B5354524B">CHKSTRK</a>                               
041981,000200: 16,3220           13227                           <span class="op">TCF     </span> <a href="#43484B5354524B">CHKSTRK</a>                               
041982,000201: 16,3221           10000                           <span class="op">CCS     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#41">A</a>                                     <span class="co">#  A CONTAINS THE DIMINISHED ABSOLUTE OF</span>
041983,000202: 16,3222           03225                           <span class="op">TC      </span> +3                                    <span class="co">#  TVCPHASE (-2 BECOMES +1. -1 BECOMES +0)</span>
041984,000203: 
041985,000204: 16,3223           04701                           <span class="op">TC      </span> <a href="INTER-BANK_COMMUNICATION.agc.html#504F53544A554D50">POSTJUMP</a>                              <span class="co">#        REPEAT TVC INITIALIZATION</span>
041986,000205: 16,3224           36156                           <span class="ps">CADR    </span> <a href="TVCINITIALIZE.agc.html#4D52434C45414E">MRCLEAN</a>                               <span class="co">#        (DO NOT RETURN)</span>
041987,000206: 
041988,000207: 16,3225           04740                 +3        <span class="op">TC      </span> <a href="INTER-BANK_COMMUNICATION.agc.html#49424E4B43414C4C">IBNKCALL</a>                              <span class="co">#        REPEAT CSM/LM V46 SWITCH-OVER</span>
041989,000208: 16,3226           36361                           <span class="ps">CADR    </span> <a href="TVCINITIALIZE.agc.html#53574943484F5652">SWICHOVR</a>   +5                         <span class="co">#        (RETURN TO CHECK FOR STROKE TEST)</span>
041990,000209: 
<a name="43484B5354524B"></a>041991,000210: 16,3227           11574        <span class="sm">CHKSTRK </span>           <span class="op">CCS     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#5354524F4B4552">STROKER</a>                               <span class="co">#  CHECK FOR STROKE TEST IN PROGRESS</span>
041992,000211: 16,3230           13245                           <span class="op">TCF     </span> <a href="#545354494E49544A">TSTINITJ</a>                              <span class="co">#  YES, KILL IT</span>
041993,000212: 16,3231           13233                           <span class="op">TCF     </span> +2                                    <span class="co">#  NO, PROCEED</span>
041994,000213: 16,3232           13245                           <span class="op">TCF     </span> <a href="#545354494E49544A">TSTINITJ</a>                              <span class="co">#  YES, KILL IT</span>
041995,000214: 
041996,000215: 16,3233           04701                 +4        <span class="op">TC      </span> <a href="INTER-BANK_COMMUNICATION.agc.html#504F53544A554D50">POSTJUMP</a>                              <span class="co">#        IF POSITIVE OR ZERO, RESTART AT</span>
041997,000216: 16,3234           36324                           <span class="ps">CADR    </span> <a href="TVCINITIALIZE.agc.html#545643494E495434">TVCINIT4</a>                              <span class="co">#                TVCINIT4 (ZEROS TVCPHASE, AND</span>
041998,000217:                                                                                                  <span class="co">#                CALLS TVC DAPS VIA DAPINIT)</span>
<a name="46494E434F5059"></a>041999,000218: 16,3235           51644        <span class="sm">FINCOPY </span>           <span class="op">INDEX   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#5456435048415345">TVCPHASE</a>                              <span class="co">#  PICK UP THE APPROPRIATE COPYCYCLE</span>
042000,000219: 16,3236           33254                           <span class="op">CAF     </span> <a href="#54564343414452">TVCCADR</a>                               
042001,000220: 16,3237           04744                           <span class="op">TCR     </span> <a href="INTER-BANK_COMMUNICATION.agc.html#49535743414C4C">ISWCALL</a>                               <span class="co">#  RE-ENTER THE COPYCYCLE, RETURN AT END</span>
042002,000221: 16,3240           13160                           <span class="op">TCF     </span> <a href="#454E41424C31">ENABL1</a>                                <span class="co">#  NOW PREPARE THE OUTCOUNTERS</span>
042003,000222: 
<a name="5452494D2F434D44"></a>042004,000223: 16,3241           00006        <span class="sm">TRIM/CMD</span>           <span class="op">EXTEND  </span>                                       <span class="co">#  TVCDAPON INITIALIZATION NOT COMPLETED,</span>
</pre>
</span>
</p>
<table style="text-align: left;" border="1" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<td style="white-space: nowrap; vertical-align: middle;">
<img alt="" src="Apollo32.png" style="width: 32px; height: 32px;" align="left">
</td>
<td style="vertical-align: middle;">
Page 960
</td></tr></tbody></table>
<p class="nobreak">
<span style="font-family: monospace;">
<pre>
042006,000225: 16,3242           31424                           <span class="op">DCA     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#504143544F4646">PACTOFF</a>                               <span class="co">#        EG. P,YCMD MAY NOT BE SET.  SET...</span>
042007,000226: 16,3243           53624                           <span class="op">DXCH    </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#50434D44">PCMD</a>                                  
042008,000227: 16,3244           13160                           <span class="op">TCF     </span> <a href="#454E41424C31">ENABL1</a>                                <span class="co">#  NOW PREPARE THE OUTCOUNTERS</span>
042009,000228: 
<a name="545354494E49544A"></a>042010,000229: 16,3245           35021        <span class="sm">TSTINITJ</span>           <span class="op">CAF     </span> <a href="FIXED-FIXED_CONSTANT_POOL.agc.html#5A45524F">ZERO</a>                                  <span class="co">#  DISABLE STROKE TEST (-0 SHOWS PRIOR V68)</span>
042011,000230: 16,3246           55574                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#5354524F4B4552">STROKER</a>                               <span class="co">#  (+0 MEANS NEW V68 REQUIRED FOR STARTUP)</span>
042012,000231: 
042013,000232: 16,3247           13233                           <span class="op">TCF     </span> <a href="#43484B5354524B">CHKSTRK</a>    +4                         
042014,000233: 
<a name="45585253545254"></a>042015,000234: 16,3250           51651        <span class="sm">EXRSTRT </span>           <span class="op">INDEX   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#5456434558504853">TVCEXPHS</a>                              <span class="co">#  TVCEXECUTIVE RESTARTS....GO TO</span>
042016,000235: 16,3251           33260                           <span class="op">CAF     </span> <a href="#5456434558414452">TVCEXADR</a>                              <span class="co">#        APPROPRIATE RESTART POINT</span>
042017,000236: 16,3252           50000                           <span class="op">INDEX   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#41">A</a>                                     
042018,000237: 16,3253           10000                           <span class="op">TCF     </span> 0                                     
042019,000238: 
042020,000239:                                                                                                  <span class="co">#  TVC RESTART TABLES.... ORDER IS REQUIRED.  HI-ORDER WORDS ONLY, OF 2CADRS, SINCE BBCON IS ALREADY THERE.</span>
042021,000240: 
<a name="54564341444452"></a>042022,000241: 16,3254  16,3254               <span class="sm">TVCADDR </span>           <span class="ps">=       </span> <a href="#54564343414452">TVCCADR</a>                               <span class="co">#  TABLE OF CADRS, UNUSED LOCS FOR GENADRS</span>
<a name="54564343414452"></a>042023,000242: 16,3254           03171        <span class="sm">TVCCADR </span>           <span class="ps">GENADR  </span> <a href="#454E41424C32">ENABL2</a>                                <span class="co">#  (FOR T5 CALL, UNUSED TABLE LOC)</span>
042024,000243: 16,3255           40675                 +1        <span class="ps">CADR    </span> <a href="TVCDAPS.agc.html#50434F5059">PCOPY</a>      +1                         <span class="co">#  PITCH COPYCYCLE</span>
042025,000244: 16,3256           03202                 +2        <span class="ps">GENADR  </span> <a href="#434D44534F5554">CMDSOUT</a>                               <span class="co">#  (FOR T5 CALL, UNUSED TABLE LOC)</span>
042026,000245: 16,3257           41051                 +3        <span class="ps">CADR    </span> <a href="TVCDAPS.agc.html#59434F5059">YCOPY</a>      +1                         <span class="co">#  YAW COPYCYCLE</span>
<a name="5456434558414452"></a>042027,000246: 16,3260           37772        <span class="sm">TVCEXADR</span>           <span class="ps">OCT     </span> 37772                                 <span class="co">#  (UNUSED TABLE LOC, FILL WITH 60MS, T5)</span>
042028,000247: 16,3261           03000                 +1        <span class="ps">GENADR  </span> <a href="TVCEXECUTIVE.agc.html#45584543434F5059">EXECCOPY</a>   +1                         <span class="co">#  TVCEXECUTIVE RESTART POINTS (ORDERED)</span>
042029,000248: 16,3262           03006                 +2        <span class="ps">GENADR  </span> <a href="TVCEXECUTIVE.agc.html#3153484F5443484B">1SHOTCHK</a>                              
042030,000249: 16,3263           03035                 +3        <span class="ps">GENADR  </span> <a href="TVCEXECUTIVE.agc.html#54454D50534554">TEMPSET</a>                               
042031,000250: 16,3264           03040                 +4        <span class="ps">GENADR  </span> <a href="TVCEXECUTIVE.agc.html#434F525345545550">CORSETUP</a>                              
042032,000251: 16,3265           03116                 +5        <span class="ps">GENADR  </span> <a href="TVCEXECUTIVE.agc.html#434F52434F5059">CORCOPY</a>    +1                         
042033,000252: 16,3266           03127                 +6        <span class="ps">GENADR  </span> <a href="TVCEXECUTIVE.agc.html#434E5452434F5059">CNTRCOPY</a>                              

End of include-file TVCRESTARTS.agc.  Parent file is <a href="MAIN.agc.html">MAIN.agc</a>
</pre>
</span>
</p>
</body>
</html>
